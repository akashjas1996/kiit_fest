/*!
 * VERSION: 1.19.1
 * DATE: 2017-01-17
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},r=function(e,t,i){var n,r,s=e.cycle;for(n in s)r=s[n],e[n]="function"==typeof r?r(i,t[i]):r[i%r.length];delete e.cycle},s=function(e,t,n){i.call(this,e,t,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=s.prototype.render},a=1e-10,o=i._internals,l=o.isSelector,c=o.isArray,h=s.prototype=i.to({},.1,{}),u=[];s.version="1.19.1",h.constructor=s,h.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=i.killTweensOf,s.getTweensOf=i.getTweensOf,s.lagSmoothing=i.lagSmoothing,s.ticker=i.ticker,s.render=i.render,h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},h.updateTo=function(e,t){var n,r=this.ratio,s=this.vars.immediateRender||e.immediateRender;t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in e)this.vars[n]=e[n];if(this._initted||s)if(t)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||s)for(var o,l=1/(1-r),c=this._firstPT;c;)o=c.s+c.c,c.c*=l,c.s=o-c.c,c=c._next;return this},h.render=function(e,t,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,s,l,c,h,u,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._totalTime,g=this._cycle,v=this._duration,y=this._rawPrevTime;if(e>=p-1e-7&&e>=0?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0>y||0>=e&&e>=-1e-7||y===a&&"isPause"!==this.data)&&y!==e&&(i=!0,y>a&&(r="onReverseComplete")),this._rawPrevTime=d=!t||e||y===e?e:a)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===v&&y>0)&&(r="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(y>=0&&(i=!0),this._rawPrevTime=d=!t||e||y===e?e:a)),this._initted||(i=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(l=v+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&e>=m&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(c=this._time/v,h=this._easeType,u=this._easePower,(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===u?c*=c:2===u?c*=c*c:3===u?c*=c*c*c:4===u&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:this._time/v<.5?this.ratio=c/2:this.ratio=1-c/2):this.ratio=this._ease.getRatio(this._time/v)),f===this._time&&!i&&g===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=f,this._totalTime=m,this._rawPrevTime=y,this._cycle=g,o.lazyTweens.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==f&&e>=0&&(this._active=!0),0===m&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._totalTime!==m||r)&&this._callback("onUpdate")),this._cycle!==g&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===v&&this._rawPrevTime===a&&d!==a&&(this._rawPrevTime=0))},s.to=function(e,t,i){return new s(e,t,i)},s.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new s(e,t,i)},s.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new s(e,t,n)},s.staggerTo=s.allTo=function(e,t,a,o,h,d,p){o=o||0;var f,m,g,v,y=0,_=[],w=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),h.apply(p||a.callbackScope||this,d||u)},x=a.cycle,T=a.startAt&&a.startAt.cycle;for(c(e)||("string"==typeof e&&(e=i.selector(e)||e),l(e)&&(e=n(e))),e=e||[],0>o&&(e=n(e),e.reverse(),o*=-1),f=e.length-1,g=0;f>=g;g++){m={};for(v in a)m[v]=a[v];if(x&&(r(m,e,g),null!=m.duration&&(t=m.duration,delete m.duration)),T){T=m.startAt={};for(v in a.startAt)T[v]=a.startAt[v];r(m.startAt,e,g)}m.delay=y+(m.delay||0),g===f&&h&&(m.onComplete=w),_[g]=new s(e[g],t,m),y+=o}return _},s.staggerFrom=s.allFrom=function(e,t,i,n,r,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,s.staggerTo(e,t,i,n,r,a,o)},s.staggerFromTo=s.allFromTo=function(e,t,i,n,r,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,s.staggerTo(e,t,n,r,a,o,l)},s.delayedCall=function(e,t,i,n,r){return new s(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},s.set=function(e,t){return new s(e,0,t)},s.isTweening=function(e){return i.getTweensOf(e,!0).length>0};var d=function(e,t){for(var n=[],r=0,s=e._first;s;)s instanceof i?n[r++]=s:(t&&(n[r++]=s),n=n.concat(d(s,t)),r=n.length),s=s._next;return n},p=s.getAllTweens=function(t){return d(e._rootTimeline,t).concat(d(e._rootFramesTimeline,t))};s.killAll=function(e,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,a,o,l=p(0!=r),c=l.length,h=i&&n&&r;for(o=0;c>o;o++)a=l[o],(h||a instanceof t||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&(e?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},s.killChildTweensOf=function(e,t){if(null!=e){var r,a,h,u,d,p=o.tweenLookup;if("string"==typeof e&&(e=i.selector(e)||e),l(e)&&(e=n(e)),c(e))for(u=e.length;--u>-1;)s.killChildTweensOf(e[u],t);else{r=[];for(h in p)for(a=p[h].target.parentNode;a;)a===e&&(r=r.concat(p[h].tweens)),a=a.parentNode;for(d=r.length,u=0;d>u;u++)t&&r[u].totalTime(r[u].totalDuration()),r[u]._enabled(!1,!1)}}};var f=function(e,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var s,a,o=p(r),l=i&&n&&r,c=o.length;--c>-1;)a=o[c],(l||a instanceof t||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&a.paused(e)};return s.pauseAll=function(e,t,i){f(!0,e,t,i)},s.resumeAll=function(e,t,i){f(!1,e,t,i)},s.globalTimeScale=function(t){var n=e._rootTimeline,r=i.ticker.time;return arguments.length?(t=t||a,n._startTime=r-(r-n._startTime)*n._timeScale/t,n=e._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/t,n._timeScale=e._rootTimeline._timeScale=t,t):n._timeScale},h.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},h.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},h.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},h.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},h.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},h.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},h.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},s},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,s=i._internals,a=n._internals={},o=s.isSelector,l=s.isArray,c=s.lazyTweens,h=s.lazyRender,u=_gsScope._gsDefine.globals,d=function(e){var t,i={};for(t in e)i[t]=e[t];return i},p=function(e,t,i){var n,r,s=e.cycle;for(n in s)r=s[n],e[n]="function"==typeof r?r(i,t[i]):r[i%r.length];delete e.cycle},f=a.pauseCallback=function(){},m=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},g=n.prototype=new t;return n.version="1.19.1",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(e,t,n,r){var s=n.repeat&&u.TweenMax||i;return t?this.add(new s(e,t,n),r):this.set(e,n,r)},g.from=function(e,t,n,r){return this.add((n.repeat&&u.TweenMax||i).from(e,t,n),r)},g.fromTo=function(e,t,n,r,s){var a=r.repeat&&u.TweenMax||i;return t?this.add(a.fromTo(e,t,n,r),s):this.set(e,r,s)},g.staggerTo=function(e,t,r,s,a,l,c,h){var u,f,g=new n({onComplete:l,onCompleteParams:c,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),v=r.cycle;for("string"==typeof e&&(e=i.selector(e)||e),e=e||[],o(e)&&(e=m(e)),s=s||0,0>s&&(e=m(e),e.reverse(),s*=-1),f=0;f<e.length;f++)u=d(r),u.startAt&&(u.startAt=d(u.startAt),u.startAt.cycle&&p(u.startAt,e,f)),v&&(p(u,e,f),null!=u.duration&&(t=u.duration,delete u.duration)),g.to(e[f],t,u,f*s);return this.add(g,a)},g.staggerFrom=function(e,t,i,n,r,s,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,r,s,a,o)},g.staggerFromTo=function(e,t,i,n,r,s,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,r,s,a,o,l)},g.call=function(e,t,n,r){return this.add(i.delayedCall(0,e,t,n),r)},g.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var r,s,a=new n(e),o=a._timeline;for(null==t&&(t=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)s=r._next,t&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=s;return o.add(a,0),a},g.add=function(r,s,a,o){var c,h,u,d,p,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof e)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",o=o||0,c=s,h=r.length,u=0;h>u;u++)l(d=r[u])&&(d=new n({tweens:d})),this.add(d,c),"string"!=typeof d&&"function"!=typeof d&&("sequence"===a?c=d._startTime+d.totalDuration()/d._timeScale:"start"===a&&(d._startTime-=d.delay())),c+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(t.prototype.add.call(this,r,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>r._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(t){if(t instanceof e){this._remove(t,!1);var i=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:i._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&l(t)){for(var n=t.length;--n>-1;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(e,i){return t.prototype._remove.call(this,e,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},g.insert=g.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},g.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},g.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},g.addPause=function(e,t,n,r){var s=i.delayedCall(0,f,n,r||this);return s.vars.onComplete=s.vars.onReverseComplete=t,s.data="isPause",this._hasPause=!0,this.add(s,e)},g.removeLabel=function(e){return delete this._labels[e],this},g.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},g._parseTimeOrLabel=function(t,i,n,r){var s;if(r instanceof e&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(s=r.length;--s>-1;)r[s]instanceof e&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(s=t.indexOf("=")))return null==this._labels[t]?n?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,n):this.duration()}return Number(t)+i},g.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(e,t){return this.play(e,t)},g.gotoAndStop=function(e,t){return this.pause(e,t)},g.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,s,a,o,l,u,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._startTime,g=this._timeScale,v=this._paused;if(e>=p-1e-7&&e>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(s=!0,o="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,e=p+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(o="onReverseComplete",s=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=s=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,0===e&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;e=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=f)for(n=this._first;n&&n._startTime<=e&&!u;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(u=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!u;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(u=n),n=n._prev;u&&(this._time=e=u._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==f&&this._first||i||l||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&e>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(d=this._time)>=f)for(n=this._first;n&&(a=n._next,d===this._time&&(!this._paused||v));)(n._active||n._startTime<=d&&!n._paused&&!n._gc)&&(u===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=a;else for(n=this._last;n&&(a=n._prev,d===this._time&&(!this._paused||v));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(u===n){for(u=n._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(e-u._startTime)*u._timeScale:(e-u._startTime)*u._timeScale,t,i),u=u._prev;u=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)}n=a}this._onUpdate&&(t||(c.length&&h(),this._callback("onUpdate"))),o&&(this._gc||(m===this._startTime||g!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(s&&(c.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o)))}},g._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(e,t,n,r){r=r||-9999999999;for(var s=[],a=this._first,o=0;a;)a._startTime<r||(a instanceof i?t!==!1&&(s[o++]=a):(n!==!1&&(s[o++]=a),e!==!1&&(s=s.concat(a.getChildren(!0,t,n)),o=s.length))),a=a._next;return s},g.getTweensOf=function(e,t){var n,r,s=this._gc,a=[],o=0;for(s&&this._enabled(!0,!0),n=i.getTweensOf(e),r=n.length;--r>-1;)(n[r].timeline===this||t&&this._contains(n[r]))&&(a[o++]=n[r]);return s&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},g.shiftChildren=function(e,t,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=e),r=r._next;if(t)for(n in s)s[n]>=i&&(s[n]+=e);return this._uncache(!0)},g._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(e,t)&&(r=!0);return r},g.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},g._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},g.totalTime=function(t,i,n){this._forcingPlayhead=!0;var r=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,r=this._last,s=999999999999;r;)t=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},g.paused=function(t){if(!t)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},g.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},n},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,i){var n=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,s=t._internals,a=s.lazyTweens,o=s.lazyRender,l=_gsScope._gsDefine.globals,c=new i(null,null,1,0),h=n.prototype=new e;return h.constructor=n,h.kill()._gc=!1,n.version="1.19.1",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},h.addCallback=function(e,i,n,r){return this.add(t.delayedCall(0,e,n,r),i)},h.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var i=this.getTweensOf(e,!1),n=i.length,r=this._parseTimeOrLabel(t);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},h.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},h.tweenTo=function(e,i){i=i||{};var n,r,s,a={ease:c,useFrames:this.usesFrames(),immediateRender:!1},o=i.repeat&&l.TweenMax||t;for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(e),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,s=new o(this,n,a),a.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&n===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||s,i.onStartParams||[])},s},h.tweenFromTo=function(e,t,i){i=i||{},e=this._parseTimeOrLabel(e),i.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(t,i);return n.duration(Math.abs(n.vars.time-e)/this._timeScale||.001)},h.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,s,l,c,h,u,d,p,f=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,g=this._time,v=this._totalTime,y=this._startTime,_=this._timeScale,w=this._rawPrevTime,x=this._paused,T=this._cycle;if(e>=f-1e-7&&e>=0)this._locked||(this._totalTime=f,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,c="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||0>w||w===r)&&w!==e&&this._first&&(h=!0,w>r&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=m,e=m+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==g||0===m&&w!==r&&(w>0||0>e&&w>=0)&&!this._locked)&&(c="onReverseComplete",s=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=s=!0,c="onReverseComplete"):w>=0&&this._first&&(h=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=m||!t||e||this._rawPrevTime===e?e:r,0===e&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;e=0,this._initted||(h=!0)}else if(0===m&&0>w&&(h=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(u=m+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&e>=v&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,e=m+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t&&m>e){if((e=this._time)>=g||this._repeat&&T!==this._cycle)for(n=this._first;n&&n._startTime<=e&&!d;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(d=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!d;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(d=n),n=n._prev;d&&(this._time=e=d._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==T&&!this._locked){var b=this._yoyo&&0!=(1&T),E=b===(this._yoyo&&0!=(1&this._cycle)),R=this._totalTime,M=this._cycle,S=this._rawPrevTime,A=this._time;if(this._totalTime=T*m,this._cycle<T?b=!b:this._totalTime+=m,this._time=g,this._rawPrevTime=0===m?w-1e-4:w,this._cycle=T,this._locked=!0,g=b?0:m,this.render(g,t,0===m),t||this._gc||this.vars.onRepeat&&(this._cycle=M,this._locked=!1,this._callback("onRepeat")),g!==this._time)return;if(E&&(this._cycle=T,this._locked=!0,g=b?m+1e-4:-1e-4,this.render(g,!0,!1)),this._locked=!1,this._paused&&!x)return;this._time=A,this._totalTime=R,this._cycle=M,this._rawPrevTime=S}if(!(this._time!==g&&this._first||i||h||d))return void(v!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&e>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(p=this._time)>=g)for(n=this._first;n&&(l=n._next,p===this._time&&(!this._paused||x));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(d===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=l;else for(n=this._last;n&&(l=n._prev,p===this._time&&(!this._paused||x));){if(n._active||n._startTime<=g&&!n._paused&&!n._gc){if(d===n){for(d=n._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,t,i),d=d._prev;d=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)}n=l}this._onUpdate&&(t||(a.length&&o(),this._callback("onUpdate"))),c&&(this._locked||this._gc||(y===this._startTime||_!==this._timeScale)&&(0===this._time||f>=this.totalDuration())&&(s&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[c]&&this._callback(c)))},h.getActive=function(e,t,i){null==e&&(e=!0),null==t&&(t=!0),null==i&&(i=!1);var n,r,s=[],a=this.getChildren(e,t,i),o=0,l=a.length;for(n=0;l>n;n++)r=a[n],r.isActive()&&(s[o++]=r);return s},h.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,i=this.getLabelsArray(),n=i.length;for(t=0;n>t;t++)if(i[t].time>e)return i[t].name;return null},h.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),i=t.length;--i>-1;)if(t[i].time<e)return t[i].name;return null},h.getLabelsArray=function(){var e,t=[],i=0;for(e in this._labels)t[i++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},h.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},h.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},h.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},h.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},h.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},h.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},h.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},h.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var e=180/Math.PI,t=[],i=[],n=[],r={},s=_gsScope._gsDefine.globals,a=function(e,t,i,n){i===n&&(i=n-(n-t)/1e6),e===t&&(t=e+(i-e)/1e6),this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},o=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(e,t,i,n){var r={a:e},s={},a={},o={c:n},l=(e+t)/2,c=(t+i)/2,h=(i+n)/2,u=(l+c)/2,d=(c+h)/2,p=(d-u)/8;return r.b=l+(e-l)/4,s.b=u+p,r.c=s.a=(r.b+s.b)/2,s.c=a.a=(u+d)/2,a.b=d-p,o.b=h+(n-h)/4,a.c=o.a=(a.b+o.b)/2,[r,s,a,o]},c=function(e,r,s,a,o){var c,h,u,d,p,f,m,g,v,y,_,w,x,T=e.length-1,b=0,E=e[0].a;for(c=0;T>c;c++)p=e[b],h=p.a,u=p.d,d=e[b+1].d,o?(_=t[c],w=i[c],x=(w+_)*r*.25/(a?.5:n[c]||.5),f=u-(u-h)*(a?.5*r:0!==_?x/_:0),m=u+(d-u)*(a?.5*r:0!==w?x/w:0),g=u-(f+((m-f)*(3*_/(_+w)+.5)/4||0))):(f=u-(u-h)*r*.5,m=u+(d-u)*r*.5,g=u-(f+m)/2),f+=g,m+=g,p.c=v=f,p.b=0!==c?E:E=p.a+.6*(p.c-p.a),p.da=u-h,p.ca=v-h,p.ba=E-h,s?(y=l(h,E,v,u),e.splice(b,1,y[0],y[1],y[2],y[3]),b+=4):b++,E=m;p=e[b],p.b=E,p.c=E+.4*(p.d-E),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=E-p.a,s&&(y=l(p.a,E,p.c,p.d),e.splice(b,1,y[0],y[1],y[2],y[3]))},h=function(e,n,r,s){var o,l,c,h,u,d,p=[];if(s)for(e=[s].concat(e),l=e.length;--l>-1;)"string"==typeof(d=e[l][n])&&"="===d.charAt(1)&&(e[l][n]=s[n]+Number(d.charAt(0)+d.substr(2)));if(0>(o=e.length-2))return p[0]=new a(e[0][n],0,0,e[-1>o?0:1][n]),p;for(l=0;o>l;l++)c=e[l][n],h=e[l+1][n],p[l]=new a(c,0,0,h),r&&(u=e[l+2][n],t[l]=(t[l]||0)+(h-c)*(h-c),i[l]=(i[l]||0)+(u-h)*(u-h));return p[l]=new a(e[l][n],0,0,e[l+1][n]),p},u=function(e,s,a,o,l,u){var d,p,f,m,g,v,y,_,w={},x=[],T=u||e[0];l="string"==typeof l?","+l+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==s&&(s=1);for(p in e[0])x.push(p);if(e.length>1){for(_=e[e.length-1],y=!0,d=x.length;--d>-1;)if(p=x[d],Math.abs(T[p]-_[p])>.05){y=!1;break}y&&(e=e.concat(),u&&e.unshift(u),e.push(e[1]),u=e[e.length-3])}for(t.length=i.length=n.length=0,d=x.length;--d>-1;)p=x[d],r[p]=-1!==l.indexOf(","+p+","),w[p]=h(e,p,r[p],u);for(d=t.length;--d>-1;)t[d]=Math.sqrt(t[d]),i[d]=Math.sqrt(i[d]);if(!o){for(d=x.length;--d>-1;)if(r[p])for(f=w[x[d]],v=f.length-1,m=0;v>m;m++)g=f[m+1].da/i[m]+f[m].da/t[m]||0,n[m]=(n[m]||0)+g*g;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=x.length,m=a?4:1;--d>-1;)p=x[d],f=w[p],c(f,s,a,o,r[p]),y&&(f.splice(0,m),f.splice(f.length-m,m));return w},d=function(e,t,i){t=t||"soft";var n,r,s,o,l,c,h,u,d,p,f,m={},g="cubic"===t?3:2,v="soft"===t,y=[];if(v&&i&&(e=[i].concat(e)),null==e||e.length<g+1)throw"invalid Bezier data";for(d in e[0])y.push(d);for(c=y.length;--c>-1;){for(d=y[c],m[d]=l=[],p=0,u=e.length,h=0;u>h;h++)n=null==i?e[h][d]:"string"==typeof(f=e[h][d])&&"="===f.charAt(1)?i[d]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&h>1&&u-1>h&&(l[p++]=(n+l[p-2])/2),l[p++]=n;for(u=p-g+1,p=0,h=0;u>h;h+=g)n=l[h],r=l[h+1],s=l[h+2],o=2===g?0:l[h+3],
l[p++]=f=3===g?new a(n,r,s,o):new a(n,(2*r+n)/3,(2*r+s)/3,s);l.length=p}return m},p=function(e,t,i){for(var n,r,s,a,o,l,c,h,u,d,p,f=1/i,m=e.length;--m>-1;)for(d=e[m],s=d.a,a=d.d-s,o=d.c-s,l=d.b-s,n=r=0,h=1;i>=h;h++)c=f*h,u=1-c,n=r-(r=(c*c*a+3*u*(c*o+u*l))*c),p=m*i+h-1,t[p]=(t[p]||0)+n*n},f=function(e,t){t=t>>0||6;var i,n,r,s,a=[],o=[],l=0,c=0,h=t-1,u=[],d=[];for(i in e)p(e[i],a,t);for(r=a.length,n=0;r>n;n++)l+=Math.sqrt(a[n]),s=n%t,d[s]=l,s===h&&(c+=l,s=n/t>>0,u[s]=d,o[s]=c,l=0,d=[]);return{length:c,lengths:o,segments:u}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,r,s,a,o,l=t.values||[],c={},h=l[0],p=t.autoRotate||i.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(n in h)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof e[n],c[n]=r?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),o||c[n]!==l[0][n]&&(o=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?u(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,o):d(l,t.type,c),this._segCount=this._beziers[n].length,this._timeRes){var m=f(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),s=p.length;--s>-1;){for(a=0;3>a;a++)n=p[s][a],this._func[n]="function"==typeof e[n]&&e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)];n=p[s][2],this._initialRotations[s]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,r,s,a,o,l,c,h,u,d=this._segCount,p=this._func,f=this._target,m=t!==this._startRatio;if(this._timeRes){if(h=this._lengths,u=this._curSeg,t*=this._length,r=this._li,t>this._l2&&d-1>r){for(c=d-1;c>r&&(this._l2=h[++r])<=t;);this._l1=h[r-1],this._li=r,this._curSeg=u=this._segments[r],this._s2=u[this._s1=this._si=0]}else if(t<this._l1&&r>0){for(;r>0&&(this._l1=h[--r])>=t;);0===r&&t<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=u=this._segments[r],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=r,t-=this._l1,r=this._si,t>this._s2&&r<u.length-1){for(c=u.length-1;c>r&&(this._s2=u[++r])<=t;);this._s1=u[r-1],this._si=r}else if(t<this._s1&&r>0){for(;r>0&&(this._s1=u[--r])>=t;);0===r&&t<this._s1?this._s1=0:r++,this._s2=u[r],this._si=r}o=(r+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else i=0>t?0:t>=1?d-1:d*t>>0,o=(t-i*(1/d))*d;for(n=1-o,r=this._props.length;--r>-1;)s=this._props[r],a=this._beziers[s][i],l=(o*o*a.da+3*n*(o*a.ca+n*a.ba))*o+a.a,this._mod[s]&&(l=this._mod[s](l,f)),p[s]?f[s](l):f[s]=l;if(this._autoRotate){var g,v,y,_,w,x,T,b=this._autoRotate;for(r=b.length;--r>-1;)s=b[r][2],x=b[r][3]||0,T=b[r][4]===!0?1:e,a=this._beziers[b[r][0]],g=this._beziers[b[r][1]],a&&g&&(a=a[i],g=g[i],v=a.a+(a.b-a.a)*o,_=a.b+(a.c-a.b)*o,v+=(_-v)*o,_+=(a.c+(a.d-a.c)*o-_)*o,y=g.a+(g.b-g.a)*o,w=g.b+(g.c-g.b)*o,y+=(w-y)*o,w+=(g.c+(g.d-g.c)*o-w)*o,l=m?Math.atan2(w-y,_-v)*T+x:this._initialRotations[r],this._mod[s]&&(l=this._mod[s](l,f)),p[s]?f[s](l):f[s]=l)}}}),g=m.prototype;m.bezierThrough=u,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(e,t,i){return new a(e,(2*t+e)/3,(2*t+i)/3,i)},m._cssRegister=function(){var e=s.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,r=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,s,a,o,l){t instanceof Array&&(t={values:t}),l=new m;var c,h,u,d=t.values,p=d.length-1,f=[],g={};if(0>p)return o;for(c=0;p>=c;c++)u=i(e,d[c],a,o,l,p!==c),f[c]=u.end;for(h in t)g[h]=t[h];return g.values=f,o=new r(e,"bezier",0,0,u.pt,2),o.data=u,o.plugin=l,o.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(c=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=u.end.left?[["left","top","rotation",c,!1]]:null!=u.end.x&&[["x","y","rotation",c,!1]]),g.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform,u.proxy.rotation=u.autoRotate.rotation||0,a._overwriteProps.push("rotation")),l._onInitTween(u.proxy,g,a._tween),o}})}},g._mod=function(e){for(var t,i=this._overwriteProps,n=i.length;--n>-1;)(t=e[i[n]])&&"function"==typeof t&&(this._mod[i[n]]=t)},g._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)e[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,e)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,n,r,s,a=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,l={},c=a.prototype=new e("css");c.constructor=a,a.version="1.19.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,u,d,p,f,m,g,v,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,b=/opacity *= *([^)]*)/i,E=/opacity:([^;]*)/i,R=/alpha\(opacity *=.+?\)/i,M=/^(rgb|hsl)/,S=/([A-Z])/g,A=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(e,t){return t.toUpperCase()},C=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,H=/,(?=[^\)]*(?:\(|$))/gi,j=/[\s,\(]/i,D=Math.PI/180,B=180/Math.PI,F={},N={style:{}},z=_gsScope.document||{createElement:function(){return N}},I=function(e,t){return z.createElementNS?z.createElementNS(t||"http://www.w3.org/1999/xhtml",e):z.createElement(e)},q=I("div"),X=I("img"),W=a._internals={_specialProps:l},G=(_gsScope.navigator||{}).userAgent||"",Y=function(){var e=G.indexOf("Android"),t=I("a");return d=-1!==G.indexOf("Safari")&&-1===G.indexOf("Chrome")&&(-1===e||parseFloat(G.substr(e+8,2))>3),f=d&&parseFloat(G.substr(G.indexOf("Version/")+8,2))<6,p=-1!==G.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(G)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(G))&&(m=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),U=function(e){return b.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(e){_gsScope.console&&console.log(e)},Z="",Q="",K=function(e,t){t=t||q;var i,n,r=t.style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+e];);return n>=0?(Q=3===n?"ms":i[n],Z="-"+Q.toLowerCase()+"-",Q+e):null},$=z.defaultView?z.defaultView.getComputedStyle:function(){},J=a.getStyle=function(e,t,i,n,r){var s;return Y||"opacity"!==t?(!n&&e.style[t]?s=e.style[t]:(i=i||$(e))?s=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(S,"-$1").toLowerCase()):e.currentStyle&&(s=e.currentStyle[t]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):U(e)},ee=W.convertToPixels=function(e,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var o,l,c,h=C.test(i),u=e,d=q.style,p=0>n,f=1===n;if(p&&(n=-n),f&&(n*=100),"%"===r&&-1!==i.indexOf("border"))o=n/100*(h?e.clientWidth:e.clientHeight);else{if(d.cssText="border:0 solid red;position:"+J(e,"position")+";line-height:0;","%"!==r&&u.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)d[h?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(u=e.parentNode||z.body,l=u._gsCache,c=t.ticker.frame,l&&h&&l.time===c)return l.width*n/100;d[h?"width":"height"]=n+r}u.appendChild(q),o=parseFloat(q[h?"offsetWidth":"offsetHeight"]),u.removeChild(q),h&&"%"===r&&a.cacheWidths!==!1&&(l=u._gsCache=u._gsCache||{},l.time=c,l.width=o/n*100),0!==o||s||(o=ee(e,i,n,r,!0))}return f&&(o/=100),p?-o:o},te=W.calculateOffset=function(e,t,i){if("absolute"!==J(e,"position",i))return 0;var n="left"===t?"Left":"Top",r=J(e,"margin"+n,i);return e["offset"+n]-(ee(e,t,parseFloat(r),r.replace(T,""))||0)},ie=function(e,t){var i,n,r,s={};if(t=t||$(e,null))if(i=t.length)for(;--i>-1;)r=t[i],(-1===r.indexOf("-transform")||Pe===r)&&(s[r.replace(A,k)]=t.getPropertyValue(r));else for(i in t)(-1===i.indexOf("Transform")||Ae===i)&&(s[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===s[i]&&(s[i.replace(A,k)]=t[i]);return Y||(s.opacity=U(e)),n=Xe(e,t,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Ce&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},ne=function(e,t,i,n,r){var s,a,o,l={},c=e.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(s=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[a]="auto"!==s||"left"!==a&&"top"!==a?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof t[a]||""===t[a].replace(x,"")?s:0:te(e,a),void 0!==c[a]&&(o=new ye(c,a,c[a],o)));if(n)for(a in n)"className"!==a&&(l[a]=n[a]);return{difs:l,firstMPT:o}},re={width:["Left","Right"],height:["Top","Bottom"]},se=["marginLeft","marginRight","marginTop","marginBottom"],ae=function(e,t,i){if("svg"===(e.nodeName+"").toLowerCase())return(i||$(e))[t]||0;if(e.getCTM&&ze(e))return e.getBBox()[t]||0;var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=re[t],s=r.length;for(i=i||$(e,null);--s>-1;)n-=parseFloat(J(e,"padding"+r[s],i,!0))||0,n-=parseFloat(J(e,"border"+r[s]+"Width",i,!0))||0;return n},oe=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";(null==e||""===e)&&(e="0 0");var i,n=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":n[0],s=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":n[1];if(n.length>3&&!t){for(n=e.split(", ").join(",").split(","),e=[],i=0;i<n.length;i++)e.push(oe(n[i]));return e.join(",")}return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e=r+" "+s+(n.length>2?" "+n[2]:""),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==s.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===s.charAt(1),t.ox=parseFloat(r.replace(x,"")),t.oy=parseFloat(s.replace(x,"")),t.v=e),t||e},le=function(e,t){return"function"==typeof e&&(e=e(v,g)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},ce=function(e,t){return"function"==typeof e&&(e=e(v,g)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},he=function(e,t,i,n){var r,s,a,o,l,c=1e-6;return"function"==typeof e&&(e=e(v,g)),null==e?o=t:"number"==typeof e?o=e:(r=360,s=e.split("_"),l="="===e.charAt(1),a=(l?parseInt(e.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===e.indexOf("rad")?1:B)-(l?0:t),s.length&&(n&&(n[i]=t+a),-1!==e.indexOf("short")&&(a%=r)!==a%(r/2)&&(a=0>a?a+r:a-r),-1!==e.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(a/r|0)*r:-1!==e.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),o=t+a),1e-6>o&&o>-1e-6&&(o=0),o},ue={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},de=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,255*(1>6*e?t+(i-t)*e*6:.5>e?i:2>3*e?t+(i-t)*(2/3-e)*6:t)+.5|0},pe=a.parseColor=function(e,t){var i,n,r,s,a,o,l,c,h,u,d;if(e)if("number"==typeof e)i=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ue[e])i=ue[e];else if("#"===e.charAt(0))4===e.length&&(n=e.charAt(1),r=e.charAt(2),s=e.charAt(3),e="#"+n+n+r+r+s+s),e=parseInt(e.substr(1),16),i=[e>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(i=d=e.match(y),t){if(-1!==e.indexOf("="))return e.match(_)}else a=Number(i[0])%360/360,o=Number(i[1])/100,l=Number(i[2])/100,r=.5>=l?l*(o+1):l+o-l*o,n=2*l-r,i.length>3&&(i[3]=Number(e[3])),i[0]=de(a+1/3,n,r),i[1]=de(a,n,r),i[2]=de(a-1/3,n,r);else i=e.match(y)||ue.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ue.black;return t&&!d&&(n=i[0]/255,r=i[1]/255,s=i[2]/255,c=Math.max(n,r,s),h=Math.min(n,r,s),l=(c+h)/2,c===h?a=o=0:(u=c-h,o=l>.5?u/(2-c-h):u/(c+h),a=c===n?(r-s)/u+(s>r?6:0):c===r?(s-n)/u+2:(n-r)/u+4,a*=60),i[0]=a+.5|0,i[1]=100*o+.5|0,i[2]=100*l+.5|0),i},fe=function(e,t){var i,n,r,s=e.match(me)||[],a=0,o=s.length?"":e;for(i=0;i<s.length;i++)n=s[i],r=e.substr(a,e.indexOf(n,a)-a),a+=r.length+n.length,n=pe(n,t),3===n.length&&n.push(1),o+=r+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return o+e.substr(a)},me="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ue)me+="|"+c+"\\b";me=new RegExp(me+")","gi"),a.colorStringFilter=function(e){var t,i=e[0]+e[1];me.test(i)&&(t=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),e[0]=fe(e[0],t),e[1]=fe(e[1],t)),me.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=a.colorStringFilter);var ge=function(e,t,i,n){if(null==e)return function(e){return e};var r,s=t?(e.match(me)||[""])[0]:"",a=e.split(s).join("").match(w)||[],o=e.substr(0,e.indexOf(a[0])),l=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",h=a.length,u=h>0?a[0].replace(y,""):"";return h?r=t?function(e){var t,d,p,f;if("number"==typeof e)e+=u;else if(n&&H.test(e)){for(f=e.replace(H,"|").split("|"),p=0;p<f.length;p++)f[p]=r(f[p]);return f.join(",")}if(t=(e.match(me)||[s])[0],d=e.split(t).join("").match(w)||[],p=d.length,h>p--)for(;++p<h;)d[p]=i?d[(p-1)/2|0]:a[p];return o+d.join(c)+c+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,d;if("number"==typeof e)e+=u;else if(n&&H.test(e)){for(s=e.replace(H,"|").split("|"),d=0;d<s.length;d++)s[d]=r(s[d]);return s.join(",")}if(t=e.match(w)||[],d=t.length,h>d--)for(;++d<h;)t[d]=i?t[(d-1)/2|0]:a[d];return o+t.join(c)+l}:function(e){return e}},ve=function(e){return e=e.split(","),function(t,i,n,r,s,a,o){var l,c=(i+"").split(" ");for(o={},l=0;4>l;l++)o[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(t,o,s,a)}},ye=(W._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,r,s,a=this.data,o=a.proxy,l=a.firstMPT,c=1e-6;l;)t=o[l.v],l.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),l.t[l.p]=t,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(o.rotation,this.t):o.rotation),1===e||0===e)for(l=a.firstMPT,s=1===e?"e":"b";l;){if(i=l.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[s]=r}}else i[s]=i.s+i.xs0;l=l._next}},function(e,t,i,n,r){this.t=e,this.p=t,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),_e=(W._parseToProxy=function(e,t,i,n,r,s){var a,o,l,c,h,u=n,d={},p={},f=i._transform,m=F;for(i._transform=null,F=t,n=h=i.parse(e,t,n,r),F=m,s&&(i._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(o=n.p,p[o]=n.s+n.c,d[o]=n.s,s||(c=new ye(n,"s",o,c,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)l="xn"+a,o=n.p+"_"+l,p[o]=n.data[l],d[o]=n[l],s||(c=new ye(n,l,o,c,n.rxp[l]));n=n._next}return{proxy:d,end:p,firstMPT:c,pt:h}},W.CSSPropTween=function(e,t,n,r,a,o,l,c,h,u,d){this.t=e,this.p=t,this.s=n,this.c=r,this.n=l||t,e instanceof _e||s.push(this.n),this.r=c,this.type=o||0,h&&(this.pr=h,i=!0),this.b=void 0===u?n:u,this.e=void 0===d?n+r:d,a&&(this._next=a,a._prev=this)}),we=function(e,t,i,n,r,s){var a=new _e(e,t,i,n-i,r,-1,s);return a.b=i,a.e=a.xs0=n,a},xe=a.parseComplex=function(e,t,i,n,r,s,o,l,c,u){i=i||s||"","function"==typeof n&&(n=n(v,g)),o=new _e(e,t,0,0,o,u?2:1,null,!1,l,i,n),n+="",r&&me.test(n+i)&&(n=[i,n],a.colorStringFilter(n),i=n[0],n=n[1]);var d,p,f,m,w,x,T,b,E,R,M,S,A,P=i.split(", ").join(",").split(" "),k=n.split(", ").join(",").split(" "),C=P.length,O=h!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(P=P.join(" ").replace(H,", ").split(" "),k=k.join(" ").replace(H,", ").split(" "),C=P.length),C!==k.length&&(P=(s||"").split(" "),C=P.length),o.plugin=c,o.setRatio=u,me.lastIndex=0,d=0;C>d;d++)if(m=P[d],w=k[d],(b=parseFloat(m))||0===b)o.appendXtra("",b,le(w,b),w.replace(_,""),O&&-1!==w.indexOf("px"),!0);else if(r&&me.test(m))S=w.indexOf(")")+1,S=")"+(S?w.substr(S):""),A=-1!==w.indexOf("hsl")&&Y,m=pe(m,A),w=pe(w,A),E=m.length+w.length>6,E&&!Y&&0===w[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(k[d]).join("transparent")):(Y||(E=!1),A?o.appendXtra(E?"hsla(":"hsl(",m[0],le(w[0],m[0]),",",!1,!0).appendXtra("",m[1],le(w[1],m[1]),"%,",!1).appendXtra("",m[2],le(w[2],m[2]),E?"%,":"%"+S,!1):o.appendXtra(E?"rgba(":"rgb(",m[0],w[0]-m[0],",",!0,!0).appendXtra("",m[1],w[1]-m[1],",",!0).appendXtra("",m[2],w[2]-m[2],E?",":S,!0),E&&(m=m.length<4?1:m[3],o.appendXtra("",m,(w.length<4?1:w[3])-m,S,!1))),me.lastIndex=0;else if(x=m.match(y)){if(!(T=w.match(_))||T.length!==x.length)return o;for(f=0,p=0;p<x.length;p++)M=x[p],R=m.indexOf(M,f),o.appendXtra(m.substr(f,R-f),Number(M),le(T[p],M),"",O&&"px"===m.substr(R+M.length,2),0===p),f=R+M.length;o["xs"+o.l]+=m.substr(f)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+w:w;if(-1!==n.indexOf("=")&&o.data){for(S=o.xs0+o.data.s,d=1;d<o.l;d++)S+=o["xs"+d]+o.data["xn"+d];o.e=S+o["xs"+d]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},Te=9;for(c=_e.prototype,c.l=c.pr=0;--Te>0;)c["xn"+Te]=0,c["xs"+Te]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,i,n,r,s){var a=this,o=a.l;return a["xs"+o]+=s&&(o||a["xs"+o])?" "+e:e||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",o>0?(a.data["xn"+o]=t+i,a.rxp["xn"+o]=r,a["xn"+o]=t,a.plugin||(a.xfirst=new _e(a,"xn"+o,t,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+i},a.rxp={},a.s=t,a.c=i,a.r=r,a)):(a["xs"+o]+=t+(n||""),a)};var be=function(e,t){t=t||{},this.p=t.prefix?K(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||ge(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Ee=W._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,r,s=e.split(","),a=t.defaultValue;for(i=i||[a],n=0;n<s.length;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||a,r=new be(s[n],t)},Re=W._registerPluginProp=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Ee(e,{parser:function(e,i,n,r,s,a,c){var h=o.com.greensock.plugins[t];return h?(h._cssRegister(),l[n].parse(e,i,n,r,s,a,c)):(V("Error: "+t+" js file not loaded."),s)}})}};c=be.prototype,c.parseComplex=function(e,t,i,n,r,s){var a,o,l,c,h,u,d=this.keyword;if(this.multi&&(H.test(i)||H.test(t)?(o=t.replace(H,"|").split("|"),l=i.replace(H,"|").split("|")):d&&(o=[t],l=[i])),l){for(c=l.length>o.length?l.length:o.length,a=0;c>a;a++)t=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,d&&(h=t.indexOf(d),u=i.indexOf(d),h!==u&&(-1===u?o[a]=o[a].split(d).join(""):-1===h&&(o[a]+=" "+d)));t=o.join(", "),i=l.join(", ")}return xe(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,r,s)},c.parse=function(e,t,i,n,s,a,o){return this.parseComplex(e.style,this.format(J(e,this.p,r,!1,this.dflt)),this.format(t),s,a)},a.registerSpecialProp=function(e,t,i){Ee(e,{parser:function(e,n,r,s,a,o,l){var c=new _e(e,r,0,0,a,2,r,!1,i);return c.plugin=o,c.setRatio=t(e,n,s._tween,r),c},priority:i})},a.useSVGTransformAttr=!0;var Me,Se="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ae=K("transform"),Pe=Z+"transform",ke=K("transformOrigin"),Ce=null!==K("perspective"),Oe=W.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(a.defaultForce3D===!1||!Ce)&&(a.defaultForce3D||"auto")},Le=_gsScope.SVGElement,He=function(e,t,i){var n,r=z.createElementNS("http://www.w3.org/2000/svg",e),s=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i[n]);return t.appendChild(r),r},je=z.documentElement||{},De=function(){var e,t,i,n=m||/Android/i.test(G)&&!_gsScope.chrome;return z.createElementNS&&!n&&(e=He("svg",je),t=He("rect",e,{width:100,height:50,x:100}),i=t.getBoundingClientRect().width,t.style[ke]="50% 50%",t.style[Ae]="scaleX(0.5)",n=i===t.getBoundingClientRect().width&&!(p&&Ce),je.removeChild(e)),n}(),Be=function(e,t,i,n,r,s){var o,l,c,h,u,d,p,f,m,g,v,y,_,w,x=e._gsTransform,T=qe(e,!0);x&&(_=x.xOrigin,w=x.yOrigin),(!n||(o=n.split(" ")).length<2)&&(p=e.getBBox(),0===p.x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),t=oe(t).split(" "),o=[(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*p.width:parseFloat(t[0]))+p.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*p.height:parseFloat(t[1]))+p.y]),i.xOrigin=h=parseFloat(o[0]),i.yOrigin=u=parseFloat(o[1]),n&&T!==Ie&&(d=T[0],p=T[1],f=T[2],m=T[3],g=T[4],v=T[5],(y=d*m-p*f)&&(l=h*(m/y)+u*(-f/y)+(f*v-m*g)/y,c=h*(-p/y)+u*(d/y)-(d*v-p*g)/y,h=i.xOrigin=o[0]=l,u=i.yOrigin=o[1]=c)),x&&(s&&(i.xOffset=x.xOffset,i.yOffset=x.yOffset,x=i),r||r!==!1&&a.defaultSmoothOrigin!==!1?(l=h-_,c=u-w,x.xOffset+=l*T[0]+c*T[2]-l,x.yOffset+=l*T[1]+c*T[3]-c):x.xOffset=x.yOffset=0),s||e.setAttribute("data-svg-origin",o.join(" "))},Fe=function(e){var t,i=I("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(je.appendChild(i),i.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Fe}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return r?n.insertBefore(this,r):n.appendChild(this),je.removeChild(i),this.style.cssText=s,t},Ne=function(e){try{return e.getBBox()}catch(t){return Fe.call(e,!0)}},ze=function(e){return!(!(Le&&e.getCTM&&Ne(e))||e.parentNode&&!e.ownerSVGElement)},Ie=[1,0,0,1,0,0],qe=function(e,t){var i,n,r,s,a,o,l=e._gsTransform||new Oe,c=1e5,h=e.style;if(Ae?n=J(e,Pe,null,!0):e.currentStyle&&(n=e.currentStyle.filter.match(/(M11|M12|M21|M22)=[\d\-\.e]+/gi),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,i&&Ae&&((o="none"===$(e).display)||!e.parentNode)&&(o&&(s=h.display,h.display="block"),e.parentNode||(a=1,je.appendChild(e)),n=J(e,Pe,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,s?h.display=s:o&&Ue(h,"display"),a&&je.removeChild(e)),(l.svg||e.getCTM&&ze(e))&&(i&&-1!==(h[Ae]+"").indexOf("matrix")&&(n=h[Ae],i=0),r=e.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Ie;for(r=(n||"").match(y)||[],Te=r.length;--Te>-1;)s=Number(r[Te]),r[Te]=(a=s-(s|=0))?(1e5*a+(0>a?-.5:.5)|0)/1e5+s:s;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Xe=W.getTransform=function(e,i,n,r){if(e._gsTransform&&n&&!r)return e._gsTransform;var s,o,l,c,h,u,d=n?e._gsTransform||new Oe:new Oe,p=d.scaleX<0,f=2e-5,m=1e5,g=Ce?parseFloat(J(e,ke,i,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!e.getCTM||!ze(e)),d.svg&&(Be(e,J(e,ke,i,!1,"50% 50%")+"",d,e.getAttribute("data-svg-origin")),Me=a.useSVGTransformAttr||De),(s=qe(e))!==Ie){if(16===s.length){var y,_,w,x,T,b=s[0],E=s[1],R=s[2],M=s[3],S=s[4],A=s[5],P=s[6],k=s[7],C=s[8],O=s[9],L=s[10],H=s[12],j=s[13],D=s[14],F=s[11],N=Math.atan2(P,L);d.zOrigin&&(D=-d.zOrigin,H=C*D-s[12],j=O*D-s[13],D=L*D+d.zOrigin-s[14]),d.rotationX=N*B,N&&(x=Math.cos(-N),T=Math.sin(-N),y=S*x+C*T,_=A*x+O*T,w=P*x+L*T,C=S*-T+C*x,O=A*-T+O*x,L=P*-T+L*x,F=k*-T+F*x,S=y,A=_,P=w),N=Math.atan2(-R,L),d.rotationY=N*B,N&&(x=Math.cos(-N),T=Math.sin(-N),y=b*x-C*T,_=E*x-O*T,w=R*x-L*T,O=E*T+O*x,L=R*T+L*x,F=M*T+F*x,b=y,E=_,R=w),N=Math.atan2(E,b),d.rotation=N*B,N&&(x=Math.cos(-N),T=Math.sin(-N),b=b*x+S*T,_=E*x+A*T,A=E*-T+A*x,P=R*-T+P*x,E=_),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),d.scaleX=(Math.sqrt(b*b+E*E)*m+.5|0)/m,d.scaleY=(Math.sqrt(A*A+O*O)*m+.5|0)/m,d.scaleZ=(Math.sqrt(P*P+L*L)*m+.5|0)/m,d.rotationX||d.rotationY?d.skewX=0:(d.skewX=S||A?Math.atan2(S,A)*B+d.rotation:d.skewX||0,Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(p?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180))),d.perspective=F?1/(0>F?-F:F):0,d.x=H,d.y=j,d.z=D,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*b-d.yOrigin*S),d.y-=d.yOrigin-(d.yOrigin*E-d.xOrigin*A))}else if(!Ce||r||!s.length||d.x!==s[4]||d.y!==s[5]||!d.rotationX&&!d.rotationY){var z=s.length>=6,I=z?s[0]:1,q=s[1]||0,X=s[2]||0,W=z?s[3]:1;d.x=s[4]||0,d.y=s[5]||0,l=Math.sqrt(I*I+q*q),c=Math.sqrt(W*W+X*X),h=I||q?Math.atan2(q,I)*B:d.rotation||0,u=X||W?Math.atan2(X,W)*B+h:d.skewX||0,Math.abs(u)>90&&Math.abs(u)<270&&(p?(l*=-1,u+=0>=h?180:-180,h+=0>=h?180:-180):(c*=-1,u+=0>=u?180:-180)),d.scaleX=l,d.scaleY=c,d.rotation=h,d.skewX=u,Ce&&(d.rotationX=d.rotationY=d.z=0,d.perspective=v,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*I+d.yOrigin*X),d.y-=d.yOrigin-(d.xOrigin*q+d.yOrigin*W))}d.zOrigin=g;for(o in d)d[o]<2e-5&&d[o]>-2e-5&&(d[o]=0)}return n&&(e._gsTransform=d,d.svg&&(Me&&e.style[Ae]?t.delayedCall(.001,function(){Ue(e.style,Ae)}):!Me&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),d},We=function(e){var t,i,n=this.data,r=-n.rotation*D,s=r+n.skewX*D,a=1e5,o=(Math.cos(r)*n.scaleX*a|0)/a,l=(Math.sin(r)*n.scaleX*a|0)/a,c=(Math.sin(s)*-n.scaleY*a|0)/a,h=(Math.cos(s)*n.scaleY*a|0)/a,u=this.t.style,d=this.t.currentStyle;if(d){i=l,l=-c,c=-i,t=d.filter,u.filter="";var p,f,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+c+", M22="+h,w=n.x+g*n.xPercent/100,x=n.y+v*n.yPercent/100;if(null!=n.ox&&(p=(n.oxp?g*n.ox*.01:n.ox)-g/2,f=(n.oyp?v*n.oy*.01:n.oy)-v/2,w+=p-(p*o+f*l),x+=f-(p*c+f*h)),y?(p=g/2,f=v/2,_+=", Dx="+(p-(p*o+f*l)+w)+", Dy="+(f-(p*c+f*h)+x)+")"):_+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=t.replace(/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,_):u.filter=_+" "+t,(0===e||1===e)&&1===o&&0===l&&0===c&&1===h&&(y&&-1===_.indexOf("Dx=0, Dy=0")||b.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&u.removeAttribute("filter")),!y){var E,R,M,S=8>m?1:-1;for(p=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>o?-o:o)*g+(0>l?-l:l)*v))/2+w),n.ieOffsetY=Math.round((v-((0>h?-h:h)*v+(0>c?-c:c)*g))/2+x),Te=0;4>Te;Te++)R=se[Te],E=d[R],i=-1!==E.indexOf("px")?parseFloat(E):ee(this.t,R,parseFloat(E),E.replace(T,""))||0,M=i!==n[R]?2>Te?-n.ieOffsetX:-n.ieOffsetY:2>Te?p-n.ieOffsetX:f-n.ieOffsetY,u[R]=(n[R]=Math.round(i-M*(0===Te||2===Te?1:S)))+"px"}}},Ge=W.set3DTransformRatio=W.setTransformRatio=function(e){var t,i,n,r,s,a,o,l,c,h,u,d,f,m,g,v,y,_,w,x,T,b,E,R=this.data,M=this.t.style,S=R.rotation,A=R.rotationX,P=R.rotationY,k=R.scaleX,C=R.scaleY,O=R.scaleZ,L=R.x,H=R.y,j=R.z,B=R.svg,F=R.perspective,N=R.force3D,z=R.skewY,I=R.skewX;if(z&&(I+=z,S+=z),((1===e||0===e)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!j&&!F&&!P&&!A&&1===O||Me&&B||!Ce)return void(S||I||B?(S*=D,b=I*D,E=1e5,i=Math.cos(S)*k,s=Math.sin(S)*k,n=Math.sin(S-b)*-C,a=Math.cos(S-b)*C,b&&"simple"===R.skewType&&(t=Math.tan(b-z*D),t=Math.sqrt(1+t*t),n*=t,a*=t,z&&(t=Math.tan(z*D),t=Math.sqrt(1+t*t),i*=t,s*=t)),B&&(L+=R.xOrigin-(R.xOrigin*i+R.yOrigin*n)+R.xOffset,H+=R.yOrigin-(R.xOrigin*s+R.yOrigin*a)+R.yOffset,Me&&(R.xPercent||R.yPercent)&&(g=this.t.getBBox(),L+=.01*R.xPercent*g.width,H+=.01*R.yPercent*g.height),g=1e-6,g>L&&L>-g&&(L=0),g>H&&H>-g&&(H=0)),w=(i*E|0)/E+","+(s*E|0)/E+","+(n*E|0)/E+","+(a*E|0)/E+","+L+","+H+")",B&&Me?this.t.setAttribute("transform","matrix("+w):M[Ae]=(R.xPercent||R.yPercent?"translate("+R.xPercent+"%,"+R.yPercent+"%) matrix(":"matrix(")+w):M[Ae]=(R.xPercent||R.yPercent?"translate("+R.xPercent+"%,"+R.yPercent+"%) matrix(":"matrix(")+k+",0,0,"+C+","+L+","+H+")");if(p&&(g=1e-4,g>k&&k>-g&&(k=O=2e-5),g>C&&C>-g&&(C=O=2e-5),!F||R.z||R.rotationX||R.rotationY||(F=0)),S||I)S*=D,v=i=Math.cos(S),y=s=Math.sin(S),I&&(S-=I*D,v=Math.cos(S),y=Math.sin(S),"simple"===R.skewType&&(t=Math.tan((I-z)*D),t=Math.sqrt(1+t*t),v*=t,y*=t,R.skewY&&(t=Math.tan(z*D),t=Math.sqrt(1+t*t),i*=t,s*=t))),n=-y,a=v;else{if(!(P||A||1!==O||F||B))return void(M[Ae]=(R.xPercent||R.yPercent?"translate("+R.xPercent+"%,"+R.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+H+"px,"+j+"px)"+(1!==k||1!==C?" scale("+k+","+C+")":""));i=a=1,n=s=0}h=1,r=o=l=c=u=d=0,f=F?-1/F:0,m=R.zOrigin,g=1e-6,x=",",T="0",S=P*D,S&&(v=Math.cos(S),y=Math.sin(S),l=-y,u=f*-y,r=i*y,o=s*y,h=v,f*=v,i*=v,s*=v),S=A*D,S&&(v=Math.cos(S),y=Math.sin(S),t=n*v+r*y,_=a*v+o*y,c=h*y,d=f*y,r=n*-y+r*v,o=a*-y+o*v,h*=v,f*=v,n=t,a=_),1!==O&&(r*=O,o*=O,h*=O,f*=O),1!==C&&(n*=C,a*=C,c*=C,d*=C),1!==k&&(i*=k,s*=k,l*=k,u*=k),(m||B)&&(m&&(L+=r*-m,H+=o*-m,j+=h*-m+m),B&&(L+=R.xOrigin-(R.xOrigin*i+R.yOrigin*n)+R.xOffset,H+=R.yOrigin-(R.xOrigin*s+R.yOrigin*a)+R.yOffset),g>L&&L>-g&&(L=T),g>H&&H>-g&&(H=T),g>j&&j>-g&&(j=0)),w=R.xPercent||R.yPercent?"translate("+R.xPercent+"%,"+R.yPercent+"%) matrix3d(":"matrix3d(",w+=(g>i&&i>-g?T:i)+x+(g>s&&s>-g?T:s)+x+(g>l&&l>-g?T:l),w+=x+(g>u&&u>-g?T:u)+x+(g>n&&n>-g?T:n)+x+(g>a&&a>-g?T:a),A||P||1!==O?(w+=x+(g>c&&c>-g?T:c)+x+(g>d&&d>-g?T:d)+x+(g>r&&r>-g?T:r),w+=x+(g>o&&o>-g?T:o)+x+(g>h&&h>-g?T:h)+x+(g>f&&f>-g?T:f)+x):w+=",0,0,0,0,1,0,",w+=L+x+H+x+j+x+(F?1+-j/F:1)+")",M[Ae]=w};c=Oe.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Ee("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,n,s,o,l){if(n._lastParsedTransform===l)return s;n._lastParsedTransform=l;var c,h=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[i]&&(c=l[i],l[i]=t),h&&(l.scale=h(v,e));var u,d,p,f,m,y,_,w,x,T=e._gsTransform,b=e.style,E=1e-6,R=Se.length,M=l,S={},A="transformOrigin",P=Xe(e,r,!0,M.parseTransform),k=M.transform&&("function"==typeof M.transform?M.transform(v,g):M.transform);if(n._transform=P,k&&"string"==typeof k&&Ae)d=q.style,d[Ae]=k,d.display="block",d.position="absolute",z.body.appendChild(q),u=Xe(q,null,!1),P.svg&&(y=P.xOrigin,_=P.yOrigin,u.x-=P.xOffset,u.y-=P.yOffset,(M.transformOrigin||M.svgOrigin)&&(k={},Be(e,oe(M.transformOrigin),k,M.svgOrigin,M.smoothOrigin,!0),y=k.xOrigin,_=k.yOrigin,u.x-=k.xOffset-P.xOffset,u.y-=k.yOffset-P.yOffset),(y||_)&&(w=qe(q,!0),u.x-=y-(y*w[0]+_*w[2]),u.y-=_-(y*w[1]+_*w[3]))),z.body.removeChild(q),u.perspective||(u.perspective=P.perspective),
null!=M.xPercent&&(u.xPercent=ce(M.xPercent,P.xPercent)),null!=M.yPercent&&(u.yPercent=ce(M.yPercent,P.yPercent));else if("object"==typeof M){if(u={scaleX:ce(null!=M.scaleX?M.scaleX:M.scale,P.scaleX),scaleY:ce(null!=M.scaleY?M.scaleY:M.scale,P.scaleY),scaleZ:ce(M.scaleZ,P.scaleZ),x:ce(M.x,P.x),y:ce(M.y,P.y),z:ce(M.z,P.z),xPercent:ce(M.xPercent,P.xPercent),yPercent:ce(M.yPercent,P.yPercent),perspective:ce(M.transformPerspective,P.perspective)},null!=(m=M.directionalRotation))if("object"==typeof m)for(d in m)M[d]=m[d];else M.rotation=m;"string"==typeof M.x&&-1!==M.x.indexOf("%")&&(u.x=0,u.xPercent=ce(M.x,P.xPercent)),"string"==typeof M.y&&-1!==M.y.indexOf("%")&&(u.y=0,u.yPercent=ce(M.y,P.yPercent)),u.rotation=he("rotation"in M?M.rotation:"shortRotation"in M?M.shortRotation+"_short":"rotationZ"in M?M.rotationZ:P.rotation,P.rotation,"rotation",S),Ce&&(u.rotationX=he("rotationX"in M?M.rotationX:"shortRotationX"in M?M.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",S),u.rotationY=he("rotationY"in M?M.rotationY:"shortRotationY"in M?M.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",S)),u.skewX=he(M.skewX,P.skewX),u.skewY=he(M.skewY,P.skewY)}for(Ce&&null!=M.force3D&&(P.force3D=M.force3D,f=!0),P.skewType=M.skewType||P.skewType||a.defaultSkewType,(p=P.force3D||P.z||P.rotationX||P.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==M.scale||(u.scaleZ=1);--R>-1;)x=Se[R],((k=u[x]-P[x])>1e-6||-1e-6>k||null!=M[x]||null!=F[x])&&(f=!0,s=new _e(P,x,P[x],k,s),x in S&&(s.e=S[x]),s.xs0=0,s.plugin=o,n._overwriteProps.push(s.n));return k=M.transformOrigin,P.svg&&(k||M.svgOrigin)&&(y=P.xOffset,_=P.yOffset,Be(e,oe(k),u,M.svgOrigin,M.smoothOrigin),s=we(P,"xOrigin",(T?P:u).xOrigin,u.xOrigin,s,A),s=we(P,"yOrigin",(T?P:u).yOrigin,u.yOrigin,s,A),(y!==P.xOffset||_!==P.yOffset)&&(s=we(P,"xOffset",T?y:P.xOffset,P.xOffset,s,A),s=we(P,"yOffset",T?_:P.yOffset,P.yOffset,s,A)),k="0px 0px"),(k||Ce&&p&&P.zOrigin)&&(Ae?(f=!0,x=ke,k=(k||J(e,x,r,!1,"50% 50%"))+"",s=new _e(b,x,0,0,s,-1,A),s.b=b[x],s.plugin=o,Ce?(d=P.zOrigin,k=k.split(" "),P.zOrigin=(k.length>2&&(0===d||"0px"!==k[2])?parseFloat(k[2]):d)||0,s.xs0=s.e=k[0]+" "+(k[1]||"50%")+" 0px",s=new _e(P,"zOrigin",0,0,s,-1,s.n),s.b=d,s.xs0=s.e=P.zOrigin):s.xs0=s.e=k):oe(k+"",P)),f&&(n._transformType=P.svg&&Me||!p&&3!==this._transformType?2:3),c&&(l[i]=c),h&&(l.scale=h),s},prefix:!0}),Ee("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ee("borderRadius",{defaultValue:"0px",parser:function(e,t,i,s,a,o){t=this.format(t);var l,c,h,u,d,p,f,m,g,v,y,_,w,x,T,b,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],R=e.style;for(g=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),l=t.split(" "),c=0;c<E.length;c++)this.p.indexOf("border")&&(E[c]=K(E[c])),d=u=J(e,E[c],r,!1,"0px"),-1!==d.indexOf(" ")&&(u=d.split(" "),d=u[0],u=u[1]),p=h=l[c],f=parseFloat(d),_=d.substr((f+"").length),w="="===p.charAt(1),w?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),y=p.substr((m+"").length-(0>m?1:0))||""):(m=parseFloat(p),y=p.substr((m+"").length)),""===y&&(y=n[i]||_),y!==_&&(x=ee(e,"borderLeft",f,_),T=ee(e,"borderTop",f,_),"%"===y?(d=x/g*100+"%",u=T/v*100+"%"):"em"===y?(b=ee(e,"borderLeft",1,"em"),d=x/b+"em",u=T/b+"em"):(d=x+"px",u=T+"px"),w&&(p=parseFloat(d)+m+y,h=parseFloat(u)+m+y)),a=xe(R,E[c],d+" "+u,p+" "+h,!1,"0px",a);return a},prefix:!0,formatter:ge("0px 0px 0px 0px",!1,!0)}),Ee("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,i,n,s,a){return xe(e.style,i,this.format(J(e,i,r,!1,"0px 0px")),this.format(t),!1,"0px",s)},prefix:!0,formatter:ge("0px 0px",!1,!0)}),Ee("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,s,a){var o,l,c,h,u,d,p="background-position",f=r||$(e,null),g=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(d=J(e,"backgroundImage").replace(/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,""))&&"none"!==d){for(o=g.split(" "),l=v.split(" "),X.setAttribute("src",d),c=2;--c>-1;)g=o[c],(h=-1!==g.indexOf("%"))!==(-1!==l[c].indexOf("%"))&&(u=0===c?e.offsetWidth-X.width:e.offsetHeight-X.height,o[c]=h?parseFloat(g)/100*u+"px":parseFloat(g)/u*100+"%");g=o.join(" ")}return this.parseComplex(e.style,g,v,s,a)},formatter:oe}),Ee("backgroundSize",{defaultValue:"0 0",formatter:function(e){return e+="",oe(-1===e.indexOf(" ")?e+" "+e:e)}}),Ee("perspective",{defaultValue:"0px",prefix:!0}),Ee("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ee("transformStyle",{prefix:!0}),Ee("backfaceVisibility",{prefix:!0}),Ee("userSelect",{prefix:!0}),Ee("margin",{parser:ve("marginTop,marginRight,marginBottom,marginLeft")}),Ee("padding",{parser:ve("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ee("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,s,a){var o,l,c;return 9>m?(l=e.currentStyle,c=8>m?" ":",",o="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(o=this.format(J(e,this.p,r,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,o,t,s,a)}}),Ee("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ee("autoRound,strictUnits",{parser:function(e,t,i,n,r){return r}}),Ee("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,s,a){var o=J(e,"borderTopWidth",r,!1,"0px"),l=this.format(t).split(" "),c=l[0].replace(T,"");return"px"!==c&&(o=parseFloat(o)/ee(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(o+" "+J(e,"borderTopStyle",r,!1,"solid")+" "+J(e,"borderTopColor",r,!1,"#000")),l.join(" "),s,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(me)||["#000"])[0]}}),Ee("borderWidth",{parser:ve("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ee("float,cssFloat,styleFloat",{parser:function(e,t,i,n,r,s){var a=e.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new _e(a,o,0,0,r,-1,i,!1,0,a[o],t)}});var Ye=function(e){var t,i=this.t,n=i.filter||J(this.data,"filter")||"",r=this.s+this.c*e|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!J(this.data,"filter")):(i.filter=n.replace(/alpha\(opacity *=.+?\)/i,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(b,"opacity="+r))};Ee("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,s,a){var o=parseFloat(J(e,"opacity",r,!1,"1")),l=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+o),c&&1===o&&"hidden"===J(e,"visibility",r)&&0!==t&&(o=0),Y?s=new _e(l,"opacity",o,t-o,s):(s=new _e(l,"opacity",100*o,100*(t-o),s),s.xn1=c?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=a,s.setRatio=Ye),c&&(s=new _e(l,"visibility",0,0,s,-1,null,!1,0,0!==o?"inherit":"hidden",0===t?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Ue=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(S,"-$1").toLowerCase())):e.removeAttribute(t))},Ve=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Ue(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ee("className",{parser:function(e,t,n,s,a,o,l){var c,h,u,d,p,f=e.getAttribute("class")||"",m=e.style.cssText;if(a=s._classNamePT=new _e(e,n,0,0,a,2),a.setRatio=Ve,a.pr=-11,i=!0,a.b=f,h=ie(e,r),u=e._gsClassPT){for(d={},p=u.data;p;)d[p.p]=1,p=p._next;u.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:f.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),c=ne(e,h,ie(e),l,d),e.setAttribute("class",f),a.data=c.firstMPT,e.style.cssText=m,a=a.xfirst=s.parse(e,c.difs,a,o)}});var $e=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,r,s,a=this.t.style,o=l.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(t=this.e.split(" ").join("").split(","),n=t.length;--n>-1;)i=t[n],l[i]&&(l[i].parse===o?r=!0:i="transformOrigin"===i?ke:l[i].p),Ue(a,i);r&&(Ue(a,Ae),(s=this.t._gsTransform)&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ee("clearProps",{parser:function(e,t,n,r,s){return s=new _e(e,n,0,0,s,2),s.setRatio=$e,s.e=t,s.pr=-10,s.data=r._tween,i=!0,s}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Te=c.length;Te--;)Re(c[Te]);c=a.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,o,c){if(!e.nodeType)return!1;this._target=g=e,this._tween=o,this._vars=t,v=c,h=t.autoRound,i=!1,n=t.suffixMap||a.suffixMap,r=$(e,""),s=this._overwriteProps;var p,m,y,_,w,x,T,b,R,M=e.style;if(u&&""===M.zIndex&&("auto"===(p=J(e,"zIndex",r))||""===p)&&this._addLazySet(M,"zIndex",0),"string"==typeof t&&(_=M.cssText,p=ie(e,r),M.cssText=_+";"+t,p=ne(e,p,ie(e)).difs,!Y&&E.test(t)&&(p.opacity=parseFloat(RegExp.$1)),t=p,M.cssText=_),t.className?this._firstPT=m=l.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=m=this.parse(e,t,null),this._transformType){for(R=3===this._transformType,Ae?d&&(u=!0,""===M.zIndex&&("auto"===(T=J(e,"zIndex",r))||""===T)&&this._addLazySet(M,"zIndex",0),f&&this._addLazySet(M,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(R?"visible":"hidden"))):M.zoom=1,y=m;y&&y._next;)y=y._next;b=new _e(e,"transform",0,0,null,2),this._linkCSSP(b,null,y),b.setRatio=Ae?Ge:We,b.data=this._transform||Xe(e,r,!0),b.tween=o,b.pr=-1,s.pop()}if(i){for(;m;){for(x=m._next,y=_;y&&y.pr>m.pr;)y=y._next;(m._prev=y?y._prev:w)?m._prev._next=m:_=m,(m._next=y)?y._prev=m:w=m,m=x}this._firstPT=_}return!0},c.parse=function(e,t,i,s){var a,o,c,u,d,p,f,m,y,_,w=e.style;for(a in t)p=t[a],"function"==typeof p&&(p=p(v,g)),o=l[a],o?i=o.parse(e,p,a,this,i,s,t):(d=J(e,a,r)+"",y="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||y&&M.test(p)?(y||(p=pe(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=xe(w,a,d,p,!0,"transparent",i,0,s)):y&&j.test(p)?i=xe(w,a,d,p,!0,null,i,0,s):(c=parseFloat(d),f=c||0===c?d.substr((c+"").length):"",(""===d||"auto"===d)&&("width"===a||"height"===a?(c=ae(e,a,r),f="px"):"left"===a||"top"===a?(c=te(e,a,r),f="px"):(c="opacity"!==a?0:1,f="")),_=y&&"="===p.charAt(1),_?(u=parseInt(p.charAt(0)+"1",10),p=p.substr(2),u*=parseFloat(p),m=p.replace(T,"")):(u=parseFloat(p),m=y?p.replace(T,""):""),""===m&&(m=a in n?n[a]:f),p=u||0===u?(_?u+c:u)+m:t[a],f!==m&&""!==m&&(u||0===u)&&c&&(c=ee(e,a,c,f),"%"===m?(c/=ee(e,a,100,"%")/100,t.strictUnits!==!0&&(d=c+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?c/=ee(e,a,1,m):"px"!==m&&(u=ee(e,a,u,m),m="px"),_&&(u||0===u)&&(p=u+c+m)),_&&(u+=c),!c&&0!==c||!u&&0!==u?void 0!==w[a]&&(p||p+""!="NaN"&&null!=p)?(i=new _e(w,a,u||c||0,0,i,-1,a,!1,0,d,p),i.xs0="none"!==p||"display"!==a&&-1===a.indexOf("Style")?p:d):V("invalid "+a+" tween value: "+t[a]):(i=new _e(w,a,c,u-c,i,0,a,h!==!1&&("px"===m||"zIndex"===a),0,d,p),i.xs0=m))),s&&i&&!i.plugin&&(i.plugin=s);return i},c.setRatio=function(e){var t,i,n,r=this._firstPT,s=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(t=r.c*e+r.s,r.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+t+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(t=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+t+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},c._enableTransforms=function(e){this._transform=this._transform||Xe(this._target,r,!0),this._transformType=this._transform.svg&&Me||!e&&3!==this._transformType?2:3};var Ze=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,i){var n=this._firstPT=new _e(e,t,0,0,this._firstPT,2);n.e=i,n.setRatio=Ze,n.data=this},c._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},c._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},c._kill=function(t){var i,n,r,s=t;if(t.autoAlpha||t.alpha){s={};for(n in t)s[n]=t[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(t.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(t),n=i.plugin),i=i._next;return e.prototype._kill.call(this,s)};var Qe=function(e,t,i){var n,r,s,a;if(e.slice)for(r=e.length;--r>-1;)Qe(e[r],t,i);else for(n=e.childNodes,r=n.length;--r>-1;)s=n[r],a=s.type,s.style&&(t.push(ie(s)),i&&i.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||Qe(s,t,i)};return a.cascadeTo=function(e,i,n){var r,s,a,o,l=t.to(e,i,n),c=[l],h=[],u=[],d=[],p=t._internals.reservedProps;for(e=l._targets||l.target,Qe(e,h,d),l.render(i,!0,!0),Qe(e,u),l.render(0,!0,!0),l._enabled(!0),r=d.length;--r>-1;)if(s=ne(d[r],h[r],u[r]),s.firstMPT){s=s.difs;for(a in n)p[a]&&(s[a]=n[a]);o={};for(a in s)o[a]=h[r][a];c.push(t.fromTo(d[r],i,o,s))}return c},e.activate([a]),a},!0),function(){var e=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(e,t,i){return this._tween=i,!0}}),t=function(e){for(;e;)e.f||e.blob||(e.m=Math.round),e=e._next},i=e.prototype;i._onInitAllProps=function(){for(var e,i,n,r=this._tween,s=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=s.length,o={},l=r._propLookup.roundProps;--a>-1;)o[s[a]]=Math.round;for(a=s.length;--a>-1;)for(e=s[a],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(o):i.n===e&&(2===i.f&&i.t?t(i.t._firstPT):(this._add(i.t,e,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[e]=l)),i=n;return!1},i._add=function(e,t,i,n){this._addTween(e,t,i,i+n,t,Math.round),this._overwriteProps.push(t)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(e,t,i,n){var r,s;if("function"!=typeof e.setAttribute)return!1;for(r in t)s=t[r],"function"==typeof s&&(s=s(n,e)),this._addTween(e,"setAttribute",e.getAttribute(r)+"",s+"",r,!1,r),this._overwriteProps.push(r);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(e,t,i,n){"object"!=typeof t&&(t={rotation:t}),this.finals={};var r,s,a,o,l,c,h=t.useRadians===!0?2*Math.PI:360,u=1e-6;for(r in t)"useRadians"!==r&&(o=t[r],"function"==typeof o&&(o=o(n,e)),c=(o+"").split("_"),s=c[0],a=parseFloat("function"!=typeof e[r]?e[r]:e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]()),o=this.finals[r]="string"==typeof s&&"="===s.charAt(1)?a+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,l=o-a,c.length&&(s=c.join("_"),-1!==s.indexOf("short")&&(l%=h)!==l%(h/2)&&(l=0>l?l+h:l-h),-1!==s.indexOf("_cw")&&0>l?l=(l+9999999999*h)%h-(l/h|0)*h:-1!==s.indexOf("ccw")&&l>0&&(l=(l-9999999999*h)%h-(l/h|0)*h)),(l>1e-6||-1e-6>l)&&(this._addTween(e,r,a,a+l,r),this._overwriteProps.push(r)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,n,r=_gsScope.GreenSockGlobals||_gsScope,s=r.com.greensock,a=2*Math.PI,o=Math.PI/2,l=s._class,c=function(t,i){var n=l("easing."+t,function(){},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,n},h=e.register||function(){},u=function(e,t,i,n,r){var s=l("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return h(s,e),s},d=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},p=function(t,i){var n=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,r.config=function(e){return new n(e)},n},f=u("Back",p("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),p("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),p("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=l("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=m.prototype=new e;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,i){return new m(e,t,i)},t=l("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),g=t.prototype=new e,g.constructor=t,g.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},g.config=t.config=function(e){return new t(e)},i=l("easing.RoughEase",function(t){t=t||{};for(var i,n,r,s,a,o,l=t.taper||"none",c=[],h=0,u=0|(t.points||20),p=u,f=t.randomize!==!1,m=t.clamp===!0,g=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)i=f?Math.random():1/u*p,n=g?g.getRatio(i):i,"none"===l?r=v:"out"===l?(s=1-i,r=s*s*v):"in"===l?r=i*i*v:.5>i?(s=2*i,r=s*s*.5*v):(s=2*(1-i),r=s*s*.5*v),f?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),c[h++]={x:i,y:n};for(c.sort(function(e,t){return e.x-t.x}),o=new d(1,1,null),p=u;--p>-1;)a=c[p],o=new d(a.x,a.y,o);this._prev=new d(0,0,0!==o.t?o:o.next)},!0),g=i.prototype=new e,g.constructor=i,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new i(e)},i.ease=new i,u("Bounce",c("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),c("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),c("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),u("Circ",c("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),c("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),n=function(t,i,n){var r=l("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(1>e?e:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),s=r.prototype=new e;return s.constructor=r,s.getRatio=i,s.config=function(e,t){return new r(e,t)},r},u("Elastic",n("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),n("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),n("ElasticInOut",function(e){return(e*=2)<1?-.5*(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),u("Expo",c("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),c("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),c("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),u("Sine",c("SineOut",function(e){return Math.sin(e*o)}),c("SineIn",function(e){return 1-Math.cos(e*o)}),c("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),h(r.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(t,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e,t){"use strict";var i={},n=e.document,r=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!r.TweenLite){var s,a,o,l,c,h=function(e){var t,i=e.split("."),n=r;for(t=0;t<i.length;t++)n[i[t]]=n=n[i[t]]||{};return n},u=h("com.greensock"),d=1e-10,p=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},f=function(){},m=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),g={},v=function(n,s,a,o){this.sc=g[n]?g[n].sc:[],g[n]=this,this.gsClass=null,this.func=a;var l=[];this.check=function(c){for(var u,d,p,f,m,y=s.length,_=y;--y>-1;)(u=g[s[y]]||new v(s[y],[])).gsClass?(l[y]=u.gsClass,_--):c&&u.sc.push(this);if(0===_&&a){if(d=("com.greensock."+n).split("."),p=d.pop(),f=h(d.join("."))[p]=this.gsClass=a.apply(a,l),o)if(r[p]=i[p]=f,!(m="undefined"!=typeof module&&module.exports)&&"function"==typeof define&&define.amd)define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return f});else if(m)if(n===t){module.exports=i[t]=f;for(y in i)f[y]=i[y]}else i[t]&&(i[t][p]=f);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},y=e._gsDefine=function(e,t,i,n){return new v(e,t,i,n)},_=u._class=function(e,t,i){return t=t||function(){},y(e,[],function(){return t},i),t};y.globals=r;var w=[0,0,1,1],x=_("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?w.concat(t):w},!0),T=x.map={},b=x.register=function(e,t,i,n){for(var r,s,a,o,l=t.split(","),c=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(s=l[c],r=n?_("easing."+s,null,!0):u.easing[s]||{},a=h.length;--a>-1;)o=h[a],T[s+"."+o]=T[o+s]=r[o]=e.getRatio?e:e[o]||new e};for(o=x.prototype,o._calcEnd=!1,o.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=s.length;--a>-1;)o=s[a]+",Power"+a,b(new x(null,null,1,a),o,"easeOut",!0),b(new x(null,null,2,a),o,"easeIn"+(0===a?",easeNone":"")),b(new x(null,null,3,a),o,"easeInOut");T.linear=u.easing.Linear.easeIn,T.swing=u.easing.Quad.easeInOut;var E=_("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});o=E.prototype,o.addEventListener=function(e,t,i,n,r){r=r||0;var s,a,o=this._listeners[e],h=0;for(this!==l||c||l.wake(),null==o&&(this._listeners[e]=o=[]),a=o.length;--a>-1;)s=o[a],s.c===t&&s.s===i?o.splice(a,1):0===h&&s.pr<r&&(h=a+1);o.splice(h,0,{c:t,s:i,up:n,pr:r})},o.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},o.dispatchEvent=function(e){var t,i,n,r=this._listeners[e];if(r)for(t=r.length,t>1&&(r=r.slice(0)),i=this._eventTarget;--t>-1;)(n=r[t])&&(n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i))};var R=e.requestAnimationFrame,M=e.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},A=S();for(s=["ms","moz","webkit","o"],a=s.length;--a>-1&&!R;)R=e[s[a]+"RequestAnimationFrame"],M=e[s[a]+"CancelAnimationFrame"]||e[s[a]+"CancelRequestAnimationFrame"];_("Ticker",function(e,t){var i,r,s,a,o,h=this,u=S(),p=!(t===!1||!R)&&"auto",m=500,g=33,v="tick",y=function(e){var t,n,l=S()-A;l>m&&(u+=l-g),A+=l,h.time=(A-u)/1e3,t=h.time-o,(!i||t>0||e===!0)&&(h.frame++,o+=t+(t>=a?.004:a-t),n=!0),e!==!0&&(s=r(y)),n&&h.dispatchEvent("tick")};E.call(h),h.time=h.frame=0,h.tick=function(){y(!0)},h.lagSmoothing=function(e,t){m=e||1/d,g=Math.min(t,m,0)},h.sleep=function(){null!=s&&(p&&M?M(s):clearTimeout(s),r=f,s=null,h===l&&(c=!1))},h.wake=function(e){null!==s?h.sleep():e?u+=-A+(A=S()):h.frame>10&&(A=S()-m+5),r=0===i?f:p&&R?R:function(e){return setTimeout(e,1e3*(o-h.time)+1|0)},h===l&&(c=!0),y(2)},h.fps=function(e){return arguments.length?(i=e,a=1/(i||60),o=this.time+a,void h.wake()):i},h.useRAF=function(e){return arguments.length?(h.sleep(),p=e,void h.fps(i)):p},h.fps(e),setTimeout(function(){"auto"===p&&h.frame<5&&"hidden"!==n.visibilityState&&h.useRAF(!1)},1500)}),o=u.Ticker.prototype=new u.events.EventDispatcher,o.constructor=u.Ticker;var P=_("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,V){c||l.wake();var i=this.vars.useFrames?U:V;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});l=P.ticker=new u.Ticker,o=P.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var k=function(){c&&S()-A>2e3&&l.wake(),setTimeout(k,2e3)};k(),o.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},o.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},o.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},o.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},o.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},o.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},o.render=function(e,t,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=i&&e<i+this.totalDuration()/this._timeScale},o._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(e,t){return this._enabled(!1,!1)},o.kill=function(e,t){return this._kill(e,t),this},o._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},o._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},o._callback=function(e){var t=this.vars,i=t[e],n=t[e+"Params"],r=t[e+"Scope"]||t.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},o.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=m(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},o.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},o.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},o.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},o.totalTime=function(e,t,i){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(j.length&&Q(),this.render(e,t,!1),j.length&&Q())}return this},o.progress=o.totalProgress=function(e,t){var i=this.duration();return arguments.length?this.totalTime(i*e,t):i?this._time/i:this.ratio},o.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},o.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||d,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},o.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(e){if(!arguments.length)return this._paused;var t,i,n=this._timeline;return e!=this._paused&&n&&(c||e||l.wake(),t=n.rawTime(),i=t-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var C=_("core.SimpleTimeline",function(e){P.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});o=C.prototype=new P,o.constructor=C,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(e,t,i,n){var r,s;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),r=this._last,this._sortChildren)for(s=e._startTime;r&&r._startTime>s;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=r,this._recent=e,this._timeline&&this._uncache(!0),this},o._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,
e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(e,t,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)n=r._next,(r._active||e>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=n},o.rawTime=function(){return c||l.wake(),this._totalTime};var O=_("TweenLite",function(t,i,n){if(P.call(this,i,n),this.render=O.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:O.selector(t)||t;var r,s,a,o=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Y[O.defaultOverwrite]:"number"==typeof l?l>>0:Y[l],(o||t instanceof Array||t.push&&m(t))&&"number"!=typeof t[0])for(this._targets=a=p(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)s=a[r],s?"string"!=typeof s?s.length&&s!==e&&s[0]&&(s[0]===e||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(p(s))):(this._siblings[r]=K(s,this,!1),1===l&&this._siblings[r].length>1&&J(s,this,null,1,this._siblings[r])):"string"==typeof(s=a[r--]=O.selector(s))&&a.splice(r+1,1):a.splice(r--,1);else this._propLookup={},this._siblings=K(t,this,!1),1===l&&this._siblings.length>1&&J(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-d,this.render(Math.min(0,-this._delay)))},!0),L=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},H=function(e,t){var i,n={};for(i in e)G[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!q[i]||q[i]&&q[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n};o=O.prototype=new P,o.constructor=O,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,O.version="1.19.1",O.defaultEase=o._ease=new x(null,null,1,1),O.defaultOverwrite="auto",O.ticker=l,O.autoSleep=120,O.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},O.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(O.selector=i,i(t)):void 0===n?t:n.querySelectorAll?n.querySelectorAll(t):n.getElementById("#"===t.charAt(0)?t.substr(1):t)};var j=[],D={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,F=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.blob?1===e?this.end:e?this.join(""):this.start:i.c*e+i.s,i.m?t=i.m(t,this._target||i.t):1e-6>t&&t>-1e-6&&!i.blob&&(t=0),i.f?i.fp?i.t[i.p](i.fp,t):i.t[i.p](t):i.t[i.p]=t,i=i._next},N=function(e,t,i,n){var r,s,a,o,l,c,h,u=[],d=0,p="",f=0;for(u.start=e,u.end=t,e=u[0]=e+"",t=u[1]=t+"",i&&(i(u),e=u[0],t=u[1]),u.length=0,r=e.match(B)||[],s=t.match(B)||[],n&&(n._next=null,n.blob=1,u._firstPT=u._applyPT=n),l=s.length,o=0;l>o;o++)h=s[o],c=t.substr(d,t.indexOf(h,d)-d),p+=c||!o?c:",",d+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),h===r[o]||r.length<=o?p+=h:(p&&(u.push(p),p=""),a=parseFloat(r[o]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-a)||0,f:0,m:f&&4>f?Math.round:0}),d+=h.length;return p+=t.substr(d),p&&u.push(p),u.setRatio=F,u},z=function(e,t,i,n,r,s,a,o,l){"function"==typeof n&&(n=n(l||0,e));var c,h=typeof e[t],u="function"!==h?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),d="get"!==i?i:u?a?e[u](a):e[u]():e[t],p="string"==typeof n&&"="===n.charAt(1),f={t:e,p:t,s:d,f:"function"===h,pg:0,n:r||t,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-d||0};return("number"!=typeof d||"number"!=typeof n&&!p)&&(a||isNaN(d)||!p&&isNaN(n)||"boolean"==typeof d||"boolean"==typeof n?(f.fp=a,c=N(d,p?f.s+f.c:n,o||O.defaultStringFilter,f),f={t:c,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||t,pr:0,m:0}):(f.s=parseFloat(d),p||(f.c=parseFloat(n)-f.s||0))),f.c?((f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f):void 0},I=O._internals={isArray:m,isSelector:L,lazyTweens:j,blobDif:N},q=O._plugins={},X=I.tweenLookup={},W=0,G=I.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},U=P._rootFramesTimeline=new C,V=P._rootTimeline=new C,Z=30,Q=I.lazyRender=function(){var e,t=j.length;for(D={};--t>-1;)(e=j[t])&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);j.length=0};V._startTime=l.time,U._startTime=l.frame,V._active=U._active=!0,setTimeout(Q,1),P._updateRoot=O.render=function(){var e,t,i;if(j.length&&Q(),V.render((l.time-V._startTime)*V._timeScale,!1,!1),U.render((l.frame-U._startTime)*U._timeScale,!1,!1),j.length&&Q(),l.frame>=Z){Z=l.frame+(parseInt(O.autoSleep,10)||120);for(i in X){for(t=X[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete X[i]}if((!(i=V._first)||i._paused)&&O.autoSleep&&!U._first&&1===l._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||l.sleep()}}},l.addEventListener("tick",P._updateRoot);var K=function(e,t,i){var n,r,s=e._gsTweenID;if(X[s||(e._gsTweenID=s="t"+W++)]||(X[s]={target:e,tweens:[]}),t&&(n=X[s].tweens,n[r=n.length]=t,i))for(;--r>-1;)n[r]===t&&n.splice(r,1);return X[s].tweens},$=function(e,t,i,n){var r,s,a=e.vars.onOverwrite;return a&&(r=a(e,t,i,n)),a=O.onOverwrite,a&&(s=a(e,t,i,n)),r!==!1&&s!==!1},J=function(e,t,i,n,r){var s,a,o,l;if(1===n||n>=4){for(l=r.length,s=0;l>s;s++)if((o=r[s])!==t)o._gc||o._kill(null,e,t)&&(a=!0);else if(5===n)break;return a}var c,h=t._startTime+d,u=[],p=0,f=0===t._duration;for(s=r.length;--s>-1;)(o=r[s])===t||o._gc||o._paused||(o._timeline!==t._timeline?(c=c||ee(t,0,f),0===ee(o,c,f)&&(u[p++]=o)):o._startTime<=h&&o._startTime+o.totalDuration()/o._timeScale>h&&((f||!o._initted)&&h-o._startTime<=2e-10||(u[p++]=o)));for(s=p;--s>-1;)if(o=u[s],2===n&&o._kill(i,e,t)&&(a=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!$(o,t))continue;o._enabled(!1,!1)&&(a=!0)}return a},ee=function(e,t,i){for(var n=e._timeline,r=n._timeScale,s=e._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>t?s-t:i&&s===t||!e._initted&&2*d>s-t?d:(s+=e.totalDuration()/e._timeScale/r)>t+d?0:s-t-d};o._init=function(){var e,t,i,n,r,s,a=this.vars,o=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,h=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in a.startAt)r[n]=a.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&a.lazy!==!1,r.startAt=r.delay=null,this._startAt=O.to(this.target,0,r),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(c=!1),i={};for(n in a)G[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=c&&a.lazy!==!1,i.immediateRender=c,this._startAt=O.to(this.target,0,i),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof x?h:"function"==typeof h?new x(h,a.easeParams):T[h]||O.defaultEase:O.defaultEase,a.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,e=0;s>e;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],o?o[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(t&&O._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},o._initProps=function(t,i,n,r,s){var a,o,l,c,h,u;if(null==t)return!1;D[t._gsTweenID]&&Q(),this.vars.css||t.style&&t!==e&&t.nodeType&&q.css&&this.vars.autoCSS!==!1&&H(this.vars,t);for(a in this.vars)if(u=this.vars[a],G[a])u&&(u instanceof Array||u.push&&m(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[a]=u=this._swapSelfInParams(u,this));else if(q[a]&&(c=new q[a])._onInitTween(t,this.vars[a],this,s)){for(this._firstPT=h={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},o=c._overwriteProps.length;--o>-1;)i[c._overwriteProps[o]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[a]=z.call(this,t,a,"get",u,a,0,null,this.vars.stringFilter,s);return r&&this._kill(r,t)?this._initProps(t,i,n,r,s):this._overwrite>1&&this._firstPT&&n.length>1&&J(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,r,s)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(D[t._gsTweenID]=!0),l)},o.render=function(e,t,i){var n,r,s,a,o=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0>c||0>=e&&e>=-1e-7||c===d&&"isPause"!==this.data)&&c!==e&&(i=!0,c>d&&(r="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:d);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&c>0)&&(r="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==d||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!t||e||c===e?e:d)),this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var h=e/l,u=this._easeType,p=this._easePower;(1===u||3===u&&h>=.5)&&(h=1-h),3===u&&(h*=2),1===p?h*=h:2===p?h*=h*h:3===p?h*=h*h*h:4===p&&(h*=h*h*h*h),this.ratio=1===u?1-h:2===u?h:.5>e/l?h/2:1-h/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=c,j.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&e>=0&&(this._active=!0),0===o&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&e!==-1e-4&&this._startAt.render(e,t,i),t||(this._time!==o||n||i)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===d&&a!==d&&(this._rawPrevTime=0))}},o._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:O.selector(t)||t;var n,r,s,a,o,l,c,h,u,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((m(t)||L(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){if(c=e||o,h=e!==r&&"all"!==r&&e!==o&&("object"!=typeof e||!e._tempKill),i&&(O.onOverwrite||this.vars.onOverwrite)){for(s in c)o[s]&&(u||(u=[]),u.push(s));if((u||!e)&&!$(this,i,t,u))return!1}for(s in c)(a=o[s])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[s]),h&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-d,this.render(Math.min(0,-this._delay))),this},o._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=K(n[i],this,!0);else this._siblings=K(this.target,this,!0)}return P.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(e?"_onEnable":"_onDisable",this)},O.to=function(e,t,i){return new O(e,t,i)},O.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new O(e,t,i)},O.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new O(e,t,n)},O.delayedCall=function(e,t,i,n,r){return new O(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},O.set=function(e,t){return new O(e,0,t)},O.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:O.selector(e)||e;var i,n,r,s;if((m(e)||L(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(O.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=K(e).concat(),i=n.length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},O.killTweensOf=O.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=O.getTweensOf(e,t),r=n.length;--r>-1;)n[r]._kill(i,e)};var te=_("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=te.prototype},!0);if(o=te.prototype,te.version="1.19.0",te.API=2,o._firstPT=null,o._addTween=z,o.setRatio=F,o._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._mod=o._roundProps=function(e){for(var t,i=this._firstPT;i;)t=e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===i.f?i.t._applyPT.m=t:i.m=t),i=i._next},O._onPluginEvent=function(e,t){var i,n,r,s,a,o=t._firstPT;if("_onInitAllProps"===e){for(;o;){for(a=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:s=o,o=a}o=t._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[e]&&o.t[e]()&&(i=!0),o=o._next;return i},te.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===te.API&&(q[(new e[t])._propName]=e[t]);return!0},y.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,r=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=_("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){te.call(this,i,n),this._overwriteProps=r||[]},e.global===!0),o=a.prototype=new te(i);o.constructor=a,a.API=e.API;for(t in s)"function"==typeof e[t]&&(o[s[t]]=e[t]);return a.version=e.version,te.activate([a]),a},s=e._gsQueue){for(a=0;a<s.length;a++)s[a]();for(o in g)g[o].func||e.console.log("GSAP encountered missing dependency: "+o)}c=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function i(e,t){t=t||ie;var i=t.createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function n(e){var t=!!e&&"length"in e&&e.length,i=me.type(e);return"function"!==i&&!me.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,i){return me.isFunction(t)?me.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?me.grep(e,function(e){return e===t!==i}):"string"!=typeof t?me.grep(e,function(e){return oe.call(t,e)>-1!==i}):Re.test(t)?me.filter(t,e,i):(t=me.filter(t,e),me.grep(e,function(e){return oe.call(t,e)>-1!==i&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return me.each(e.match(ke)||[],function(e,i){t[i]=!0}),t}function l(e){return e}function c(e){throw e}function h(e,t,i,n){var r;try{e&&me.isFunction(r=e.promise)?r.call(e).done(t).fail(i):e&&me.isFunction(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}function u(){ie.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),me.ready()}function d(){this.expando=me.expando+d.uid++}function $(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Be.test(e)?JSON.parse(e):e)}function p(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Fe,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=$(i)}catch(e){}De.set(e,t,i)}else i=void 0;return i}function f(e,t,i,n){var r,s=1,a=20,o=n?function(){return n.cur()}:function(){return me.css(e,t,"")},l=o(),c=i&&i[3]||(me.cssNumber[t]?"":"px"),h=(me.cssNumber[t]||"px"!==c&&+l)&&ze.exec(me.css(e,t));if(h&&h[3]!==c){c=c||h[3],i=i||[],h=+l||1;do{s=s||".5",h/=s,me.style(e,t,h+c)}while(s!==(s=o()/l)&&1!==s&&--a)}return i&&(h=+h||+l||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=r)),r}function m(e){var t,i=e.ownerDocument,n=e.nodeName,r=We[n];return r?r:(t=i.body.appendChild(i.createElement(n)),r=me.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),We[n]=r,r)}function g(e,t){for(var i,n,r=[],s=0,a=e.length;s<a;s++)n=e[s],n.style&&(i=n.style.display,t?("none"===i&&(r[s]=je.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&qe(n)&&(r[s]=m(n))):"none"!==i&&(r[s]="none",je.set(n,"display",i)));for(s=0;s<a;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}function v(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&r(e,t)?me.merge([e],i):i}function y(e,t){for(var i=0,n=e.length;i<n;i++)je.set(e[i],"globalEval",!t||je.get(t[i],"globalEval"))}function _(e,t,i,n,r){for(var s,a,o,l,c,h,u=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((s=e[p])||0===s)if("object"===me.type(s))me.merge(d,s.nodeType?[s]:s);else if($e.test(s)){for(a=a||u.appendChild(t.createElement("div")),o=(Ye.exec(s)||["",""])[1].toLowerCase(),l=Ve[o]||Ve._default,a.innerHTML=l[1]+me.htmlPrefilter(s)+l[2],h=l[0];h--;)a=a.lastChild;me.merge(d,a.childNodes),a=u.firstChild,a.textContent=""}else d.push(t.createTextNode(s));for(u.textContent="",p=0;s=d[p++];)if(n&&me.inArray(s,n)>-1)r&&r.push(s);else if(c=me.contains(s.ownerDocument,s),a=v(u.appendChild(s),"script"),c&&y(a),i)for(h=0;s=a[h++];)Ue.test(s.type||"")&&i.push(s);return u}function w(){return!0}function x(){return!1}function T(){try{return ie.activeElement}catch(e){}}function b(e,t,i,n,r,s){var a,o;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(o in t)b(e,o,i,n,t[o],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=x;else if(!r)return e;return 1===s&&(a=r,r=function(e){return me().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=me.guid++)),e.each(function(){me.event.add(this,t,r,n,i)})}function E(e,t){return r(e,"table")&&r(11!==t.nodeType?t:t.firstChild,"tr")?me(">tbody",e)[0]||e:e}function R(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function M(e){var t=nt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){var i,n,r,s,a,o,l,c;if(1===t.nodeType){if(je.hasData(e)&&(s=je.access(e),a=je.set(t,s),c=s.events)){delete a.handle,a.events={};for(r in c)for(i=0,n=c[r].length;i<n;i++)me.event.add(t,r,c[r][i])}De.hasData(e)&&(o=De.access(e),l=me.extend({},o),De.set(t,l))}}function A(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ge.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function P(e,t,n,r){t=se.apply([],t);var s,a,o,l,c,h,u=0,d=e.length,p=d-1,f=t[0],m=me.isFunction(f);if(m||d>1&&"string"==typeof f&&!pe.checkClone&&it.test(f))return e.each(function(i){var s=e.eq(i);m&&(t[0]=f.call(this,i,s.html())),P(s,t,n,r)});if(d&&(s=_(t,e[0].ownerDocument,!1,e,r),a=s.firstChild,1===s.childNodes.length&&(s=a),a||r)){for(o=me.map(v(s,"script"),R),l=o.length;u<d;u++)c=s,u!==p&&(c=me.clone(c,!0,!0),l&&me.merge(o,v(c,"script"))),n.call(e[u],c,u);if(l)for(h=o[o.length-1].ownerDocument,me.map(o,M),u=0;u<l;u++)c=o[u],Ue.test(c.type||"")&&!je.access(c,"globalEval")&&me.contains(h,c)&&(c.src?me._evalUrl&&me._evalUrl(c.src):i(c.textContent.replace(rt,""),h))}return e}function k(e,t,i){for(var n,r=t?me.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||me.cleanData(v(n)),n.parentNode&&(i&&me.contains(n.ownerDocument,n)&&y(v(n,"script")),n.parentNode.removeChild(n));return e}function C(e,t,i){var n,r,s,a,o=e.style;return i=i||ot(e),i&&(a=i.getPropertyValue(t)||i[t],""!==a||me.contains(e.ownerDocument,e)||(a=me.style(e,t)),!pe.pixelMarginRight()&&at.test(a)&&st.test(t)&&(n=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=n,o.minWidth=r,o.maxWidth=s)),void 0!==a?a+"":a}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function L(e){if(e in pt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=dt.length;i--;)if((e=dt[i]+t)in pt)return e}function H(e){var t=me.cssProps[e];return t||(t=me.cssProps[e]=L(e)||e),t}function j(e,t,i){var n=ze.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function D(e,t,i,n,r){var s,a=0;for(s=i===(n?"border":"content")?4:"width"===t?1:0;s<4;s+=2)"margin"===i&&(a+=me.css(e,i+Ie[s],!0,r)),n?("content"===i&&(a-=me.css(e,"padding"+Ie[s],!0,r)),"margin"!==i&&(a-=me.css(e,"border"+Ie[s]+"Width",!0,r))):(a+=me.css(e,"padding"+Ie[s],!0,r),"padding"!==i&&(a+=me.css(e,"border"+Ie[s]+"Width",!0,r)));return a}function B(e,t,i){var n,r=ot(e),s=C(e,t,r),a="border-box"===me.css(e,"boxSizing",!1,r);return at.test(s)?s:(n=a&&(pe.boxSizingReliable()||s===e.style[t]),"auto"===s&&(s=e["offset"+t[0].toUpperCase()+t.slice(1)]),(s=parseFloat(s)||0)+D(e,t,i||(a?"border":"content"),n,r)+"px")}function F(e,t,i,n,r){return new F.prototype.init(e,t,i,n,r)}function N(){mt&&(ie.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(N):e.setTimeout(N,me.fx.interval),me.fx.tick())}function z(){return e.setTimeout(function(){ft=void 0}),ft=me.now()}function I(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)i=Ie[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function q(e,t,i){for(var n,r=(G.tweeners[t]||[]).concat(G.tweeners["*"]),s=0,a=r.length;s<a;s++)if(n=r[s].call(i,t,e))return n}function X(e,t,i){var n,r,s,a,o,l,c,h,u="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&qe(e),v=je.get(e,"fxshow");i.queue||(a=me._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,me.queue(e,"fx").length||a.empty.fire()})}));for(n in t)if(r=t[n],gt.test(r)){if(delete t[n],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;m=!0}p[n]=v&&v[n]||me.style(e,n)}if((l=!me.isEmptyObject(t))||!me.isEmptyObject(p)){u&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],c=v&&v.display,null==c&&(c=je.get(e,"display")),h=me.css(e,"display"),"none"===h&&(c?h=c:(g([e],!0),c=e.style.display||c,h=me.css(e,"display"),g([e]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===me.css(e,"float")&&(l||(d.done(function(){f.display=c}),null==c&&(h=f.display,c="none"===h?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1;for(n in p)l||(v?"hidden"in v&&(m=v.hidden):v=je.access(e,"fxshow",{display:c}),s&&(v.hidden=!m),m&&g([e],!0),d.done(function(){m||g([e]),je.remove(e,"fxshow");for(n in p)me.style(e,n,p[n])})),l=q(m?v[n]:0,n,d),n in v||(v[n]=l.start,m&&(l.end=l.start,l.start=0))}}function W(e,t){var i,n,r,s,a;for(i in e)if(n=me.camelCase(i),r=t[n],s=e[i],Array.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(a=me.cssHooks[n])&&"expand"in a){s=a.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=r)}else t[n]=r}function G(e,t,i){var n,r,s=0,a=G.prefilters.length,o=me.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ft||z(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,s=1-n,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(s);return o.notifyWith(e,[c,s,i]),s<1&&l?i:(l||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:me.extend({},t),opts:me.extend(!0,{specialEasing:{},easing:me.easing._default},i),originalProperties:t,originalOptions:i,startTime:ft||z(),duration:i.duration,tweens:[],createTween:function(t,i){var n=me.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),h=c.props;for(W(h,c.opts.specialEasing);s<a;s++)if(n=G.prefilters[s].call(c,e,h,c.opts))return me.isFunction(n.stop)&&(me._queueHooks(c.elem,c.opts.queue).stop=me.proxy(n.stop,n)),n;return me.map(h,q,c),me.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),me.fx.timer(me.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function Y(e){return(e.match(ke)||[]).join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,i,n){var r;if(Array.isArray(t))me.each(t,function(t,r){i||St.test(e)?n(e,r):V(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==me.type(t))n(e,t);else for(r in t)V(e+"["+r+"]",t[r],i,n)}function Z(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(ke)||[];if(me.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Q(e,t,i,n){function r(o){var l;return s[o]=!0,me.each(e[o]||[],function(e,o){var c=o(t,i,n);return"string"!=typeof c||a||s[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var s={},a=e===Nt;return r(t.dataTypes[0])||!s["*"]&&r("*")}function K(e,t){var i,n,r=me.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&me.extend(!0,e,n),e}function J(e,t,i){for(var n,r,s,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in o)if(o[r]&&o[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),i[s]}function ee(e,t,i,n){var r,s,a,o,l,c={},h=e.dataTypes.slice();if(h[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(s=h.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=h.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(a=c[l+" "+s]||c["* "+s]))for(r in c)if(o=r.split(" "),o[1]===s&&(a=c[l+" "+o[0]]||c["* "+o[0]])){a===!0?a=c[r]:c[r]!==!0&&(s=o[0],h.unshift(o[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}var te=[],ie=e.document,ne=Object.getPrototypeOf,re=te.slice,se=te.concat,ae=te.push,oe=te.indexOf,le={},ce=le.toString,he=le.hasOwnProperty,ue=he.toString,de=ue.call(Object),pe={},fe="3.2.1",me=function(e,t){return new me.fn.init(e,t)},ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ve=/^-ms-/,ye=/-([a-z])/g,_e=function(e,t){return t.toUpperCase()};me.fn=me.prototype={jquery:fe,constructor:me,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=me.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return me.each(this,e)},map:function(e){return this.pushStack(me.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:te.sort,splice:te.splice},me.extend=me.fn.extend=function(){var e,t,i,n,r,s,a=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[o]||{},o++),"object"==typeof a||me.isFunction(a)||(a={}),o===l&&(a=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)i=a[t],n=e[t],a!==n&&(c&&n&&(me.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,s=i&&Array.isArray(i)?i:[]):s=i&&me.isPlainObject(i)?i:{},a[t]=me.extend(c,s,n)):void 0!==n&&(a[t]=n));return a},me.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===me.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=me.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==ce.call(e)||(t=ne(e))&&("function"!=typeof(i=he.call(t,"constructor")&&t.constructor)||ue.call(i)!==de))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,_e)},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;r<i&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?me.merge(i,"string"==typeof e?[e]:e):ae.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:oe.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},
grep:function(e,t,i){for(var n,r=[],s=0,a=e.length,o=!i;s<a;s++)(n=!t(e[s],s))!==o&&r.push(e[s]);return r},map:function(e,t,i){var r,s,a=0,o=[];if(n(e))for(r=e.length;a<r;a++)null!=(s=t(e[a],a,i))&&o.push(s);else for(a in e)null!=(s=t(e[a],a,i))&&o.push(s);return se.apply([],o)},guid:1,proxy:function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),me.isFunction(e))return n=re.call(arguments,2),r=function(){return e.apply(t||this,n.concat(re.call(arguments)))},r.guid=e.guid=e.guid||me.guid++,r},now:Date.now,support:pe}),"function"==typeof Symbol&&(me.fn[Symbol.iterator]=te[Symbol.iterator]),me.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var we=function(e){function t(e,t,i,n){var r,s,a,o,l,c,h,d=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!n&&((t?t.ownerDocument||t:I)!==L&&O(t),t=t||L,j)){if(11!==f&&(l=ye.exec(e)))if(r=l[1]){if(9===f){if(!(a=t.getElementById(r)))return i;if(a.id===r)return i.push(a),i}else if(d&&(a=d.getElementById(r))&&N(t,a)&&a.id===r)return i.push(a),i}else{if(l[2])return J.apply(i,t.getElementsByTagName(e)),i;if((r=l[3])&&T.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(r)),i}if(T.qsa&&!Y[e+" "]&&(!D||!D.test(e))){if(1!==f)d=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((o=t.getAttribute("id"))?o=o.replace(xe,Te):t.setAttribute("id",o=z),c=M(e),s=c.length;s--;)c[s]="#"+o+" "+p(c[s]);h=c.join(","),d=$.test(e)&&u(t.parentNode)||t}if(h)try{return J.apply(i,d.querySelectorAll(h)),i}catch(e){}finally{o===z&&t.removeAttribute("id")}}}return A(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>b.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[z]=!0,e}function r(e){var t=L.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function h(e){return n(function(t){return t=+t,n(function(i,n){for(var r,s=e([],i.length,t),a=s.length;a--;)i[r=s[a]]&&(i[r]=!(n[r]=i[r]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,r=t.next,s=r||n,a=i&&"parentNode"===s,o=X++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,r);return!1}:function(t,i,l){var c,h,u,d=[q,o];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(u=t[z]||(t[z]={}),h=u[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=h[s])&&c[0]===q&&c[1]===o)return d[2]=c[2];if(h[s]=d,d[2]=e(t,i,l))return!0}return!1}}function m(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var r=0,s=i.length;r<s;r++)t(e,i[r],n);return n}function v(e,t,i,n,r){for(var s,a=[],o=0,l=e.length,c=null!=t;o<l;o++)(s=e[o])&&(i&&!i(s,n,r)||(a.push(s),c&&t.push(o)));return a}function y(e,t,i,r,s,a){return r&&!r[z]&&(r=y(r)),s&&!s[z]&&(s=y(s,a)),n(function(n,a,o,l){var c,h,u,d=[],p=[],f=a.length,m=n||g(t||"*",o.nodeType?[o]:o,[]),y=!e||!n&&t?m:v(m,d,e,o,l),_=i?s||(n?e:f||r)?[]:a:y;if(i&&i(y,_,o,l),r)for(c=v(_,p),r(c,[],o,l),h=c.length;h--;)(u=c[h])&&(_[p[h]]=!(y[p[h]]=u));if(n){if(s||e){if(s){for(c=[],h=_.length;h--;)(u=_[h])&&c.push(y[h]=u);s(null,_=[],c,l)}for(h=_.length;h--;)(u=_[h])&&(c=s?te(n,u):d[h])>-1&&(n[c]=!(a[c]=u))}}else _=v(_===a?_.splice(f,_.length):_),s?s(null,a,_,l):J.apply(a,_)})}function _(e){for(var t,i,n,r=e.length,s=b.relative[e[0].type],a=s||b.relative[" "],o=s?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return te(t,e)>-1},a,!0),h=[function(e,i,n){var r=!s&&(n||i!==P)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,r}];o<r;o++)if(i=b.relative[e[o].type])h=[f(m(h),i)];else{if(i=b.filter[e[o].type].apply(null,e[o].matches),i[z]){for(n=++o;n<r&&!b.relative[e[n].type];n++);return y(o>1&&m(h),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(le,"$1"),i,o<n&&_(e.slice(o,n)),n<r&&_(e=e.slice(n)),n<r&&p(e))}h.push(i)}return m(h)}function w(e,i){var r=i.length>0,s=e.length>0,a=function(n,a,o,l,c){var h,u,d,p=0,f="0",m=n&&[],g=[],y=P,_=n||s&&b.find.TAG("*",c),w=q+=null==y?1:Math.random()||.1,x=_.length;for(c&&(P=a===L||a||c);f!==x&&null!=(h=_[f]);f++){if(s&&h){for(u=0,a||h.ownerDocument===L||(O(h),o=!j);d=e[u++];)if(d(h,a||L,o)){l.push(h);break}c&&(q=w)}r&&((h=!d&&h)&&p--,n&&m.push(h))}if(p+=f,r&&f!==p){for(u=0;d=i[u++];)d(m,g,a,o);if(n){if(p>0)for(;f--;)m[f]||g[f]||(g[f]=Q.call(l));g=v(g)}J.apply(l,g),c&&!n&&g.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(q=w,P=y),m};return r?n(a):a}var x,T,b,E,R,M,S,A,P,k,C,O,L,H,j,D,B,F,N,z="sizzle"+1*new Date,I=e.document,q=0,X=0,W=i(),G=i(),Y=i(),U=function(e,t){return e===t&&(C=!0),0},V={}.hasOwnProperty,Z=[],Q=Z.pop,K=Z.push,J=Z.push,ee=Z.slice,te=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",se="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),he=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},be=function(){O()},Ee=f(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply(Z=ee.call(I.childNodes),I.childNodes),Z[I.childNodes.length].nodeType}catch(e){J={apply:Z.length?function(e,t){K.apply(e,ee.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}T=t.support={},R=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:I;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,H=L.documentElement,j=!R(L),I!==L&&(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",be,!1):i.attachEvent&&i.attachEvent("onunload",be)),T.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=r(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=ve.test(L.getElementsByClassName),T.getById=r(function(e){return H.appendChild(e).id=z,!L.getElementsByName||!L.getElementsByName(z).length}),T.getById?(b.filter.ID=function(e){var t=e.replace(_e,we);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var i=t.getElementById(e);return i?[i]:[]}}):(b.filter.ID=function(e){var t=e.replace(_e,we);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var i,n,r,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(r=t.getElementsByName(e),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),b.find.TAG=T.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},b.find.CLASS=T.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&j)return t.getElementsByClassName(e)},B=[],D=[],(T.qsa=ve.test(L.querySelectorAll))&&(r(function(e){H.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+ie+")"),e.querySelectorAll("[id~="+z+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||D.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),H.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(T.matchesSelector=ve.test(F=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&r(function(e){T.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),B.push("!=",ae)}),D=D.length&&new RegExp(D.join("|")),B=B.length&&new RegExp(B.join("|")),t=ve.test(H.compareDocumentPosition),N=t||ve.test(H.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return C=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!T.sortDetached&&t.compareDocumentPosition(e)===i?e===L||e.ownerDocument===I&&N(I,e)?-1:t===L||t.ownerDocument===I&&N(I,t)?1:k?te(k,e)-te(k,t):0:4&i?-1:1)}:function(e,t){if(e===t)return C=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,o=[e],l=[t];if(!r||!s)return e===L?-1:t===L?1:r?-1:s?1:k?te(k,e)-te(k,t):0;if(r===s)return a(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;o[n]===l[n];)n++;return n?a(o[n],l[n]):o[n]===I?-1:l[n]===I?1:0},L):L},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==L&&O(e),i=i.replace(ue,"='$1']"),T.matchesSelector&&j&&!Y[i+" "]&&(!B||!B.test(i))&&(!D||!D.test(i)))try{var n=F.call(e,i);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&O(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&O(e);var i=b.attrHandle[t.toLowerCase()],n=i&&V.call(b.attrHandle,t.toLowerCase())?i(e,t,!j):void 0;return void 0!==n?n:T.attributes||!j?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(xe,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(C=!T.detectDuplicates,k=!T.sortStable&&e.slice(0),e.sort(U),C){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return k=null,e},E=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=E(t);return i},b=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,we),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=M(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var s=t.attr(r,e);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(oe," ")+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,h,u,d,p,f,m=s!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o,_=!1;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(o?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(d=g,u=d[z]||(d[z]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),c=h[e]||[],p=c[0]===q&&c[1],_=p&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===t){h[e]=[q,p,_];break}}else if(y&&(d=t,u=d[z]||(d[z]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),c=h[e]||[],p=c[0]===q&&c[1],_=p),_===!1)for(;(d=++p&&d&&d[m]||(_=p=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&(u=d[z]||(d[z]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),h[e]=[q,_]),d!==t)););return(_-=r)===n||_%n==0&&_/n>=0}}},PSEUDO:function(e,i){var r,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[z]?s(i):s.length>1?(r=[e,e,"",i],b.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=s(e,i),a=r.length;a--;)n=te(e,r[a]),e[n]=!(t[n]=r[a])}):function(e){return s(e,0,r)}):s}},pseudos:{not:n(function(e){var t=[],i=[],r=S(e.replace(le,"$1"));return r[z]?n(function(e,t,i,n){for(var s,a=r(e,null,n,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,n,s){return t[0]=e,r(t,null,s,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(_e,we),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,we).toLowerCase(),function(t){var i;do{if(i=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,i){return[i<0?i+t:i]}),even:h(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:h(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:h(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:h(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},b.pseudos.nth=b.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[x]=o(x);for(x in{submit:!0,reset:!0})b.pseudos[x]=l(x);return d.prototype=b.filters=b.pseudos,b.setFilters=new d,M=t.tokenize=function(e,i){var n,r,s,a,o,l,c,h=G[e+" "];if(h)return i?0:h.slice(0);for(o=e,l=[],c=b.preFilter;o;){n&&!(r=ce.exec(o))||(r&&(o=o.slice(r[0].length)||o),l.push(s=[])),n=!1,(r=he.exec(o))&&(n=r.shift(),s.push({value:n,type:r[0].replace(le," ")}),o=o.slice(n.length));for(a in b.filter)!(r=fe[a].exec(o))||c[a]&&!(r=c[a](r))||(n=r.shift(),s.push({value:n,type:a,matches:r}),o=o.slice(n.length));if(!n)break}return i?o.length:o?t.error(e):G(e,l).slice(0)},S=t.compile=function(e,t){var i,n=[],r=[],s=Y[e+" "];if(!s){for(t||(t=M(e)),i=t.length;i--;)s=_(t[i]),s[z]?n.push(s):r.push(s);s=Y(e,w(r,n)),s.selector=e}return s},A=t.select=function(e,t,i,n){var r,s,a,o,l,c="function"==typeof e&&e,h=!n&&M(e=c.selector||e);if(i=i||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&9===t.nodeType&&j&&b.relative[s[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(_e,we),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=fe.needsContext.test(e)?0:s.length;r--&&(a=s[r],!b.relative[o=a.type]);)if((l=b.find[o])&&(n=l(a.matches[0].replace(_e,we),$.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(r,1),!(e=n.length&&p(s)))return J.apply(i,n),i;break}}return(c||S(e,h))(n,t,!j,i,!t||$.test(e)&&u(t.parentNode)||t),i},T.sortStable=z.split("").sort(U).join("")===z,T.detectDuplicates=!!C,O(),T.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(ie,function(e,t,i){var n;if(!i)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);me.find=we,me.expr=we.selectors,me.expr[":"]=me.expr.pseudos,me.uniqueSort=me.unique=we.uniqueSort,me.text=we.getText,me.isXMLDoc=we.isXML,me.contains=we.contains,me.escapeSelector=we.escape;var xe=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&me(e).is(i))break;n.push(e)}return n},Te=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},be=me.expr.match.needsContext,Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Re=/^.[^:#\[\.,]*$/;me.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?me.find.matchesSelector(n,e)?[n]:[]:me.find.matches(e,me.grep(t,function(e){return 1===e.nodeType}))},me.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(me(e).filter(function(){for(t=0;t<n;t++)if(me.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)me.find(e,r[t],i);return n>1?me.uniqueSort(i):i},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&be.test(e)?me(e):e||[],!1).length}});var Me,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(me.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||Me,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Se.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof me?t[0]:t,me.merge(this,me.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),Ee.test(n[1])&&me.isPlainObject(t))for(n in t)me.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=ie.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):me.isFunction(e)?void 0!==i.ready?i.ready(e):e(me):me.makeArray(e,this)}).prototype=me.fn,Me=me(ie);var Ae=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};me.fn.extend({has:function(e){var t=me(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(me.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,s=[],a="string"!=typeof e&&me(e);if(!be.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&me.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?me.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?oe.call(me(e),this[0]):oe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(me.uniqueSort(me.merge(this.get(),me(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),me.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,i){return xe(e,"parentNode",i)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,i){return xe(e,"nextSibling",i)},prevUntil:function(e,t,i){return xe(e,"previousSibling",i)},siblings:function(e){return Te((e.parentNode||{}).firstChild,e)},children:function(e){return Te(e.firstChild)},contents:function(e){return r(e,"iframe")?e.contentDocument:(r(e,"template")&&(e=e.content||e),me.merge([],e.childNodes))}},function(e,t){me.fn[e]=function(i,n){var r=me.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=me.filter(n,r)),this.length>1&&(Pe[e]||me.uniqueSort(r),Ae.test(e)&&r.reverse()),this.pushStack(r)}});var ke=/[^\x20\t\r\n\f]+/g;me.Callbacks=function(e){e="string"==typeof e?o(e):me.extend({},e);var t,i,n,r,s=[],a=[],l=-1,c=function(){for(r=r||e.once,n=t=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)s[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=s.length,i=!1);e.memory||(i=!1),t=!1,r&&(s=i?[]:"")},h={add:function(){return s&&(i&&!t&&(l=s.length-1,a.push(i)),function t(i){me.each(i,function(i,n){me.isFunction(n)?e.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==me.type(n)&&t(n)})}(arguments),i&&!t&&c()),this},remove:function(){return me.each(arguments,function(e,t){for(var i;(i=me.inArray(t,s,i))>-1;)s.splice(i,1),i<=l&&l--}),this},has:function(e){return e?me.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=a=[],i||t||(s=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||c()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},me.extend({Deferred:function(t){var i=[["notify","progress",me.Callbacks("memory"),me.Callbacks("memory"),2],["resolve","done",me.Callbacks("once memory"),me.Callbacks("once memory"),0,"resolved"],["reject","fail",me.Callbacks("once memory"),me.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return me.Deferred(function(t){me.each(i,function(i,n){var r=me.isFunction(e[n[4]])&&e[n[4]];s[n[1]](function(){var e=r&&r.apply(this,arguments);e&&me.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,n,r){function s(t,i,n,r){return function(){var o=this,h=arguments,u=function(){var e,u;if(!(t<a)){if((e=n.apply(o,h))===i.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,me.isFunction(u)?r?u.call(e,s(a,i,l,r),s(a,i,c,r)):(a++,u.call(e,s(a,i,l,r),s(a,i,c,r),s(a,i,l,i.notifyWith))):(n!==l&&(o=void 0,h=[e]),(r||i.resolveWith)(o,h))}},d=r?u:function(){try{u()}catch(e){me.Deferred.exceptionHook&&me.Deferred.exceptionHook(e,d.stackTrace),t+1>=a&&(n!==c&&(o=void 0,h=[e]),i.rejectWith(o,h))}};t?d():(me.Deferred.getStackHook&&(d.stackTrace=me.Deferred.getStackHook()),e.setTimeout(d))}}var a=0;return me.Deferred(function(e){i[0][3].add(s(0,e,me.isFunction(r)?r:l,e.notifyWith)),i[1][3].add(s(0,e,me.isFunction(t)?t:l)),i[2][3].add(s(0,e,me.isFunction(n)?n:c))}).promise()},promise:function(e){return null!=e?me.extend(e,r):r}},s={};return me.each(i,function(e,t){var a=t[2],o=t[5];r[t[1]]=a.add,o&&a.add(function(){n=o},i[3-e][2].disable,i[0][2].lock),a.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=a.fireWith}),r.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,i=t,n=Array(i),r=re.call(arguments),s=me.Deferred(),a=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?re.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(h(e,s.done(a(i)).resolve,s.reject,!t),"pending"===s.state()||me.isFunction(r[i]&&r[i].then)))return s.then();for(;i--;)h(r[i],a(i),s.reject);return s.promise()}});var Ce=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;me.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&Ce.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},me.readyException=function(t){e.setTimeout(function(){throw t})};var Oe=me.Deferred();me.fn.ready=function(e){return Oe.then(e).catch(function(e){me.readyException(e)}),this},me.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--me.readyWait:me.isReady)||(me.isReady=!0,e!==!0&&--me.readyWait>0||Oe.resolveWith(ie,[me]))}}),me.ready.then=Oe.then,"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll?e.setTimeout(me.ready):(ie.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u));var Le=function(e,t,i,n,r,s,a){var o=0,l=e.length,c=null==i;if("object"===me.type(i)){r=!0;for(o in i)Le(e,t,o,i[o],!0,s,a)}else if(void 0!==n&&(r=!0,me.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(me(e),i)})),t))for(;o<l;o++)t(e[o],i,a?n:n.call(e[o],o,t(e[o],i)));return r?e:c?t.call(e):l?t(e[0],i):s},He=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},He(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[me.camelCase(t)]=i;else for(n in t)r[me.camelCase(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][me.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){Array.isArray(t)?t=t.map(me.camelCase):(t=me.camelCase(t),t=t in n?[t]:t.match(ke)||[]),i=t.length;for(;i--;)delete n[t[i]]}(void 0===t||me.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!me.isEmptyObject(t)}};var je=new d,De=new d,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;me.extend({hasData:function(e){return De.hasData(e)||je.hasData(e)},data:function(e,t,i){return De.access(e,t,i)},removeData:function(e,t){De.remove(e,t)},_data:function(e,t,i){return je.access(e,t,i)},_removeData:function(e,t){je.remove(e,t)}}),me.fn.extend({data:function(e,t){var i,n,r,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(r=De.get(s),1===s.nodeType&&!je.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=me.camelCase(n.slice(5)),p(s,n,r[n])));je.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){De.set(this,e)}):Le(this,function(t){var i;if(s&&void 0===t){if(void 0!==(i=De.get(s,e)))return i;if(void 0!==(i=p(s,e)))return i}else this.each(function(){De.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){De.remove(this,e)})}}),me.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=je.get(e,t),i&&(!n||Array.isArray(i)?n=je.access(e,t,me.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=me.queue(e,t),n=i.length,r=i.shift(),s=me._queueHooks(e,t),a=function(){me.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,a,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return je.get(e,i)||je.access(e,i,{empty:me.Callbacks("once memory").add(function(){je.remove(e,[t+"queue",i])})})}}),me.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?me.queue(this[0],e):void 0===t?this:this.each(function(){var i=me.queue(this,e,t);me._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&me.dequeue(this,e)})},dequeue:function(e){return this.each(function(){me.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=me.Deferred(),s=this,a=this.length,o=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=je.get(s[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),r.promise(t)}});var Ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Ne+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],qe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&me.contains(e.ownerDocument,e)&&"none"===me.css(e,"display")},Xe=function(e,t,i,n){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=i.apply(e,n||[])
;for(s in t)e.style[s]=a[s];return r},We={};me.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){qe(this)?me(this).show():me(this).hide()})}});var Ge=/^(?:checkbox|radio)$/i,Ye=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td;var $e=/<|&#?\w+;/;!function(){var e=ie.createDocumentFragment(),t=e.appendChild(ie.createElement("div")),i=ie.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),pe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ze=ie.documentElement,Qe=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=/^([^.]*)(?:\.(.+)|)/;me.event={global:{},add:function(e,t,i,n,r){var s,a,o,l,c,h,u,d,p,f,m,g=je.get(e);if(g)for(i.handler&&(s=i,i=s.handler,r=s.selector),r&&me.find.matchesSelector(Ze,r),i.guid||(i.guid=me.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==me&&me.event.triggered!==t.type?me.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ke)||[""],c=t.length;c--;)o=Je.exec(t[c])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(u=me.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=me.event.special[p]||{},h=me.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&me.expr.match.needsContext.test(r),namespace:f.join(".")},s),(d=l[p])||(d=l[p]=[],d.delegateCount=0,u.setup&&u.setup.call(e,n,f,a)!==!1||e.addEventListener&&e.addEventListener(p,a)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),me.event.global[p]=!0)},remove:function(e,t,i,n,r){var s,a,o,l,c,h,u,d,p,f,m,g=je.hasData(e)&&je.get(e);if(g&&(l=g.events)){for(t=(t||"").match(ke)||[""],c=t.length;c--;)if(o=Je.exec(t[c])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(u=me.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,d=l[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)h=d[s],!r&&m!==h.origType||i&&i.guid!==h.guid||o&&!o.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(s,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(e,h));a&&!d.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||me.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)me.event.remove(e,p+t[c],i,n,!0);me.isEmptyObject(l)&&je.remove(e,"handle events")}},dispatch:function(e){var t=me.event.fix(e),i,n,r,s,a,o,l=new Array(arguments.length),c=(je.get(this,"events")||{})[t.type]||[],h=me.event.special[t.type]||{};for(l[0]=t,i=1;i<arguments.length;i++)l[i]=arguments[i];if(t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(o=me.event.handlers.call(this,t,c),i=0;(s=o[i++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,n=0;(a=s.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(r=((me.event.special[a.origType]||{}).handle||a.handler).apply(s.elem,l))&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(e,t){var i,n,r,s,a,o=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(s=[],a={},i=0;i<l;i++)n=t[i],r=n.selector+" ",void 0===a[r]&&(a[r]=n.needsContext?me(r,this).index(c)>-1:me.find(r,this,null,[c]).length),a[r]&&s.push(n);s.length&&o.push({elem:c,handlers:s})}return c=this,l<t.length&&o.push({elem:c,handlers:t.slice(l)}),o},addProp:function(e,t){Object.defineProperty(me.Event.prototype,e,{enumerable:!0,configurable:!0,get:me.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[me.expando]?e:new me.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r(this,"input"))return this.click(),!1},_default:function(e){return r(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},me.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},me.Event=function(e,t){return this instanceof me.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?w:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&me.extend(this,t),this.timeStamp=e&&e.timeStamp||me.now(),void(this[me.expando]=!0)):new me.Event(e,t)},me.Event.prototype={constructor:me.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},me.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Qe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},me.event.addProp),me.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){me.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return r&&(r===n||me.contains(n,r))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),me.fn.extend({on:function(e,t,i,n){return b(this,e,t,i,n)},one:function(e,t,i,n){return b(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,me(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=x),this.each(function(){me.event.remove(this,e,i,t)})}});var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,tt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;me.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,i){var n,r,s,a,o=e.cloneNode(!0),l=me.contains(e.ownerDocument,e);if(!(pe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||me.isXMLDoc(e)))for(a=v(o),s=v(e),n=0,r=s.length;n<r;n++)A(s[n],a[n]);if(t)if(i)for(s=s||v(e),a=a||v(o),n=0,r=s.length;n<r;n++)S(s[n],a[n]);else S(e,o);return a=v(o,"script"),a.length>0&&y(a,!l&&v(e,"script")),o},cleanData:function(e){for(var t,i,n,r=me.event.special,s=0;void 0!==(i=e[s]);s++)if(He(i)){if(t=i[je.expando]){if(t.events)for(n in t.events)r[n]?me.event.remove(i,n):me.removeEvent(i,n,t.handle);i[je.expando]=void 0}i[De.expando]&&(i[De.expando]=void 0)}}}),me.fn.extend({detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return Le(this,function(e){return void 0===e?me.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){E(this,e).appendChild(e)}})},prepend:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(me.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return me.clone(this,e,t)})},html:function(e){return Le(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tt.test(e)&&!Ve[(Ye.exec(e)||["",""])[1].toLowerCase()]){e=me.htmlPrefilter(e);try{for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(me.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return P(this,arguments,function(t){var i=this.parentNode;me.inArray(this,e)<0&&(me.cleanData(v(this)),i&&i.replaceChild(t,this))},e)}}),me.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){me.fn[e]=function(e){for(var i,n=[],r=me(e),s=r.length-1,a=0;a<=s;a++)i=a===s?this:this.clone(!0),me(r[a])[t](i),ae.apply(n,i.get());return this.pushStack(n)}});var st=/^margin/,at=new RegExp("^("+Ne+")(?!px)[a-z%]+$","i"),ot=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};!function(){function t(){if(o){o.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o.innerHTML="",Ze.appendChild(a);var t=e.getComputedStyle(o);i="1%"!==t.top,s="2px"===t.marginLeft,n="4px"===t.width,o.style.marginRight="50%",r="4px"===t.marginRight,Ze.removeChild(a),o=null}}var i,n,r,s,a=ie.createElement("div"),o=ie.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(o),me.extend(pe,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),s}}))}();var lt=/^(none|table(?!-c[ea]).+)/,ct=/^--/,ht={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","Moz","ms"],pt=ie.createElement("div").style;me.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=C(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,o=me.camelCase(t),l=ct.test(t),c=e.style;return l||(t=H(o)),a=me.cssHooks[t]||me.cssHooks[o],void 0===i?a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:c[t]:(s=typeof i,"string"===s&&(r=ze.exec(i))&&r[1]&&(i=f(e,t,r),s="number"),void(null!=i&&i===i&&("number"===s&&(i+=r&&r[3]||(me.cssNumber[o]?"":"px")),pe.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))))}},css:function(e,t,i,n){var r,s,a,o=me.camelCase(t);return ct.test(t)||(t=H(o)),a=me.cssHooks[t]||me.cssHooks[o],a&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=C(e,t,n)),"normal"===r&&t in ut&&(r=ut[t]),""===i||i?(s=parseFloat(r),i===!0||isFinite(s)?s||0:r):r}}),me.each(["height","width"],function(e,t){me.cssHooks[t]={get:function(e,i,n){if(i)return!lt.test(me.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,n):Xe(e,ht,function(){return B(e,t,n)})},set:function(e,i,n){var r,s=n&&ot(e),a=n&&D(e,t,n,"border-box"===me.css(e,"boxSizing",!1,s),s);return a&&(r=ze.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=me.css(e,t)),j(e,i,a)}}}),me.cssHooks.marginLeft=O(pe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(C(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),me.each({margin:"",padding:"",border:"Width"},function(e,t){me.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Ie[n]+t]=s[n]||s[n-2]||s[0];return r}},st.test(e)||(me.cssHooks[e+t].set=j)}),me.fn.extend({css:function(e,t){return Le(this,function(e,t,i){var n,r,s={},a=0;if(Array.isArray(t)){for(n=ot(e),r=t.length;a<r;a++)s[t[a]]=me.css(e,t[a],!1,n);return s}return void 0!==i?me.style(e,t,i):me.css(e,t)},e,t,arguments.length>1)}}),me.Tween=F,F.prototype={constructor:F,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||me.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(me.cssNumber[i]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,i=F.propHooks[this.prop];return this.options.duration?this.pos=t=me.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=me.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){me.fx.step[e.prop]?me.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[me.cssProps[e.prop]]&&!me.cssHooks[e.prop]?e.elem[e.prop]=e.now:me.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},me.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},me.fx=F.prototype.init,me.fx.step={};var ft,mt,gt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;me.Animation=me.extend(G,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return f(i.elem,e,ze.exec(t),i),i}]},tweener:function(e,t){me.isFunction(e)?(t=e,e=["*"]):e=e.match(ke);for(var i,n=0,r=e.length;n<r;n++)i=e[n],G.tweeners[i]=G.tweeners[i]||[],G.tweeners[i].unshift(t)},prefilters:[X],prefilter:function(e,t){t?G.prefilters.unshift(e):G.prefilters.push(e)}}),me.speed=function(e,t,i){var n=e&&"object"==typeof e?me.extend({},e):{complete:i||!i&&t||me.isFunction(e)&&e,duration:e,easing:i&&t||t&&!me.isFunction(t)&&t};return me.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in me.fx.speeds?n.duration=me.fx.speeds[n.duration]:n.duration=me.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){me.isFunction(n.old)&&n.old.call(this),n.queue&&me.dequeue(this,n.queue)},n},me.fn.extend({fadeTo:function(e,t,i,n){return this.filter(qe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=me.isEmptyObject(e),s=me.speed(t,i,n),a=function(){var t=G(this,me.extend({},e),s);(r||je.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=me.timers,a=je.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&vt.test(r)&&n(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));!t&&i||me.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=je.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=me.timers,a=n?n.length:0;for(i.finish=!0,me.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),me.each(["toggle","show","hide"],function(e,t){var i=me.fn[t];me.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(I(t,!0),e,n,r)}}),me.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){me.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),me.timers=[],me.fx.tick=function(){var e,t=0,i=me.timers;for(ft=me.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||me.fx.stop(),ft=void 0},me.fx.timer=function(e){me.timers.push(e),me.fx.start()},me.fx.interval=13,me.fx.start=function(){mt||(mt=!0,N())},me.fx.stop=function(){mt=null},me.fx.speeds={slow:600,fast:200,_default:400},me.fn.delay=function(t,i){return t=me.fx?me.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e=ie.createElement("input"),t=ie.createElement("select"),i=t.appendChild(ie.createElement("option"));e.type="checkbox",pe.checkOn=""!==e.value,pe.optSelected=i.selected,e=ie.createElement("input"),e.value="t",e.type="radio",pe.radioValue="t"===e.value}();var yt,_t=me.expr.attrHandle;me.fn.extend({attr:function(e,t){return Le(this,me.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){me.removeAttr(this,e)})}}),me.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?me.prop(e,t,i):(1===s&&me.isXMLDoc(e)||(r=me.attrHooks[t.toLowerCase()]||(me.expr.match.bool.test(t)?yt:void 0)),void 0!==i?null===i?void me.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=me.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&&"radio"===t&&r(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(ke);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),yt={set:function(e,t,i){return t===!1?me.removeAttr(e,i):e.setAttribute(i,i),i}},me.each(me.expr.match.bool.source.match(/\w+/g),function(e,t){var i=_t[t]||me.find.attr;_t[t]=function(e,t,n){var r,s,a=t.toLowerCase();return n||(s=_t[a],_t[a]=r,r=null!=i(e,t,n)?a:null,_t[a]=s),r}});var wt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;me.fn.extend({prop:function(e,t){return Le(this,me.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[me.propFix[e]||e]})}}),me.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&me.isXMLDoc(e)||(t=me.propFix[t]||t,r=me.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=me.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.optSelected||(me.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),me.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){me.propFix[this.toLowerCase()]=this}),me.fn.extend({addClass:function(e){var t,i,n,r,s,a,o,l=0;if(me.isFunction(e))return this.each(function(t){me(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(ke)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&" "+Y(r)+" "){for(a=0;s=t[a++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");o=Y(n),r!==o&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,n,r,s,a,o,l=0;if(me.isFunction(e))return this.each(function(t){me(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ke)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&" "+Y(r)+" "){for(a=0;s=t[a++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");o=Y(n),r!==o&&i.setAttribute("class",o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):me.isFunction(e)?this.each(function(i){me(this).toggleClass(e.call(this,i,U(this),t),t)}):this.each(function(){var t,n,r,s;if("string"===i)for(n=0,r=me(this),s=e.match(ke)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||(t=U(this),t&&je.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":je.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+Y(U(i))+" ").indexOf(t)>-1)return!0;return!1}});var Tt=/\r/g;me.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=me.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,me(this).val()):e,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=me.map(r,function(e){return null==e?"":e+""})),(t=me.valHooks[this.type]||me.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=me.valHooks[r.type]||me.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(/\r/g,""):null==i?"":i)):void 0}}),me.extend({valHooks:{option:{get:function(e){var t=me.find.attr(e,"value");return null!=t?t:Y(me.text(e))}},select:{get:function(e){var t,i,n,s=e.options,a=e.selectedIndex,o="select-one"===e.type,l=o?null:[],c=o?a+1:s.length;for(n=a<0?c:o?a:0;n<c;n++)if(i=s[n],(i.selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!r(i.parentNode,"optgroup"))){if(t=me(i).val(),o)return t;l.push(t)}return l},set:function(e,t){for(var i,n,r=e.options,s=me.makeArray(t),a=r.length;a--;)n=r[a],(n.selected=me.inArray(me.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),me.each(["radio","checkbox"],function(){me.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=me.inArray(me(e).val(),t)>-1}},pe.checkOn||(me.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;me.extend(me.event,{trigger:function(t,i,n,r){var s,a,o,l,c,h,u,d=[n||ie],p=he.call(t,"type")?t.type:t,f=he.call(t,"namespace")?t.namespace.split("."):[];if(a=o=n=n||ie,3!==n.nodeType&&8!==n.nodeType&&!bt.test(p+me.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[me.expando]?t:new me.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:me.makeArray(i,[t]),u=me.event.special[p]||{},r||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!r&&!u.noBubble&&!me.isWindow(n)){for(l=u.delegateType||p,bt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),o=a;o===(n.ownerDocument||ie)&&d.push(o.defaultView||o.parentWindow||e)}for(s=0;(a=d[s++])&&!t.isPropagationStopped();)t.type=s>1?l:u.bindType||p,h=(je.get(a,"events")||{})[t.type]&&je.get(a,"handle"),h&&h.apply(a,i),(h=c&&a[c])&&h.apply&&He(a)&&(t.result=h.apply(a,i),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||u._default&&u._default.apply(d.pop(),i)!==!1||!He(n)||c&&me.isFunction(n[p])&&!me.isWindow(n)&&(o=n[c],o&&(n[c]=null),me.event.triggered=p,n[p](),me.event.triggered=void 0,o&&(n[c]=o)),t.result}},simulate:function(e,t,i){var n=me.extend(new me.Event,i,{type:e,isSimulated:!0});me.event.trigger(n,null,t)}}),me.fn.extend({trigger:function(e,t){return this.each(function(){me.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return me.event.trigger(e,t,i,!0)}}),me.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){me.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),me.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),pe.focusin="onfocusin"in e,pe.focusin||me.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){me.event.simulate(t,e.target,me.event.fix(e))};me.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=je.access(n,t);r||n.addEventListener(e,i,!0),je.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=je.access(n,t)-1;r?je.access(n,t,r):(n.removeEventListener(e,i,!0),je.remove(n,t))}}});var Et=e.location,Rt=me.now(),Mt=/\?/;me.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||me.error("Invalid XML: "+t),i};var St=/\[\]$/,At=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;me.param=function(e,t){var i,n=[],r=function(e,t){var i=me.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!me.isPlainObject(e))me.each(e,function(){r(this.name,this.value)});else for(i in e)V(i,e[i],t,r);return n.join("&")},me.fn.extend({serialize:function(){return me.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=me.prop(this,"elements");return e?me.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!me(this).is(":disabled")&&kt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!Ge.test(e))}).map(function(e,t){var i=me(this).val();return null==i?null:Array.isArray(i)?me.map(i,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:i.replace(/\r?\n/g,"\r\n")}}).get()}});var Ct=/%20/g,Ot=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Dt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ft={},Nt={},zt="*/".concat("*"),It=ie.createElement("a");It.href=Et.href,me.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:jt.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":me.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,me.ajaxSettings),t):K(me.ajaxSettings,e)},ajaxPrefilter:Z(Ft),ajaxTransport:Z(Nt),ajax:function(t,i){function n(t,i,n,o){var c,d,p,w,x,T=i;h||(h=!0,l&&e.clearTimeout(l),r=void 0,a=o||"",b.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(w=J(f,b,n)),w=ee(f,w,b,c),c?(f.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(me.lastModified[s]=x),(x=b.getResponseHeader("etag"))&&(me.etag[s]=x)),204===t||"HEAD"===f.type?T="nocontent":304===t?T="notmodified":(T=w.state,d=w.data,p=w.error,c=!p)):(p=T,!t&&T||(T="error",t<0&&(t=0))),b.status=t,b.statusText=(i||T)+"",c?v.resolveWith(m,[d,T,b]):v.rejectWith(m,[b,T,p]),b.statusCode(_),_=void 0,u&&g.trigger(c?"ajaxSuccess":"ajaxError",[b,f,c?d:p]),y.fireWith(m,[b,T]),u&&(g.trigger("ajaxComplete",[b,f]),--me.active||me.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,s,a,o,l,c,h,u,d,p,f=me.ajaxSetup({},i),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?me(m):me.event,v=me.Deferred(),y=me.Callbacks("once memory"),_=f.statusCode||{},w={},x={},T="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(h){if(!o)for(o={};t=Ht.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?a:null},setRequestHeader:function(e,t){return null==h&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==h&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)b.always(e[b.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||T;return r&&r.abort(t),n(0,t),this}};if(v.promise(b),f.url=((t||f.url||Et.href)+"").replace(/^\/\//,Et.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(ke)||[""],null==f.crossDomain){c=ie.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=It.protocol+"//"+It.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=me.param(f.data,f.traditional)),Q(Ft,f,i,b),h)return b;u=me.event&&f.global,u&&0==me.active++&&me.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Dt.test(f.type),s=f.url.replace(/#.*$/,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(/%20/g,"+")):(p=f.url.slice(s.length),f.data&&(s+=(Mt.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(s=s.replace(/([?&])_=[^&]*/,"$1"),p=(Mt.test(s)?"&":"?")+"_="+Rt+++p),f.url=s+p),f.ifModified&&(me.lastModified[s]&&b.setRequestHeader("If-Modified-Since",me.lastModified[s]),me.etag[s]&&b.setRequestHeader("If-None-Match",me.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||i.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+zt+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)b.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(m,b,f)===!1||h))return b.abort();if(T="abort",y.add(f.complete),b.done(f.success),b.fail(f.error),r=Q(Nt,f,i,b)){if(b.readyState=1,u&&g.trigger("ajaxSend",[b,f]),h)return b;f.async&&f.timeout>0&&(l=e.setTimeout(function(){b.abort("timeout")},f.timeout));try{h=!1,r.send(w,n)}catch(e){if(h)throw e;n(-1,e)}}else n(-1,"No Transport");return b},getJSON:function(e,t,i){return me.get(e,t,i,"json")},getScript:function(e,t){return me.get(e,void 0,t,"script")}}),me.each(["get","post"],function(e,t){me[t]=function(e,i,n,r){return me.isFunction(i)&&(r=r||n,n=i,i=void 0),me.ajax(me.extend({url:e,type:t,dataType:r,data:i,success:n},me.isPlainObject(e)&&e))}}),me._evalUrl=function(e){return me.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},me.fn.extend({wrapAll:function(e){var t
;return this[0]&&(me.isFunction(e)&&(e=e.call(this[0])),t=me(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return me.isFunction(e)?this.each(function(t){me(this).wrapInner(e.call(this,t))}):this.each(function(){var t=me(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=me.isFunction(e);return this.each(function(i){me(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){me(this).replaceWith(this.childNodes)}),this}}),me.expr.pseudos.hidden=function(e){return!me.expr.pseudos.visible(e)},me.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},me.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Xt=me.ajaxSettings.xhr();pe.cors=!!Xt&&"withCredentials"in Xt,pe.ajax=Xt=!!Xt,me.ajaxTransport(function(t){var i,n;if(pe.cors||Xt&&!t.crossDomain)return{send:function(r,s){var a,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)o.setRequestHeader(a,r[a]);i=function(e){return function(){i&&(i=n=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?s(0,"error"):s(o.status,o.statusText):s(qt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=i(),n=o.onerror=i("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{o.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),me.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),me.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return me.globalEval(e),e}}}),me.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),me.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=me("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),ie.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Wt=[],Gt=/(=)\?(?=&|$)|\?\?/;me.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||me.expando+"_"+Rt++;return this[e]=!0,e}}),me.ajaxPrefilter("json jsonp",function(t,i,n){var r,s,a,o=t.jsonp!==!1&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=me.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Gt,"$1"+r):t.jsonp!==!1&&(t.url+=(Mt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||me.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){a=arguments},n.always(function(){void 0===s?me(e).removeProp(r):e[r]=s,t[r]&&(t.jsonpCallback=i.jsonpCallback,Wt.push(r)),a&&me.isFunction(s)&&s(a[0]),a=s=void 0}),"script"}),pe.createHTMLDocument=function(){var e=ie.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),me.parseHTML=function(e,t,i){if("string"!=typeof e)return[];"boolean"==typeof t&&(i=t,t=!1);var n,r,s;return t||(pe.createHTMLDocument?(t=ie.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=ie.location.href,t.head.appendChild(n)):t=ie),r=Ee.exec(e),s=!i&&[],r?[t.createElement(r[1])]:(r=_([e],t,s),s&&s.length&&me(s).remove(),me.merge([],r.childNodes))},me.fn.load=function(e,t,i){var n,r,s,a=this,o=e.indexOf(" ");return o>-1&&(n=Y(e.slice(o)),e=e.slice(0,o)),me.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&me.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(n?me("<div>").append(me.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,s||[e.responseText,t,e])})}),this},me.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){me.fn[t]=function(e){return this.on(t,e)}}),me.expr.pseudos.animated=function(e){return me.grep(me.timers,function(t){return e===t.elem}).length},me.offset={setOffset:function(e,t,i){var n,r,s,a,o,l,c,h=me.css(e,"position"),u=me(e),d={};"static"===h&&(e.style.position="relative"),o=u.offset(),s=me.css(e,"top"),l=me.css(e,"left"),c=("absolute"===h||"fixed"===h)&&(s+l).indexOf("auto")>-1,c?(n=u.position(),a=n.top,r=n.left):(a=parseFloat(s)||0,r=parseFloat(l)||0),me.isFunction(t)&&(t=t.call(e,i,me.extend({},o))),null!=t.top&&(d.top=t.top-o.top+a),null!=t.left&&(d.left=t.left-o.left+r),"using"in t?t.using.call(e,d):u.css(d)}},me.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){me.offset.setOffset(this,e,t)});var t,i,n,r,s=this[0];return s?s.getClientRects().length?(n=s.getBoundingClientRect(),t=s.ownerDocument,i=t.documentElement,r=t.defaultView,{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===me.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),r(e[0],"html")||(n=e.offset()),n={top:n.top+me.css(e[0],"borderTopWidth",!0),left:n.left+me.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-me.css(i,"marginTop",!0),left:t.left-n.left-me.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===me.css(e,"position");)e=e.offsetParent;return e||Ze})}}),me.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;me.fn[e]=function(n){return Le(this,function(e,n,r){var s;return me.isWindow(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r?s?s[t]:e[n]:void(s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):e[n]=r)},e,n,arguments.length)}}),me.each(["top","left"],function(e,t){me.cssHooks[t]=O(pe.pixelPosition,function(e,i){if(i)return i=C(e,t),at.test(i)?me(e).position()[t]+"px":i})}),me.each({Height:"height",Width:"width"},function(e,t){me.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){me.fn[n]=function(r,s){var a=arguments.length&&(i||"boolean"!=typeof r),o=i||(r===!0||s===!0?"margin":"border");return Le(this,function(t,i,r){var s;return me.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?me.css(t,i,o):me.style(t,i,r,o)},t,a?r:void 0,a)}})}),me.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),me.holdReady=function(e){e?me.readyWait++:me.ready(!0)},me.isArray=Array.isArray,me.parseJSON=JSON.parse,me.nodeName=r,"function"==typeof define&&define.amd&&define("jquery",[],function(){return me});var Yt=e.jQuery,Ut=e.$;return me.noConflict=function(t){return e.$===me&&(e.$=Ut),t&&e.jQuery===me&&(e.jQuery=Yt),me},t||(e.jQuery=e.$=me),me}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,o=l.call(arguments,1),c=0,u=0,d=0,p=0,f=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in a&&(d=-1*a.deltaY,c=d),"deltaX"in a&&(u=a.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,d*=g,u*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,d*=v,u*=v}if(p=Math.max(Math.abs(d),Math.abs(u)),(!s||s>p)&&(s=p,n(a,p)&&(s/=40)),n(a,p)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),d=Math[d>=1?"floor":"ceil"](d/s),h.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=u,t.deltaY=d,t.deltaFactor=s,t.offsetX=f,t.offsetY=m,t.deltaMode=0,o.unshift(t,c,u,d),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,o)}}function i(){s=null}function n(e,t){return h.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var h=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=o.length;i;)this.addEventListener(o[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",h.getLineHeight(this)),e.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=o.length;i;)this.removeEventListener(o[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),THREE.BufferGeometryUtils={computeTangents:function(e){function t(e,t,i){f.fromArray(a,3*e),m.fromArray(a,3*t),g.fromArray(a,3*i),v.fromArray(l,2*e),y.fromArray(l,2*t),_.fromArray(l,2*i);var n=m.x-f.x,r=g.x-f.x,s=m.y-f.y,o=g.y-f.y,c=m.z-f.z,h=g.z-f.z,p=y.x-v.x,T=_.x-v.x,b=y.y-v.y,E=_.y-v.y,R=1/(p*E-T*b);w.set((E*n-b*r)*R,(E*s-b*o)*R,(E*c-b*h)*R),x.set((p*r-T*n)*R,(p*o-T*s)*R,(p*h-T*c)*R),u[e].add(w),u[t].add(w),u[i].add(w),d[e].add(x),d[t].add(x),d[i].add(x)}function i(e){C.fromArray(o,3*e),O.copy(C),H=u[e],P.copy(H),P.sub(C.multiplyScalar(C.dot(H))).normalize(),k.crossVectors(O,H),j=k.dot(d[e]),L=j<0?-1:1,h[4*e]=P.x,h[4*e+1]=P.y,h[4*e+2]=P.z,h[4*e+3]=L}var n=e.index,r=e.attributes;if(null===n||void 0===r.position||void 0===r.normal||void 0===r.uv)return void console.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var s=n.array,a=r.position.array,o=r.normal.array,l=r.uv.array,c=a.length/3;void 0===r.tangent&&e.addAttribute("tangent",new THREE.BufferAttribute(new Float32Array(4*c),4));for(var h=r.tangent.array,u=[],d=[],p=0;p<c;p++)u[p]=new THREE.Vector3,d[p]=new THREE.Vector3;var f=new THREE.Vector3,m=new THREE.Vector3,g=new THREE.Vector3,v=new THREE.Vector2,y=new THREE.Vector2,_=new THREE.Vector2,w=new THREE.Vector3,x=new THREE.Vector3,T=e.groups;0===T.length&&(T=[{start:0,count:s.length}]);for(var p=0,b=T.length;p<b;++p)for(var E=T[p],R=E.start,M=E.count,S=R,A=R+M;S<A;S+=3)t(s[S+0],s[S+1],s[S+2]);for(var P=new THREE.Vector3,k=new THREE.Vector3,C=new THREE.Vector3,O=new THREE.Vector3,L,H,j,p=0,b=T.length;p<b;++p)for(var E=T[p],R=E.start,M=E.count,S=R,A=R+M;S<A;S+=3)i(s[S+0]),i(s[S+1]),i(s[S+2])},mergeBufferGeometries:function(e,t){for(var i=null!==e[0].index,n=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),s={},a={},o=new THREE.BufferGeometry,l=0,c=0;c<e.length;++c){var h=e[c];if(i!==(null!==h.index))return null;for(var u in h.attributes){if(!n.has(u))return null;void 0===s[u]&&(s[u]=[]),s[u].push(h.attributes[u])}for(var u in h.morphAttributes){if(!r.has(u))return null;void 0===a[u]&&(a[u]=[]),a[u].push(h.morphAttributes[u])}if(o.userData.mergedUserData=o.userData.mergedUserData||[],o.userData.mergedUserData.push(h.userData),t){var d;if(i)d=h.index.count;else{if(void 0===h.attributes.position)return null;d=h.attributes.position.count}o.addGroup(l,d,c),l+=d}}if(i){for(var p=0,f=[],c=0;c<e.length;++c){for(var m=e[c].index,g=0;g<m.count;++g)f.push(m.getX(g)+p);p+=e[c].attributes.position.count}o.setIndex(f)}for(var u in s){var v=this.mergeBufferAttributes(s[u]);if(!v)return null;o.addAttribute(u,v)}for(var u in a){var y=a[u][0].length;if(0===y)break;o.morphAttributes=o.morphAttributes||{},o.morphAttributes[u]=[];for(var c=0;c<y;++c){for(var _=[],g=0;g<a[u].length;++g)_.push(a[u][g][c]);var w=this.mergeBufferAttributes(_);if(!w)return null;o.morphAttributes[u].push(w)}}return o},mergeBufferAttributes:function(e){for(var t,i,n,r=0,s=0;s<e.length;++s){var a=e[s];if(a.isInterleavedBufferAttribute)return null;if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return null;if(void 0===i&&(i=a.itemSize),i!==a.itemSize)return null;if(void 0===n&&(n=a.normalized),n!==a.normalized)return null;r+=a.array.length}for(var o=new t(r),l=0,s=0;s<e.length;++s)o.set(e[s].array,l),l+=e[s].array.length;return new THREE.BufferAttribute(o,i,n)}},THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,i,n){var r=this,s=new THREE.FileLoader(r.manager);s.setPath(this.path),s.load(e,function(e){t(r.parse(e))},i,n)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=e,void(this.object.fromDeclaration=t!==!1);var i=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var i=this._finalize(!1);i&&(i.inherited||i.groupCount<=0)&&this.materials.splice(i.index,1);var n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==i?i.smooth:this.smooth,groupStart:void 0!==i?i.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&t.groupEnd===-1&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var i=this.materials.length-1;i>=0;i--)this.materials[i].groupCount<=0&&this.materials.splice(i,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},i&&i.name&&"function"==typeof i.clone){var n=i.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var i=parseInt(e,10);return 3*(i>=0?i-1:i+t/3)},parseNormalIndex:function(e,t){var i=parseInt(e,10);return 3*(i>=0?i-1:i+t/3)},parseUVIndex:function(e,t){var i=parseInt(e,10);return 2*(i>=0?i-1:i+t/2)},addVertex:function(e,t,i){var n=this.vertices,r=this.object.geometry.vertices;r.push(n[e+0]),r.push(n[e+1]),r.push(n[e+2]),r.push(n[t+0]),r.push(n[t+1]),r.push(n[t+2]),r.push(n[i+0]),r.push(n[i+1]),r.push(n[i+2])},addVertexLine:function(e){var t=this.vertices,i=this.object.geometry.vertices;i.push(t[e+0]),i.push(t[e+1]),i.push(t[e+2])},addNormal:function(e,t,i){var n=this.normals,r=this.object.geometry.normals;r.push(n[e+0]),r.push(n[e+1]),r.push(n[e+2]),r.push(n[t+0]),r.push(n[t+1]),r.push(n[t+2]),r.push(n[i+0]),r.push(n[i+1]),r.push(n[i+2])},addUV:function(e,t,i){var n=this.uvs,r=this.object.geometry.uvs;r.push(n[e+0]),r.push(n[e+1]),r.push(n[t+0]),r.push(n[t+1]),r.push(n[i+0]),r.push(n[i+1])},addUVLine:function(e){var t=this.uvs,i=this.object.geometry.uvs;i.push(t[e+0]),i.push(t[e+1])},addFace:function(e,t,i,n,r,s,a,o,l,c,h,u){var d=this.vertices.length,p=this.parseVertexIndex(e,d),f=this.parseVertexIndex(t,d),m=this.parseVertexIndex(i,d),g;if(void 0===n?this.addVertex(p,f,m):(g=this.parseVertexIndex(n,d),this.addVertex(p,f,g),this.addVertex(f,m,g)),void 0!==r){var v=this.uvs.length;p=this.parseUVIndex(r,v),f=this.parseUVIndex(s,v),m=this.parseUVIndex(a,v),void 0===n?this.addUV(p,f,m):(g=this.parseUVIndex(o,v),this.addUV(p,f,g),this.addUV(f,m,g))}if(void 0!==l){var y=this.normals.length;p=this.parseNormalIndex(l,y),f=l===c?p:this.parseNormalIndex(c,y),m=l===h?p:this.parseNormalIndex(h,y),void 0===n?this.addNormal(p,f,m):(g=this.parseNormalIndex(u,y),this.addNormal(p,f,g),this.addNormal(f,m,g))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var i=this.vertices.length,n=this.uvs.length,r=0,s=e.length;r<s;r++)this.addVertexLine(this.parseVertexIndex(e[r],i));for(var a=0,s=t.length;a<s;a++)this.addUVLine(this.parseUVIndex(t[a],n))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();e.indexOf("\r\n")!==-1&&(e=e.replace(/\r\n/g,"\n")),e.indexOf("\\\n")!==-1&&(e=e.replace(/\\\n/g,""));for(var i=e.split("\n"),n="",r="",s="",a=0,o=[],l="function"==typeof"".trimLeft,c=0,h=i.length;c<h;c++)if(n=i[c],n=l?n.trimLeft():n.trim(),0!==(a=n.length)&&"#"!==(r=n.charAt(0)))if("v"===r)if(" "===(s=n.charAt(1))&&null!==(o=this.regexp.vertex_pattern.exec(n)))t.vertices.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));else if("n"===s&&null!==(o=this.regexp.normal_pattern.exec(n)))t.normals.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));else{if("t"!==s||null===(o=this.regexp.uv_pattern.exec(n)))throw new Error("Unexpected vertex/normal/uv line: '"+n+"'");t.uvs.push(parseFloat(o[1]),parseFloat(o[2]))}else if("f"===r)if(null!==(o=this.regexp.face_vertex_uv_normal.exec(n)))t.addFace(o[1],o[4],o[7],o[10],o[2],o[5],o[8],o[11],o[3],o[6],o[9],o[12]);else if(null!==(o=this.regexp.face_vertex_uv.exec(n)))t.addFace(o[1],o[3],o[5],o[7],o[2],o[4],o[6],o[8]);else if(null!==(o=this.regexp.face_vertex_normal.exec(n)))t.addFace(o[1],o[3],o[5],o[7],void 0,void 0,void 0,void 0,o[2],o[4],o[6],o[8]);else{if(null===(o=this.regexp.face_vertex.exec(n)))throw new Error("Unexpected face line: '"+n+"'");t.addFace(o[1],o[2],o[3],o[4])}else if("l"===r){var u=n.substring(1).trim().split(" "),d=[],p=[];if(n.indexOf("/")===-1)d=u;else for(var f=0,m=u.length;f<m;f++){var g=u[f].split("/");""!==g[0]&&d.push(g[0]),""!==g[1]&&p.push(g[1])}t.addLineGeometry(d,p)}else if(null!==(o=this.regexp.object_pattern.exec(n))){var v=(" "+o[0].substr(1).trim()).substr(1);t.startObject(v)}else if(this.regexp.material_use_pattern.test(n))t.object.startMaterial(n.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(n))t.materialLibraries.push(n.substring(7).trim());else{if(null===(o=this.regexp.smoothing_pattern.exec(n))){if("\0"===n)continue;throw new Error("Unexpected line: '"+n+"'")}var y=o[1].trim().toLowerCase();t.object.smooth="1"===y||"on"===y;var _=t.object.currentMaterial();_&&(_.smooth=t.object.smooth)}t.finalize();var w=new THREE.Group;w.materialLibraries=[].concat(t.materialLibraries);for(var c=0,h=t.objects.length;c<h;c++){var x=t.objects[c],T=x.geometry,b=x.materials,E="Line"===T.type;if(0!==T.vertices.length){var R=new THREE.BufferGeometry;R.addAttribute("position",new THREE.BufferAttribute(new Float32Array(T.vertices),3)),T.normals.length>0?R.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(T.normals),3)):R.computeVertexNormals(),T.uvs.length>0&&R.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(T.uvs),2));for(var M=[],S=0,A=b.length;S<A;S++){var P=b[S],_=void 0;if(null!==this.materials&&(_=this.materials.create(P.name),E&&_&&!(_ instanceof THREE.LineBasicMaterial))){var k=new THREE.LineBasicMaterial;k.copy(_),_=k}_||(_=E?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial,_.name=P.name),_.shading=P.smooth?THREE.SmoothShading:THREE.FlatShading,M.push(_)}var C;if(M.length>1){for(var S=0,A=b.length;S<A;S++){var P=b[S];R.addGroup(P.groupStart,P.groupCount,S)}C=E?new THREE.LineSegments(R,M):new THREE.Mesh(R,M)}else C=E?new THREE.LineSegments(R,M[0]):new THREE.Mesh(R,M[0]);C.name=x.name,w.add(C)}}return console.timeEnd("OBJLoader"),w}},THREE.ColladaLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"Anonymous",load:function(e,t,i,n){var r=this,s=void 0===r.path?THREE.LoaderUtils.extractUrlBase(e):r.path;new THREE.FileLoader(r.manager).load(e,function(e){t(r.parse(e,s))},i,n)},setPath:function(e){this.path=e},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){function i(e,t){for(var i=[],n=e.childNodes,r=0,s=n.length;r<s;r++){var a=n[r];a.nodeName===t&&i.push(a)}return i}function n(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),i=new Array(t.length),n=0,r=t.length;n<r;n++)i[n]=t[n];return i}function r(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),i=new Array(t.length),n=0,r=t.length;n<r;n++)i[n]=parseFloat(t[n]);return i}function s(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),i=new Array(t.length),n=0,r=t.length;n<r;n++)i[n]=parseInt(t[n]);return i}function a(e){return e.substring(1)}function o(){return"three_default_"+ut++}function l(e){return 0===Object.keys(e).length}function c(e){return{unit:h(i(e,"unit")[0]),upAxis:u(i(e,"up_axis")[0])}}function h(e){return void 0!==e?parseFloat(e.getAttribute("meter")):1}function u(e){return void 0!==e?e.textContent:"Y_UP"}function d(e,t,n,r){var s=i(e,t)[0];if(void 0!==s)for(var a=i(s,n),o=0;o<a.length;o++)r(a[o])}function p(e,t){for(var i in e){e[i].build=t(e[i])}}function f(e,t){return void 0!==e.build?e.build:(e.build=t(e),e.build)}function m(e){for(var t={sources:{},samplers:{},channels:{}},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType){var s;switch(r.nodeName){case"source":s=r.getAttribute("id"),t.sources[s]=ge(r);break;case"sampler":s=r.getAttribute("id"),t.samplers[s]=g(r);break;case"channel":s=r.getAttribute("target"),t.channels[s]=v(r);break;default:console.log(r)}}}dt.animations[e.getAttribute("id")]=t}function g(e){for(var t={inputs:{}},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var s=a(r.getAttribute("source")),o=r.getAttribute("semantic");t.inputs[o]=s}}return t}function v(e){var t={},i=e.getAttribute("target"),n=i.split("/"),r=n.shift(),s=n.shift(),o=s.indexOf("(")!==-1,l=s.indexOf(".")!==-1;if(l)n=s.split("."),s=n.shift(),t.member=n.shift();else if(o){var c=s.split("(");s=c.shift();for(var h=0;h<c.length;h++)c[h]=parseInt(c[h].replace(/\)/,""));t.indices=c}return t.id=r,t.sid=s,t.arraySyntax=o,t.memberSyntax=l,t.sampler=a(e.getAttribute("source")),t}function y(e){var t=[],i=e.channels,n=e.samplers,r=e.sources;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s],o=n[a.sampler],l=o.inputs.INPUT,c=o.inputs.OUTPUT,h=r[l],u=r[c],d=w(a,h,u);T(d,t)}return t}function _(e){return f(dt.animations[e],y)}function w(e,t,i){var n=dt.nodes[e.id],r=Ue(n.id),s=n.transforms[e.sid],a=n.matrix.clone().transpose(),o,l,c,h,u,d,p={};switch(s){case"matrix":for(c=0,h=t.array.length;c<h;c++)if(o=t.array[c],l=c*i.stride,void 0===p[o]&&(p[o]={}),e.arraySyntax===!0){var f=i.array[l],m=e.indices[0]+4*e.indices[1];p[o][m]=f}else for(u=0,d=i.stride;u<d;u++)p[o][u]=i.array[l+u];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',s);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',s);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',s)}var g=x(p,a);return{name:r.uuid,keyframes:g}}function x(e,t){function i(e,t){return e.time-t.time}var n=[];for(var r in e)n.push({time:parseFloat(r),value:e[r]});n.sort(i);for(var s=0;s<16;s++)b(n,s,t.elements[s]);return n}function T(e,t){for(var i=e.keyframes,n=e.name,r=[],s=[],a=[],o=[],l=0,c=i.length;l<c;l++){var h=i[l],u=h.time,d=h.value;it.fromArray(d).transpose(),it.decompose(Je,tt,et),r.push(u),s.push(Je.x,Je.y,Je.z),a.push(tt.x,tt.y,tt.z,tt.w),o.push(et.x,et.y,et.z)}return s.length>0&&t.push(new THREE.VectorKeyframeTrack(n+".position",r,s)),a.length>0&&t.push(new THREE.QuaternionKeyframeTrack(n+".quaternion",r,a)),o.length>0&&t.push(new THREE.VectorKeyframeTrack(n+".scale",r,o)),t}function b(e,t,i){var n,r=!0,s,a;for(s=0,a=e.length;s<a;s++)n=e[s],void 0===n.value[t]?n.value[t]=null:r=!1;if(r===!0)for(s=0,a=e.length;s<a;s++)n=e[s],n.value[t]=i;else E(e,t)}function E(e,t){for(var i,n,r=0,s=e.length;r<s;r++){var a=e[r];if(null===a.value[t]){if(i=R(e,r,t),n=M(e,r,t),null===i){a.value[t]=n.value[t];continue}if(null===n){a.value[t]=i.value[t];continue}S(a,i,n,t)}}}function R(e,t,i){for(;t>=0;){var n=e[t];if(null!==n.value[i])return n;t--}return null}function M(e,t,i){for(;t<e.length;){var n=e[t];if(null!==n.value[i])return n;t++}return null}function S(e,t,i,n){if(i.time-t.time==0)return void(e.value[n]=t.value[n]);e.value[n]=(e.time-t.time)*(i.value[n]-t.value[n])/(i.time-t.time)+t.value[n]}function A(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"instance_animation":t.animations.push(a(r.getAttribute("url")))}}dt.clips[e.getAttribute("id")]=t}function P(e){for(var t=[],i=e.name,n=e.end-e.start||-1,r=e.animations,s=0,a=r.length;s<a;s++)for(var o=_(r[s]),l=0,c=o.length;l<c;l++)t.push(o[l]);return new THREE.AnimationClip(i,n,t)}function k(e){return f(dt.clips[e],P)}function C(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"skin":t.id=a(r.getAttribute("source")),t.skin=O(r);break;case"morph":t.id=a(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}dt.controllers[e.getAttribute("id")]=t}function O(e){for(var t={sources:{}},i=0,n=e.childNodes.length;i<n;i++){var s=e.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=r(s.textContent);break;case"source":var a=s.getAttribute("id");t.sources[a]=ge(s);break;case"joints":t.joints=L(s);break;case"vertex_weights":t.vertexWeights=H(s)}}return t}function L(e){for(var t={inputs:{}},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var s=r.getAttribute("semantic"),o=a(r.getAttribute("source"));t.inputs[s]=o}}return t}function H(e){for(var t={inputs:{}},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var o=r.getAttribute("semantic"),l=a(r.getAttribute("source")),c=parseInt(r.getAttribute("offset"));t.inputs[o]={id:l,offset:c};break;case"vcount":t.vcount=s(r.textContent);break;case"v":t.v=s(r.textContent)}}return t}function j(e){var t={id:e.id},i=dt.geometries[t.id];return void 0!==e.skin&&(t.skin=D(e.skin),i.sources.skinIndices=t.skin.indices,i.sources.skinWeights=t.skin.weights),t}function D(e){function t(e,t){return t.weight-e.weight}var i=4,n={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},r=e.sources,s=e.vertexWeights,a=s.vcount,o=s.v,l=s.inputs.JOINT.offset,c=s.inputs.WEIGHT.offset,h=e.sources[e.joints.inputs.JOINT],u=e.sources[e.joints.inputs.INV_BIND_MATRIX],d=r[s.inputs.WEIGHT.id].array,p=0,f,m,g;for(f=0,g=a.length;f<g;f++){var v=a[f],y=[];for(m=0;m<v;m++){var _=o[p+l],w=o[p+c],x=d[w];y.push({index:_,weight:x}),p+=2}for(y.sort(t),m=0;m<4;m++){var T=y[m];void 0!==T?(n.indices.array.push(T.index),n.weights.array.push(T.weight)):(n.indices.array.push(0),n.weights.array.push(0))}}for(n.bindMatrix=(new THREE.Matrix4).fromArray(e.bindShapeMatrix).transpose(),f=0,g=h.array.length;f<g;f++){var b=h.array[f],E=(new THREE.Matrix4).fromArray(u.array,f*u.stride).transpose();n.joints.push({name:b,boneInverse:E})}return n}function B(e){return f(dt.controllers[e],j)}function F(e){var t={init_from:i(e,"init_from")[0].textContent};dt.images[e.getAttribute("id")]=t}function N(e){return void 0!==e.build?e.build:e.init_from}function z(e){return f(dt.images[e],N)}function I(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"profile_COMMON":t.profile=q(r)}}dt.effects[e.getAttribute("id")]=t}function q(e){for(var t={surfaces:{},samplers:{}},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"newparam":X(r,t);break;case"technique":t.technique=Y(r)}}return t}function X(e,t){for(var i=e.getAttribute("sid"),n=0,r=e.childNodes.length;n<r;n++){var s=e.childNodes[n];if(1===s.nodeType)switch(s.nodeName){case"surface":t.surfaces[i]=W(s);break;case"sampler2D":t.samplers[i]=G(s)}}}function W(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"init_from":t.init_from=r.textContent}}return t}function G(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"source":t.source=r.textContent}}return t}function Y(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName,t.parameters=U(r)}}return t}function U(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"shininess":case"transparent":case"transparency":t[r.nodeName]=V(r)}}return t}function V(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var s=e.childNodes[i]
;if(1===s.nodeType)switch(s.nodeName){case"color":t[s.nodeName]=r(s.textContent);break;case"float":t[s.nodeName]=parseFloat(s.textContent);break;case"texture":t[s.nodeName]={id:s.getAttribute("texture"),extra:Z(s)}}}return t}function Z(e){for(var t={technique:{}},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"extra":Q(r,t)}}return t}function Q(e,t){for(var i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"technique":K(r,t)}}}function K(e,t){for(var i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent)}}}function J(e){return e}function ee(e){return f(dt.effects[e],J)}function te(e){for(var t={name:e.getAttribute("name")},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"instance_effect":t.url=a(r.getAttribute("url"))}}dt.materials[e.getAttribute("id")]=t}function ie(e){function t(e){var t=i.profile.samplers[e.id];if(void 0!==t){var n=i.profile.surfaces[t.source],r=lt.load(z(n.init_from)),s=e.extra;if(void 0!==s&&void 0!==s.technique&&l(s.technique)===!1){var a=s.technique;r.wrapS=a.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,r.wrapT=a.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,r.offset.set(a.offsetU||0,a.offsetV||0),r.repeat.set(a.repeatU||1,a.repeatV||1)}else r.wrapS=THREE.RepeatWrapping,r.wrapT=THREE.RepeatWrapping;return r}return console.error("THREE.ColladaLoader: Undefined sampler",e.id),null}var i=ee(e.url),n=i.profile.technique,r;switch(n.type){case"phong":case"blinn":r=new THREE.MeshPhongMaterial;break;case"lambert":r=new THREE.MeshLambertMaterial;break;default:r=new THREE.MeshBasicMaterial}r.name=e.name;var s=n.parameters;for(var a in s){var o=s[a];switch(a){case"diffuse":o.color&&r.color.fromArray(o.color),o.texture&&(r.map=t(o.texture));break;case"specular":o.color&&r.specular&&r.specular.fromArray(o.color),o.texture&&(r.specularMap=t(o.texture));break;case"shininess":o.float&&r.shininess&&(r.shininess=o.float);break;case"emission":o.color&&r.emissive&&r.emissive.fromArray(o.color);break;case"transparent":r.transparent=!0;break;case"transparency":void 0!==o.float&&(r.opacity=o.float),r.transparent=!0}}return r}function ne(e){return f(dt.materials[e],ie)}function re(e){for(var t={name:e.getAttribute("name")},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"optics":t.optics=se(r)}}dt.cameras[e.getAttribute("id")]=t}function se(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"technique_common":return ae(i)}}return{}}function ae(e){for(var t={},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];switch(n.nodeName){case"perspective":case"orthographic":t.technique=n.nodeName,t.parameters=oe(n)}}return t}function oe(e){for(var t={},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];switch(n.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[n.nodeName]=parseFloat(n.textContent)}}return t}function le(e){var t;switch(e.optics.technique){case"perspective":t=new THREE.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var i=e.optics.parameters.ymag,n=e.optics.parameters.xmag,r=e.optics.parameters.aspect_ratio;n=void 0===n?i*r:n,i=void 0===i?n/r:i,n*=.5,i*=.5,t=new THREE.OrthographicCamera(-n,n,i,-i,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=e.name,t}function ce(e){var t=dt.cameras[e];return void 0!==t?f(t,le):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function he(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"technique_common":t=ue(r)}}dt.lights[e.getAttribute("id")]=t}function ue(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName,t.parameters=de(r)}}return t}function de(e){for(var t={},i=0,n=e.childNodes.length;i<n;i++){var s=e.childNodes[i];if(1===s.nodeType)switch(s.nodeName){case"color":var a=r(s.textContent);t.color=(new THREE.Color).fromArray(a);break;case"falloff_angle":t.falloffAngle=parseFloat(s.textContent);break;case"quadratic_attenuation":var o=parseFloat(s.textContent);t.distance=o?Math.sqrt(1/o):0}}return t}function pe(e){var t;switch(e.technique){case"directional":t=new THREE.DirectionalLight;break;case"point":t=new THREE.PointLight;break;case"spot":t=new THREE.SpotLight;break;case"ambient":t=new THREE.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function fe(e){var t=dt.lights[e];return void 0!==t?f(t,pe):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function me(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},n=i(e,"mesh")[0];if(void 0!==n){for(var r=0;r<n.childNodes.length;r++){var s=n.childNodes[r];if(1===s.nodeType){var a=s.getAttribute("id");switch(s.nodeName){case"source":t.sources[a]=ge(s);break;case"vertices":t.vertices=ve(s);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",s.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ye(s));break;default:console.log(s)}}}dt.geometries[e.getAttribute("id")]=t}}function ge(e){for(var t={array:[],stride:3},s=0;s<e.childNodes.length;s++){var a=e.childNodes[s];if(1===a.nodeType)switch(a.nodeName){case"float_array":t.array=r(a.textContent);break;case"Name_array":t.array=n(a.textContent);break;case"technique_common":var o=i(a,"accessor")[0];void 0!==o&&(t.stride=parseInt(o.getAttribute("stride")))}}return t}function ve(e){for(var t={},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];1===n.nodeType&&(t[n.getAttribute("semantic")]=a(n.getAttribute("source")))}return t}function ye(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0},i=0,n=e.childNodes.length;i<n;i++){var r=e.childNodes[i];if(1===r.nodeType)switch(r.nodeName){case"input":var o=a(r.getAttribute("source")),l=r.getAttribute("semantic"),c=parseInt(r.getAttribute("offset"));t.inputs[l]={id:o,offset:c},t.stride=Math.max(t.stride,c+1);break;case"vcount":t.vcount=s(r.textContent);break;case"p":t.p=s(r.textContent)}}return t}function _e(e){for(var t={},i=0;i<e.length;i++){var n=e[i];void 0===t[n.type]&&(t[n.type]=[]),t[n.type].push(n)}return t}function we(e){var t={},i=e.sources,n=e.vertices,r=e.primitives;if(0===r.length)return{};var s=_e(r);for(var a in s)t[a]=xe(s[a],i,n);return t}function xe(e,t,i){for(var n={},r={array:[],stride:0},s={array:[],stride:0},a={array:[],stride:0},o={array:[],stride:0},l={array:[],stride:4},c={array:[],stride:4},h=new THREE.BufferGeometry,u=[],d=0,p=0,f=0;f<e.length;f++){var m=e[f],g=m.inputs,v=1;m.vcount&&4===m.vcount[0]&&(v=2),p="lines"===m.type||"linestrips"===m.type?2*m.count:3*m.count*v,h.addGroup(d,p,f),d+=p,m.material&&u.push(m.material);for(var y in g){var _=g[y];switch(y){case"VERTEX":for(var w in i){var x=i[w];switch(w){case"POSITION":Te(m,t[x],_.offset,r.array),r.stride=t[x].stride,t.skinWeights&&t.skinIndices&&(Te(m,t.skinIndices,_.offset,l.array),Te(m,t.skinWeights,_.offset,c.array));break;case"NORMAL":Te(m,t[x],_.offset,s.array),s.stride=t[x].stride;break;case"COLOR":Te(m,t[x],_.offset,o.array),o.stride=t[x].stride;break;case"TEXCOORD":Te(m,t[x],_.offset,a.array),a.stride=t[x].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',w)}}break;case"NORMAL":Te(m,t[_.id],_.offset,s.array),s.stride=t[_.id].stride;break;case"COLOR":Te(m,t[_.id],_.offset,o.array),o.stride=t[_.id].stride;break;case"TEXCOORD":Te(m,t[_.id],_.offset,a.array),a.stride=t[_.id].stride}}}return r.array.length>0&&h.addAttribute("position",new THREE.Float32BufferAttribute(r.array,r.stride)),s.array.length>0&&h.addAttribute("normal",new THREE.Float32BufferAttribute(s.array,s.stride)),o.array.length>0&&h.addAttribute("color",new THREE.Float32BufferAttribute(o.array,o.stride)),a.array.length>0&&h.addAttribute("uv",new THREE.Float32BufferAttribute(a.array,a.stride)),l.array.length>0&&h.addAttribute("skinIndex",new THREE.Float32BufferAttribute(l.array,l.stride)),c.array.length>0&&h.addAttribute("skinWeight",new THREE.Float32BufferAttribute(c.array,c.stride)),n.data=h,n.type=e[0].type,n.materialKeys=u,n}function Te(e,t,i,n){function r(e){for(var t=s[e+i]*h,r=t+h;t<r;t++)n.push(c[t])}var s=e.p,a=e.stride,o=e.vcount,l=0,c=t.array,h=t.stride;if(void 0!==e.vcount){for(var u=0,d=0,p=o.length;d<p;d++){var f=o[d];if(4===f){var m=u+0*a,g=u+1*a,v=u+2*a,y=u+3*a;r(m),r(g),r(y),r(g),r(v),r(y)}else if(3===f){var m=u+0*a,g=u+1*a,v=u+2*a;r(m),r(g),r(v)}else l=Math.max(l,f);u+=a*f}l>0&&console.log("THREE.ColladaLoader: Geometry has faces with more than 4 vertices.")}else for(var d=0,p=s.length;d<p;d+=a)r(d)}function be(e){return f(dt.geometries[e],we)}function Ee(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"technique_common":Se(n,t)}}dt.kinematicsModels[e.getAttribute("id")]=t}function Re(e){return void 0!==e.build?e.build:e}function Me(e){return f(dt.kinematicsModels[e],Re)}function Se(e,t){for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"joint":t.joints[n.getAttribute("sid")]=Ae(n);break;case"link":t.links.push(ke(n))}}}function Ae(e){for(var t,i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"prismatic":case"revolute":t=Pe(n)}}return t}function Pe(e,t){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"axis":var s=r(n.textContent);t.axis.fromArray(s);break;case"limits":var a=n.getElementsByTagName("max")[0],o=n.getElementsByTagName("min")[0];t.limits.max=parseFloat(a.textContent),t.limits.min=parseFloat(o.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function ke(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"attachment_full":t.attachments.push(Ce(n));break;case"matrix":case"translate":case"rotate":t.transforms.push(Oe(n))}}return t}function Ce(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"link":t.links.push(ke(n));break;case"matrix":case"translate":case"rotate":t.transforms.push(Oe(n))}}return t}function Oe(e){var t={type:e.nodeName},i=r(e.textContent);switch(t.type){case"matrix":t.obj=new THREE.Matrix4,t.obj.fromArray(i).transpose();break;case"translate":t.obj=new THREE.Vector3,t.obj.fromArray(i);break;case"rotate":t.obj=new THREE.Vector3,t.obj.fromArray(i),t.angle=THREE.Math.degToRad(i[3])}return t}function Le(e){for(var t={bindJointAxis:[]},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"bind_joint_axis":t.bindJointAxis.push(He(n))}}dt.kinematicsScenes[a(e.getAttribute("url"))]=t}function He(e){for(var t={target:e.getAttribute("target").split("/").pop()},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"axis":var r=n.getElementsByTagName("param")[0];t.axis=r.textContent;var s=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=s.substr(0,s.length-1)}}return t}function je(e){return void 0!==e.build?e.build:e}function De(e){return f(dt.kinematicsScenes[e],je)}function Be(){function e(e,t){var i=t.getAttribute("name"),n=r.joints[e];a.traverse(function(r){r.name===i&&(l[e]={object:r,transforms:Fe(t),joint:n,position:n.zeroPosition})})}var t=Object.keys(dt.kinematicsModels)[0],i=Object.keys(dt.kinematicsScenes)[0],n=Object.keys(dt.visualScenes)[0];if(void 0!==t&&void 0!==i){for(var r=Me(t),s=De(i),a=Ze(n),o=s.bindJointAxis,l={},c=0,h=o.length;c<h;c++){var u=o[c],d=st.querySelector('[sid="'+u.target+'"]');if(d){var p=d.parentElement;e(u.jointIndex,p)}}var f=new THREE.Matrix4;ht={joints:r&&r.joints,getJointValue:function(e){var t=l[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var i=l[e];if(i){var n=i.joint;if(t>n.limits.max||t<n.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+n.limits.min+", max: "+n.limits.max+").");else if(n.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var r=i.object,s=n.axis,a=i.transforms;it.identity();for(var o=0;o<a.length;o++){var c=a[o];if(c.sid&&c.sid.indexOf(e)!==-1)switch(n.type){case"revolute":it.multiply(f.makeRotationAxis(s,THREE.Math.degToRad(t)));break;case"prismatic":it.multiply(f.makeTranslation(s.x*t,s.y*t,s.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+n.type)}else switch(c.type){case"matrix":it.multiply(c.obj);break;case"translate":it.multiply(f.makeTranslation(c.obj.x,c.obj.y,c.obj.z));break;case"scale":it.scale(c.obj);break;case"rotate":it.multiply(f.makeRotationAxis(c.obj,c.angle))}}r.matrix.copy(it),r.matrix.decompose(r.position,r.quaternion,r.scale),l[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}}function Fe(e){for(var t=[],i=st.querySelector('[id="'+e.id+'"]'),n=0;n<i.childNodes.length;n++){var s=i.childNodes[n];if(1===s.nodeType)switch(s.nodeName){case"matrix":var a=r(s.textContent),o=(new THREE.Matrix4).fromArray(a).transpose();t.push({sid:s.getAttribute("sid"),type:s.nodeName,obj:o});break;case"translate":case"scale":var a=r(s.textContent),l=(new THREE.Vector3).fromArray(a);t.push({sid:s.getAttribute("sid"),type:s.nodeName,obj:l});break;case"rotate":var a=r(s.textContent),l=(new THREE.Vector3).fromArray(a),c=THREE.Math.degToRad(a[3]);t.push({sid:s.getAttribute("sid"),type:s.nodeName,obj:l,angle:c})}}return t}function Ne(e){for(var t=e.getElementsByTagName("node"),i=0;i<t.length;i++){var n=t[i];n.hasAttribute("id")===!1&&n.setAttribute("id",o())}}function ze(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(1===n.nodeType)switch(n.nodeName){case"node":t.nodes.push(n.getAttribute("id")),ze(n);break;case"instance_camera":t.instanceCameras.push(a(n.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Ie(n));break;case"instance_light":t.instanceLights.push(a(n.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Ie(n));break;case"instance_node":t.instanceNodes.push(a(n.getAttribute("url")));break;case"matrix":var s=r(n.textContent);t.matrix.multiply(it.fromArray(s).transpose()),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"translate":var s=r(n.textContent);nt.fromArray(s),t.matrix.multiply(it.makeTranslation(nt.x,nt.y,nt.z)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"rotate":var s=r(n.textContent),o=THREE.Math.degToRad(s[3]);t.matrix.multiply(it.makeRotationAxis(nt.fromArray(s),o)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"scale":var s=r(n.textContent);t.matrix.scale(nt.fromArray(s)),t.transforms[n.getAttribute("sid")]=n.nodeName;break;case"extra":}}return dt.nodes[t.id]=t,t}function Ie(e){for(var t={id:a(e.getAttribute("url")),materials:{},skeletons:[]},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];switch(n.nodeName){case"bind_material":for(var r=n.getElementsByTagName("instance_material"),s=0;s<r.length;s++){var o=r[s],l=o.getAttribute("symbol"),c=o.getAttribute("target");t.materials[l]=a(c)}break;case"skeleton":t.skeletons.push(a(n.textContent))}}return t}function qe(e,t){var i=[],n=[],r,s,a;for(r=0;r<e.length;r++){Xe(Ue(e[r]),t,i)}for(r=0;r<t.length;r++)for(s=0;s<i.length;s++)if(a=i[s],a.bone.name===t[r].name){n[r]=a,a.processed=!0;break}for(r=0;r<i.length;r++)a=i[r],a.processed===!1&&(n.push(a),a.processed=!0);var o=[],l=[];for(r=0;r<n.length;r++)a=n[r],o.push(a.bone),l.push(a.boneInverse);return new THREE.Skeleton(o,l)}function Xe(e,t,i){e.traverse(function(e){if(e.isBone===!0){for(var n,r=0;r<t.length;r++){var s=t[r];if(s.name===e.name){n=s.boneInverse;break}}void 0===n&&(n=new THREE.Matrix4),i.push({bone:e,boneInverse:n,processed:!1})}})}function We(e){for(var t=[],i=e.matrix,n=e.nodes,r=e.type,s=e.instanceCameras,a=e.instanceControllers,o=e.instanceLights,l=e.instanceGeometries,c=e.instanceNodes,h=0,u=n.length;h<u;h++)t.push(Ue(n[h]));for(var h=0,u=s.length;h<u;h++){var d=ce(s[h]);null!==d&&t.push(d.clone())}for(var h=0,u=a.length;h<u;h++)for(var p=a[h],f=B(p.id),m=be(f.id),g=Ye(m,p.materials),v=p.skeletons,y=f.skin.joints,_=qe(v,y),w=0,x=g.length;w<x;w++){var T=g[w];T.isSkinnedMesh&&(T.bind(_,f.skin.bindMatrix),T.normalizeSkinWeights()),t.push(T)}for(var h=0,u=o.length;h<u;h++){var b=fe(o[h]);null!==b&&t.push(b.clone())}for(var h=0,u=l.length;h<u;h++)for(var p=l[h],m=be(p.id),g=Ye(m,p.materials),w=0,x=g.length;w<x;w++)t.push(g[w]);for(var h=0,u=c.length;h<u;h++)t.push(Ue(c[h]).clone());var T;if(0===n.length&&1===t.length)T=t[0];else{T="JOINT"===r?new THREE.Bone:new THREE.Group;for(var h=0;h<t.length;h++)T.add(t[h])}return T.name="JOINT"===r?e.sid:e.name,T.matrix.copy(i),T.matrix.decompose(T.position,T.quaternion,T.scale),T}function Ge(e,t){for(var i=[],n=0,r=e.length;n<r;n++){var s=t[e[n]];i.push(ne(s))}return i}function Ye(e,t){var i=[];for(var n in e){var r=e[n],s=Ge(r.materialKeys,t);0===s.length&&("lines"===n||"linestrips"===n?s.push(new THREE.LineBasicMaterial):s.push(new THREE.MeshPhongMaterial));var a=void 0!==r.data.attributes.skinIndex;if(a)for(var o=0,l=s.length;o<l;o++)s[o].skinning=!0;var c=1===s.length?s[0]:s,h;switch(n){case"lines":h=new THREE.LineSegments(r.data,c);break;case"linestrips":h=new THREE.Line(r.data,c);break;case"triangles":case"polylist":h=a?new THREE.SkinnedMesh(r.data,c):new THREE.Mesh(r.data,c)}i.push(h)}return i}function Ue(e){return f(dt.nodes[e],We)}function Ve(e){var t={name:e.getAttribute("name"),children:[]};Ne(e);for(var n=i(e,"node"),r=0;r<n.length;r++)t.children.push(ze(n[r]));dt.visualScenes[e.getAttribute("id")]=t}function $e(e){var t=new THREE.Group;t.name=e.name;for(var i=e.children,n=0;n<i.length;n++){var r=i[n];null===r.id?t.add(We(r)):t.add(Ue(r.id))}return t}function Ze(e){return f(dt.visualScenes[e],$e)}function Qe(e){return Ze(a(i(e,"instance_visual_scene")[0].getAttribute("url")))}function Ke(){var e=dt.clips;if(l(e)===!0){if(l(dt.animations)===!1){var t=[];for(var i in dt.animations)for(var n=_(i),r=0,s=n.length;r<s;r++)t.push(n[r]);ct.push(new THREE.AnimationClip("default",-1,t))}}else for(var i in e)ct.push(k(i))}var Je=new THREE.Vector3,et=new THREE.Vector3,tt=new THREE.Quaternion,it=new THREE.Matrix4,nt=new THREE.Vector3;if(0===e.length)return{scene:new THREE.Scene};var rt=(new DOMParser).parseFromString(e,"application/xml"),st=i(rt,"COLLADA")[0],at=st.getAttribute("version"),ot=c(i(st,"asset")[0]),lt=new THREE.TextureLoader(this.manager);lt.setPath(t).setCrossOrigin(this.crossOrigin);var ct=[],ht={},ut=0,dt={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},kinematicsScenes:{}};d(st,"library_animations","animation",m),d(st,"library_animation_clips","animation_clip",A),d(st,"library_controllers","controller",C),d(st,"library_images","image",F),d(st,"library_effects","effect",I),d(st,"library_materials","material",te),d(st,"library_cameras","camera",re),d(st,"library_lights","light",he),d(st,"library_geometries","geometry",me),d(st,"library_nodes","node",ze),d(st,"library_visual_scenes","visual_scene",Ve),d(st,"library_kinematics_models","kinematics_model",Ee),d(st,"scene","instance_kinematics_scene",Le),p(dt.animations,y),p(dt.clips,P),p(dt.controllers,j),p(dt.images,N),p(dt.effects,J),p(dt.materials,ie),p(dt.cameras,le),p(dt.lights,pe),p(dt.geometries,we),p(dt.visualScenes,$e),Ke(),Be();var pt=Qe(i(st,"scene")[0]);return"Z_UP"===ot.upAxis&&(pt.rotation.x=-Math.PI/2),pt.scale.multiplyScalar(ot.unit),{animations:ct,kinematics:ht,library:dt,scene:pt}}},THREE.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function t(){var e={};return{get:function(t){return e[t]},add:function(t,i){e[t]=i},remove:function(t){delete e[t]},removeAll:function(){e={}},update:function(t,i){for(var n in e){var r=e[n];r.update&&r.update(t,i)}}}}function i(e,t){var i={},n=e.material.uniforms;for(var r in n){var s=n[r];if(s.semantic){var a=s.node,o=e;a&&(o=t[a]),i[r]={semantic:s.semantic,sourceNode:o,targetNode:e,uniform:s}}}this.boundUniforms=i,this._m4=new THREE.Matrix4}function n(e){this.name=d.KHR_MATERIALS_COMMON,this.lights={};var t=e.extensions&&e.extensions[d.KHR_MATERIALS_COMMON]||{},i=t.lights||{};for(var n in i){var r=i[n],s,a=r[r.type],o=(new THREE.Color).fromArray(a.color);switch(r.type){case"directional":s=new THREE.DirectionalLight(o),s.position.set(0,0,1);break;case"point":s=new THREE.PointLight(o);break;case"spot":s=new THREE.SpotLight(o),s.position.set(0,0,1);break;case"ambient":s=new THREE.AmbientLight(o)}s&&(this.lights[n]=s)}}function r(e){this.name=d.KHR_BINARY_GLTF;var t=new DataView(e,0,m),i={magic:o(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0),contentLength:t.getUint32(12,!0),contentFormat:t.getUint32(16,!0)};for(var n in f){var r=f[n];if(i[n]!==r)throw new Error('Unsupported glTF-Binary header: Expected "%s" to be "%s".',n,r)}var s=new Uint8Array(e,m,i.contentLength);this.header=i,this.content=o(s),this.body=e.slice(m+i.contentLength,i.length)}function s(e,t,i){if(!e)return Promise.resolve();var n,r=[];if("[object Array]"===Object.prototype.toString.call(e)){n=[];for(var s=e.length,a=0;a<s;a++){var o=t.call(i||this,e[a],a);o&&(r.push(o),o instanceof Promise?o.then(function(e,t){n[e]=t}.bind(this,a)):n[a]=o)}}else{n={};for(var l in e)if(e.hasOwnProperty(l)){var o=t.call(i||this,e[l],l);o&&(r.push(o),o instanceof Promise?o.then(function(e,t){n[e]=t}.bind(this,l)):n[l]=o)}}return Promise.all(r).then(function(){return n})}function a(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:(t||"")+e}function o(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t}function l(e,t){var i={};for(var n in t.attributes){var r=t.attributes[n],s=t.parameters[r],a=s.type,o=s.semantic;i[n]={type:a,semantic:o}}var l=t.parameters,c=t.attributes,h={};for(var n in i){var r=c[n],u=l[r],o=u.semantic;o&&(h[n]=u)}for(var r in h){var s=h[r],o=s.semantic,d=new RegExp("\\b"+r+"\\b","g");switch(o){case"POSITION":e=e.replace(d,"position");break;case"NORMAL":e=e.replace(d,"normal");break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":e=e.replace(d,"uv");break;case"TEXCOORD_1":e=e.replace(d,"uv2");break;case"COLOR_0":case"COLOR0":case"COLOR":e=e.replace(d,"color");break;case"WEIGHT":e=e.replace(d,"skinWeight");break;case"JOINT":e=e.replace(d,"skinIndex")}}return e}function c(){return new THREE.MeshPhongMaterial({color:0,emissive:8947848,specular:0,shininess:0,transparent:!1,depthTest:!0,side:THREE.FrontSide})}function h(e){this.isDeferredShaderMaterial=!0,this.params=e}function u(e,i,n){this.json=e||{},this.extensions=i||{},this.options=n||{},this.cache=new t}e.prototype={constructor:e,load:function(e,t,i,n){var r=this,s=this.path&&"string"==typeof this.path?this.path:THREE.Loader.prototype.extractUrlBase(e),a=new THREE.FileLoader(r.manager);a.setResponseType("arraybuffer"),a.load(e,function(e){r.parse(e,t,s)},i,n)},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e},parse:function(e,t,i){var s,a={};o(new Uint8Array(e,0,4))===f.magic?(a[d.KHR_BINARY_GLTF]=new r(e),s=a[d.KHR_BINARY_GLTF].content):s=o(new Uint8Array(e));var l=JSON.parse(s);l.extensionsUsed&&l.extensionsUsed.indexOf(d.KHR_MATERIALS_COMMON)>=0&&(a[d.KHR_MATERIALS_COMMON]=new n(l)),console.time("GLTFLoader"),new u(l,a,{path:i||this.path,crossOrigin:this.crossOrigin}).parse(function(e,i,n,r){console.timeEnd("GLTFLoader"),t({scene:e,scenes:i,cameras:n,animations:r})})}},e.Shaders={update:function(){console.warn("THREE.GLTFLoader.Shaders has been deprecated, and now updates automatically.")}},i.prototype.update=function(e,t){var i=this.boundUniforms;for(var n in i){var r=i[n];switch(r.semantic){case"MODELVIEW":var s=r.uniform.value;s.multiplyMatrices(t.matrixWorldInverse,r.sourceNode.matrixWorld);break;case"MODELVIEWINVERSETRANSPOSE":var a=r.uniform.value;this._m4.multiplyMatrices(t.matrixWorldInverse,r.sourceNode.matrixWorld),a.getNormalMatrix(this._m4);break;case"PROJECTION":var s=r.uniform.value;s.copy(t.projectionMatrix);break;case"JOINTMATRIX":for(var o=r.uniform.value,l=0;l<o.length;l++)o[l].getInverse(r.sourceNode.matrixWorld).multiply(r.targetNode.skeleton.bones[l].matrixWorld).multiply(r.targetNode.skeleton.boneInverses[l]).multiply(r.targetNode.bindMatrix);break;default:console.warn("Unhandled shader semantic: "+r.semantic)}}},e.Animations={update:function(){console.warn("THREE.GLTFLoader.Animation has been deprecated. Use THREE.AnimationMixer instead.")}};var d={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_MATERIALS_COMMON:"KHR_materials_common"},p="binary_glTF",f={magic:"glTF",version:1,contentFormat:0},m=20;r.prototype.loadShader=function(e,t){var i=t[e.extensions[d.KHR_BINARY_GLTF].bufferView];return o(new Uint8Array(i))},r.prototype.loadTextureSourceUri=function(e,t){var i=e.extensions[d.KHR_BINARY_GLTF],n=t[i.bufferView],r=o(new Uint8Array(n));return"data:"+i.mimeType+";base64,"+btoa(r)};var g={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,TRIANGLES:4,LINES:1,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,VERTEX_SHADER:35633,FRAGMENT_SHADER:35632},v={5126:Number,35675:THREE.Matrix3,35676:THREE.Matrix4,35664:THREE.Vector2,35665:THREE.Vector3,35666:THREE.Vector4,35678:THREE.Texture},y={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},_={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},w={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},x={6406:THREE.AlphaFormat,6407:THREE.RGBFormat,6408:THREE.RGBAFormat,6409:THREE.LuminanceFormat,6410:THREE.LuminanceAlphaFormat},T={5121:THREE.UnsignedByteType,32819:THREE.UnsignedShort4444Type,32820:THREE.UnsignedShort5551Type,33635:THREE.UnsignedShort565Type},b={1028:THREE.BackSide,1029:THREE.FrontSide},E={512:THREE.NeverDepth,513:THREE.LessDepth,514:THREE.EqualDepth,515:THREE.LessEqualDepth,516:THREE.GreaterEqualDepth,517:THREE.NotEqualDepth,518:THREE.GreaterEqualDepth,519:THREE.AlwaysDepth},R={32774:THREE.AddEquation,32778:THREE.SubtractEquation,32779:THREE.ReverseSubtractEquation},M={0:THREE.ZeroFactor,1:THREE.OneFactor,768:THREE.SrcColorFactor,769:THREE.OneMinusSrcColorFactor,770:THREE.SrcAlphaFactor,771:THREE.OneMinusSrcAlphaFactor,772:THREE.DstAlphaFactor,773:THREE.OneMinusDstAlphaFactor,774:THREE.DstColorFactor,775:THREE.OneMinusDstColorFactor,776:THREE.SrcAlphaSaturateFactor},S={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},A={scale:"scale",translation:"position",rotation:"quaternion"},P={LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},k={2884:"CULL_FACE",2929:"DEPTH_TEST",3042:"BLEND",3089:"SCISSOR_TEST",32823:"POLYGON_OFFSET_FILL",32926:"SAMPLE_ALPHA_TO_COVERAGE"};return h.prototype.create=function(){var e=THREE.UniformsUtils.clone(this.params.uniforms);for(var t in this.params.uniforms){var i=this.params.uniforms[t];i.value instanceof THREE.Texture&&(e[t].value=i.value,e[t].value.needsUpdate=!0),e[t].semantic=i.semantic,e[t].node=i.node}return this.params.uniforms=e,new THREE.RawShaderMaterial(this.params)},u.prototype._withDependencies=function(e){for(var t={},i=0;i<e.length;i++){var n=e[i],r="load"+n.charAt(0).toUpperCase()+n.slice(1),a=this.cache.get(n);if(void 0!==a)t[n]=a;else if(this[r]){var o=this[r]();this.cache.add(n,o),t[n]=o}}return s(t,function(e){return e})},u.prototype.parse=function(e){var t=this.json;this.cache.removeAll(),this._withDependencies(["scenes","cameras","animations"]).then(function(i){var n=[];for(var r in i.scenes)n.push(i.scenes[r]);var s=void 0!==t.scene?i.scenes[t.scene]:n[0],a=[];for(var r in i.cameras){var o=i.cameras[r];a.push(o)}var l=[];for(var r in i.animations)l.push(i.animations[r]);e(s,n,a,l)})},u.prototype.loadShaders=function(){var e=this.json,t=this.extensions,i=this.options;return this._withDependencies(["bufferViews"]).then(function(n){return s(e.shaders,function(e){return e.extensions&&e.extensions[d.KHR_BINARY_GLTF]?t[d.KHR_BINARY_GLTF].loadShader(e,n.bufferViews):new Promise(function(t){var n=new THREE.FileLoader;n.setResponseType("text"),n.load(a(e.uri,i.path),function(e){t(e)})})})})},u.prototype.loadBuffers=function(){var e=this.json,t=this.extensions,i=this.options;return s(e.buffers,function(e,n){return"binary_glTF"===n?t[d.KHR_BINARY_GLTF].body:"arraybuffer"===e.type||void 0===e.type?new Promise(function(t){var n=new THREE.FileLoader;n.setResponseType("arraybuffer"),n.load(a(e.uri,i.path),function(e){t(e)})}):void console.warn("THREE.GLTFLoader: "+e.type+" buffer type is not supported")})},u.prototype.loadBufferViews=function(){var e=this.json;return this._withDependencies(["buffers"]).then(function(t){return s(e.bufferViews,function(e){var i=t.buffers[e.buffer],n=void 0!==e.byteLength?e.byteLength:0;return i.slice(e.byteOffset,e.byteOffset+n)})})},u.prototype.loadAccessors=function(){var e=this.json;return this._withDependencies(["bufferViews"]).then(function(t){return s(e.accessors,function(e){var i=t.bufferViews[e.bufferView],n=S[e.type],r=y[e.componentType],s=r.BYTES_PER_ELEMENT,a=s*n;if(e.byteStride&&e.byteStride!==a){var o=new r(i),l=new THREE.InterleavedBuffer(o,e.byteStride/s);return new THREE.InterleavedBufferAttribute(l,n,e.byteOffset/s)}return o=new r(i,e.byteOffset,e.count*n),new THREE.BufferAttribute(o,n)})})},u.prototype.loadTextures=function(){var e=this.json,t=this.extensions,i=this.options;return this._withDependencies(["bufferViews"]).then(function(n){return s(e.textures,function(r){if(r.source)return new Promise(function(s){var o=e.images[r.source],l=o.uri;o.extensions&&o.extensions[d.KHR_BINARY_GLTF]&&(l=t[d.KHR_BINARY_GLTF].loadTextureSourceUri(o,n.bufferViews));var c=THREE.Loader.Handlers.get(l);null===c&&(c=new THREE.TextureLoader),c.setCrossOrigin(i.crossOrigin),c.load(a(l,i.path),function(t){if(t.flipY=!1,void 0!==r.name&&(t.name=r.name),t.format=void 0!==r.format?x[r.format]:THREE.RGBAFormat,
void 0!==r.internalFormat&&t.format!==x[r.internalFormat]&&console.warn("THREE.GLTFLoader: Three.js doesn't support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format."),t.type=void 0!==r.type?T[r.type]:THREE.UnsignedByteType,r.sampler){var i=e.samplers[r.sampler];t.magFilter=_[i.magFilter]||THREE.LinearFilter,t.minFilter=_[i.minFilter]||THREE.NearestMipMapLinearFilter,t.wrapS=w[i.wrapS]||THREE.RepeatWrapping,t.wrapT=w[i.wrapT]||THREE.RepeatWrapping}s(t)},void 0,function(){s()})})})})},u.prototype.loadMaterials=function(){var e=this.json;return this._withDependencies(["shaders","textures"]).then(function(t){return s(e.materials,function(i){var n,r={},s={},a;if(i.extensions&&i.extensions[d.KHR_MATERIALS_COMMON]&&(a=i.extensions[d.KHR_MATERIALS_COMMON]),a){var o=["ambient","emission","transparent","transparency","doubleSided"];switch(a.technique){case"BLINN":case"PHONG":n=THREE.MeshPhongMaterial,o.push("diffuse","specular","shininess");break;case"LAMBERT":n=THREE.MeshLambertMaterial,o.push("diffuse");break;case"CONSTANT":default:n=THREE.MeshBasicMaterial}o.forEach(function(e){void 0!==a.values[e]&&(r[e]=a.values[e])}),(a.doubleSided||r.doubleSided)&&(s.side=THREE.DoubleSide),(a.transparent||r.transparent)&&(s.transparent=!0,s.opacity=void 0!==r.transparency?r.transparency:1)}else if(void 0===i.technique)n=THREE.MeshPhongMaterial,Object.assign(r,i.values);else{n=h;var c=e.techniques[i.technique];s.uniforms={};var u=e.programs[c.program];if(u){s.fragmentShader=t.shaders[u.fragmentShader],s.fragmentShader||(console.warn("ERROR: Missing fragment shader definition:",u.fragmentShader),n=THREE.MeshPhongMaterial);var p=t.shaders[u.vertexShader];p||(console.warn("ERROR: Missing vertex shader definition:",u.vertexShader),n=THREE.MeshPhongMaterial),s.vertexShader=l(p,c);var f=c.uniforms;for(var m in f){var y=f[m],_=c.parameters[y],w=_.type;if(!v[w])throw new Error("Unknown shader uniform param type: "+w);var x=_.count,T;void 0!==i.values&&(T=i.values[y]);var S=new v[w],A=_.semantic,P=_.node;switch(w){case g.FLOAT:S=_.value,"transparency"==y&&(s.transparent=!0),void 0!==T&&(S=T);break;case g.FLOAT_VEC2:case g.FLOAT_VEC3:case g.FLOAT_VEC4:case g.FLOAT_MAT3:_&&_.value&&S.fromArray(_.value),T&&S.fromArray(T);break;case g.FLOAT_MAT2:console.warn("FLOAT_MAT2 is not a supported uniform type");break;case g.FLOAT_MAT4:if(x){S=new Array(x);for(var C=0;C<x;C++)S[C]=new v[w];if(_&&_.value){var O=_.value;S.fromArray(O)}T&&S.fromArray(T)}else{if(_&&_.value){var L=_.value;S.fromArray(L)}T&&S.fromArray(T)}break;case g.SAMPLER_2D:S=void 0!==T?t.textures[T]:void 0!==_.value?t.textures[_.value]:null}s.uniforms[m]={value:S,semantic:A,node:P}}for(var H=c.states||{},j=H.enable||[],D=H.functions||{},B=!1,F=!1,N=!1,z=0,I=j.length;z<I;z++){var q=j[z];switch(k[q]){case"CULL_FACE":B=!0;break;case"DEPTH_TEST":F=!0;break;case"BLEND":N=!0;break;case"SCISSOR_TEST":case"POLYGON_OFFSET_FILL":case"SAMPLE_ALPHA_TO_COVERAGE":break;default:throw new Error("Unknown technique.states.enable: "+q)}}s.side=B?void 0!==D.cullFace?b[D.cullFace]:THREE.FrontSide:THREE.DoubleSide,s.depthTest=F,s.depthFunc=void 0!==D.depthFunc?E[D.depthFunc]:THREE.LessDepth,s.depthWrite=void 0===D.depthMask||D.depthMask[0],s.blending=N?THREE.CustomBlending:THREE.NoBlending,s.transparent=N;var X=D.blendEquationSeparate;void 0!==X?(s.blendEquation=R[X[0]],s.blendEquationAlpha=R[X[1]]):(s.blendEquation=THREE.AddEquation,s.blendEquationAlpha=THREE.AddEquation);var W=D.blendFuncSeparate;void 0!==W?(s.blendSrc=M[W[0]],s.blendDst=M[W[1]],s.blendSrcAlpha=M[W[2]],s.blendDstAlpha=M[W[3]]):(s.blendSrc=THREE.OneFactor,s.blendDst=THREE.ZeroFactor,s.blendSrcAlpha=THREE.OneFactor,s.blendDstAlpha=THREE.ZeroFactor)}}Array.isArray(r.diffuse)?s.color=(new THREE.Color).fromArray(r.diffuse):"string"==typeof r.diffuse&&(s.map=t.textures[r.diffuse]),delete s.diffuse,"string"==typeof r.reflective&&(s.envMap=t.textures[r.reflective]),"string"==typeof r.bump&&(s.bumpMap=t.textures[r.bump]),Array.isArray(r.emission)?n===THREE.MeshBasicMaterial?s.color=(new THREE.Color).fromArray(r.emission):s.emissive=(new THREE.Color).fromArray(r.emission):"string"==typeof r.emission&&(n===THREE.MeshBasicMaterial?s.map=t.textures[r.emission]:s.emissiveMap=t.textures[r.emission]),Array.isArray(r.specular)?s.specular=(new THREE.Color).fromArray(r.specular):"string"==typeof r.specular&&(s.specularMap=t.textures[r.specular]),void 0!==r.shininess&&(s.shininess=r.shininess);var G=new n(s);return void 0!==i.name&&(G.name=i.name),G})})},u.prototype.loadMeshes=function(){var e=this.json;return this._withDependencies(["accessors","materials"]).then(function(t){return s(e.meshes,function(e){var i=new THREE.Group;void 0!==e.name&&(i.name=e.name),e.extras&&(i.userData=e.extras);var n=e.primitives||[];for(var r in n){var s=n[r];if(s.mode===g.TRIANGLES||void 0===s.mode){var a=new THREE.BufferGeometry,o=s.attributes;for(var l in o){var h=o[l];if(!h)return;var u=t.accessors[h];switch(l){case"POSITION":a.addAttribute("position",u);break;case"NORMAL":a.addAttribute("normal",u);break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":a.addAttribute("uv",u);break;case"TEXCOORD_1":a.addAttribute("uv2",u);break;case"COLOR_0":case"COLOR0":case"COLOR":a.addAttribute("color",u);break;case"WEIGHT":a.addAttribute("skinWeight",u);break;case"JOINT":a.addAttribute("skinIndex",u)}}s.indices&&a.setIndex(t.accessors[s.indices]);var d=void 0!==t.materials?t.materials[s.material]:c(),p=new THREE.Mesh(a,d);p.castShadow=!0,p.name="0"===r?i.name:i.name+r,s.extras&&(p.userData=s.extras),i.add(p)}else if(s.mode===g.LINES){var a=new THREE.BufferGeometry,o=s.attributes;for(var l in o){var h=o[l];if(!h)return;var u=t.accessors[h];switch(l){case"POSITION":a.addAttribute("position",u);break;case"COLOR_0":case"COLOR0":case"COLOR":a.addAttribute("color",u)}}var d=t.materials[s.material],p;s.indices?(a.setIndex(t.accessors[s.indices]),p=new THREE.LineSegments(a,d)):p=new THREE.Line(a,d),p.name="0"===r?i.name:i.name+r,s.extras&&(p.userData=s.extras),i.add(p)}else console.warn("Only triangular and line primitives are supported")}return i})})},u.prototype.loadCameras=function(){return s(this.json.cameras,function(e){if("perspective"==e.type&&e.perspective){var t=e.perspective.yfov,i=void 0!==e.perspective.aspectRatio?e.perspective.aspectRatio:1,n=t*i,r=new THREE.PerspectiveCamera(THREE.Math.radToDeg(n),i,e.perspective.znear||1,e.perspective.zfar||2e6);return void 0!==e.name&&(r.name=e.name),e.extras&&(r.userData=e.extras),r}if("orthographic"==e.type&&e.orthographic){var r=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,e.orthographic.znear,e.orthographic.zfar);return void 0!==e.name&&(r.name=e.name),e.extras&&(r.userData=e.extras),r}})},u.prototype.loadSkins=function(){var e=this.json;return this._withDependencies(["accessors"]).then(function(t){return s(e.skins,function(e){var i=new THREE.Matrix4;return void 0!==e.bindShapeMatrix&&i.fromArray(e.bindShapeMatrix),{bindShapeMatrix:i,jointNames:e.jointNames,inverseBindMatrices:t.accessors[e.inverseBindMatrices]}})})},u.prototype.loadAnimations=function(){var e=this.json;return this._withDependencies(["accessors","nodes"]).then(function(t){return s(e.animations,function(e,i){var n=[];for(var r in e.channels){var s=e.channels[r],a=e.samplers[s.sampler];if(a){var o=s.target,l=o.id,c=void 0!==e.parameters?e.parameters[a.input]:a.input,h=void 0!==e.parameters?e.parameters[a.output]:a.output,u=t.accessors[c],d=t.accessors[h],p=t.nodes[l];if(p){p.updateMatrix(),p.matrixAutoUpdate=!0;var f=A[o.path]===A.rotation?THREE.QuaternionKeyframeTrack:THREE.VectorKeyframeTrack,m=p.name?p.name:p.uuid,g=void 0!==a.interpolation?P[a.interpolation]:THREE.InterpolateLinear;n.push(new f(m+"."+A[o.path],THREE.AnimationUtils.arraySlice(u.array,0),THREE.AnimationUtils.arraySlice(d.array,0),g))}}}var l=void 0!==e.name?e.name:"animation_"+i;return new THREE.AnimationClip(l,void 0,n)})})},u.prototype.loadNodes=function(){var e=this.json,t=this.extensions,i=this;return s(e.nodes,function(e){var t=new THREE.Matrix4,i;return e.jointName?(i=new THREE.Bone,i.name=void 0!==e.name?e.name:e.jointName,i.jointName=e.jointName):(i=new THREE.Object3D,void 0!==e.name&&(i.name=e.name)),e.extras&&(i.userData=e.extras),void 0!==e.matrix?(t.fromArray(e.matrix),i.applyMatrix(t)):(void 0!==e.translation&&i.position.fromArray(e.translation),void 0!==e.rotation&&i.quaternion.fromArray(e.rotation),void 0!==e.scale&&i.scale.fromArray(e.scale)),i}).then(function(n){return i._withDependencies(["meshes","skins","cameras"]).then(function(i){return s(n,function(r,s){var a=e.nodes[s];if(void 0!==a.meshes)for(var o in a.meshes){var l=a.meshes[o],c=i.meshes[l];if(void 0!==c)for(var h in c.children){var u=c.children[h],p=u.material,f=u.geometry,m=u.userData,g=u.name,v;switch(p.isDeferredShaderMaterial?p=v=p.create():v=p,u.type){case"LineSegments":u=new THREE.LineSegments(f,v);break;case"LineLoop":u=new THREE.LineLoop(f,v);break;case"Line":u=new THREE.Line(f,v);break;default:u=new THREE.Mesh(f,v)}u.castShadow=!0,u.userData=m,u.name=g;var y;if(a.skin&&(y=i.skins[a.skin]),y){var _=function(e){for(var t=Object.keys(n),i=0,r=t.length;i<r;i++){var s=n[t[i]];if(s.jointName===e)return s}return null},w=f,v=p;v.skinning=!0,u=new THREE.SkinnedMesh(w,v,!1),u.castShadow=!0,u.userData=m,u.name=g;for(var x=[],T=[],b=0,E=y.jointNames.length;b<E;b++){var R=y.jointNames[b],M=_(R);if(M){x.push(M);var S=y.inverseBindMatrices.array,A=(new THREE.Matrix4).fromArray(S,16*b);T.push(A)}else console.warn("WARNING: joint: '"+R+"' could not be found")}u.bind(new THREE.Skeleton(x,T,!1),y.bindShapeMatrix);var P=function(t,i,r){var s=t[r];if(void 0!==s)for(var a=0,o=s.length;a<o;a++){var l=s[a],c=n[l],h=e.nodes[l];void 0!==c&&c.isBone===!0&&void 0!==h&&(i.add(c),P(h,c,"children"))}};P(a,u,"skeletons")}r.add(u)}else console.warn("GLTFLoader: Couldn't find node \""+l+'".')}if(void 0!==a.camera){var k=i.cameras[a.camera];r.add(k)}if(a.extensions&&a.extensions[d.KHR_MATERIALS_COMMON]&&a.extensions[d.KHR_MATERIALS_COMMON].light){var C=t[d.KHR_MATERIALS_COMMON].lights,O=C[a.extensions[d.KHR_MATERIALS_COMMON].light];r.add(O)}return r})})})},u.prototype.loadScenes=function(){function e(i,n,r){var s=r[i];n.add(s);var a=t.nodes[i];if(a.children)for(var o=a.children,l=0,c=o.length;l<c;l++){var h=o[l];e(h,s,r)}}var t=this.json;return this._withDependencies(["nodes"]).then(function(n){return s(t.scenes,function(t){var r=new THREE.Scene;void 0!==t.name&&(r.name=t.name),t.extras&&(r.userData=t.extras);for(var s=t.nodes||[],a=0,o=s.length;a<o;a++){e(s[a],r,n.nodes)}return r.traverse(function(e){e.material&&e.material.isRawShaderMaterial&&(e.gltfShader=new i(e,n.nodes),e.onBeforeRender=function(e,t,i){this.gltfShader.update(t,i)})}),r})})},e}(),THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")},THREE.EffectComposer=function(e,t){if(this.renderer=e,void 0===t){var i={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1},n=e.getDrawingBufferSize();t=new THREE.WebGLRenderTarget(n.width,n.height,i),t.texture.name="EffectComposer.rt1"}this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),void 0===THREE.ShaderPass&&console.error("THREE.EffectComposer relies on THREE.ShaderPass"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getDrawingBufferSize();e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){var t=!1,i,n,r=this.passes.length;for(n=0;n<r;n++)if(i=this.passes[n],i.enabled!==!1){if(i.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),i.needsSwap){if(t){var s=this.renderer.context;s.stencilFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.stencilFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(i instanceof THREE.MaskPass?t=!0:i instanceof THREE.ClearMaskPass&&(t=!1))}},reset:function(e){if(void 0===e){var t=this.renderer.getDrawingBufferSize();e=this.renderTarget1.clone(),e.setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(e,t)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(e,t){},render:function(e,t,i,n,r){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),THREE.RenderPass=function(e,t,i,n,r){THREE.Pass.call(this),this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=n,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},THREE.RenderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.RenderPass,render:function(e,t,i,n,r){var s=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial;var a,o;this.clearColor&&(a=e.getClearColor().getHex(),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.render(this.scene,this.camera,this.renderToScreen?null:i,this.clear),this.clearColor&&e.setClearColor(a,o),this.scene.overrideMaterial=null,e.autoClear=s}}),THREE.ShaderPass=function(e,t){THREE.Pass.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof THREE.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.ShaderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.ShaderPass,render:function(e,t,i,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}}),THREE.HorizontalBlurShader={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;","sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;","gl_FragColor = sum;","}"].join("\n")},THREE.VerticalBlurShader={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;","gl_FragColor = sum;","}"].join("\n")};var BR=BR||{};BR.ShaderNoise=["\tvec3 mod289(vec3 x)","\t{","\treturn x - floor(x * (1.0 / 289.0)) * 289.0;","\t}","","\tvec4 mod289(vec4 x)","\t{","\treturn x - floor(x * (1.0 / 289.0)) * 289.0;","\t}","","\tvec4 permute(vec4 x)","\t{","\treturn mod289(((x*34.0)+1.0)*x);","\t}","","\tvec4 taylorInvSqrt(vec4 r)","\t{","\treturn 1.79284291400159 - 0.85373472095314 * r;","\t}","","\tvec3 fade(vec3 t) {","\treturn t*t*t*(t*(t*6.0-15.0)+10.0);","\t}","","\t// Classic Perlin noise","\tfloat cnoise(vec3 P)","\t{","\tvec3 Pi0 = floor(P); // Integer part for indexing","\tvec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1","\tPi0 = mod289(Pi0);","\tPi1 = mod289(Pi1);","\tvec3 Pf0 = fract(P); // Fractional part for interpolation","\tvec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0","\tvec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);","\tvec4 iy = vec4(Pi0.yy, Pi1.yy);","\tvec4 iz0 = Pi0.zzzz;","\tvec4 iz1 = Pi1.zzzz;","","\tvec4 ixy = permute(permute(ix) + iy);","\tvec4 ixy0 = permute(ixy + iz0);","\tvec4 ixy1 = permute(ixy + iz1);","","\tvec4 gx0 = ixy0 * (1.0 / 7.0);","\tvec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;","\tgx0 = fract(gx0);","\tvec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);","\tvec4 sz0 = step(gz0, vec4(0.0));","\tgx0 -= sz0 * (step(0.0, gx0) - 0.5);","\tgy0 -= sz0 * (step(0.0, gy0) - 0.5);","","\tvec4 gx1 = ixy1 * (1.0 / 7.0);","\tvec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;","\tgx1 = fract(gx1);","\tvec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);","\tvec4 sz1 = step(gz1, vec4(0.0));","\tgx1 -= sz1 * (step(0.0, gx1) - 0.5);","\tgy1 -= sz1 * (step(0.0, gy1) - 0.5);","","\tvec3 g000 = vec3(gx0.x,gy0.x,gz0.x);","\tvec3 g100 = vec3(gx0.y,gy0.y,gz0.y);","\tvec3 g010 = vec3(gx0.z,gy0.z,gz0.z);","\tvec3 g110 = vec3(gx0.w,gy0.w,gz0.w);","\tvec3 g001 = vec3(gx1.x,gy1.x,gz1.x);","\tvec3 g101 = vec3(gx1.y,gy1.y,gz1.y);","\tvec3 g011 = vec3(gx1.z,gy1.z,gz1.z);","\tvec3 g111 = vec3(gx1.w,gy1.w,gz1.w);","","\tvec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));","\tg000 *= norm0.x;","\tg010 *= norm0.y;","\tg100 *= norm0.z;","\tg110 *= norm0.w;","\tvec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));","\tg001 *= norm1.x;","\tg011 *= norm1.y;","\tg101 *= norm1.z;","\tg111 *= norm1.w;","","\tfloat n000 = dot(g000, Pf0);","\tfloat n100 = dot(g100, vec3(Pf1.x, Pf0.yz));","\tfloat n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));","\tfloat n110 = dot(g110, vec3(Pf1.xy, Pf0.z));","\tfloat n001 = dot(g001, vec3(Pf0.xy, Pf1.z));","\tfloat n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));","\tfloat n011 = dot(g011, vec3(Pf0.x, Pf1.yz));","\tfloat n111 = dot(g111, Pf1);","","\tvec3 fade_xyz = fade(Pf0);","\tvec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);","\tvec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);","\tfloat n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); ","\treturn 2.2 * n_xyz;","\t}","","\t// Classic Perlin noise, periodic variant","\tfloat pnoise(vec3 P, vec3 rep)","\t{","\tvec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period","\tvec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period","\tPi0 = mod289(Pi0);","\tPi1 = mod289(Pi1);","\tvec3 Pf0 = fract(P); // Fractional part for interpolation","\tvec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0","\tvec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);","\tvec4 iy = vec4(Pi0.yy, Pi1.yy);","\tvec4 iz0 = Pi0.zzzz;","\tvec4 iz1 = Pi1.zzzz;","","\tvec4 ixy = permute(permute(ix) + iy);","\tvec4 ixy0 = permute(ixy + iz0);","\tvec4 ixy1 = permute(ixy + iz1);","","\tvec4 gx0 = ixy0 * (1.0 / 7.0);","\tvec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;","\tgx0 = fract(gx0);","\tvec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);","\tvec4 sz0 = step(gz0, vec4(0.0));","\tgx0 -= sz0 * (step(0.0, gx0) - 0.5);","\tgy0 -= sz0 * (step(0.0, gy0) - 0.5);","","\tvec4 gx1 = ixy1 * (1.0 / 7.0);","\tvec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;","\tgx1 = fract(gx1);","\tvec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);","\tvec4 sz1 = step(gz1, vec4(0.0));","\tgx1 -= sz1 * (step(0.0, gx1) - 0.5);","\tgy1 -= sz1 * (step(0.0, gy1) - 0.5);","","\tvec3 g000 = vec3(gx0.x,gy0.x,gz0.x);","\tvec3 g100 = vec3(gx0.y,gy0.y,gz0.y);","\tvec3 g010 = vec3(gx0.z,gy0.z,gz0.z);","\tvec3 g110 = vec3(gx0.w,gy0.w,gz0.w);","\tvec3 g001 = vec3(gx1.x,gy1.x,gz1.x);","\tvec3 g101 = vec3(gx1.y,gy1.y,gz1.y);","\tvec3 g011 = vec3(gx1.z,gy1.z,gz1.z);","\tvec3 g111 = vec3(gx1.w,gy1.w,gz1.w);","","\tvec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));","\tg000 *= norm0.x;","\tg010 *= norm0.y;","\tg100 *= norm0.z;","\tg110 *= norm0.w;","\tvec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));","\tg001 *= norm1.x;","\tg011 *= norm1.y;","\tg101 *= norm1.z;","\tg111 *= norm1.w;","","\tfloat n000 = dot(g000, Pf0);","\tfloat n100 = dot(g100, vec3(Pf1.x, Pf0.yz));","\tfloat n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));","\tfloat n110 = dot(g110, vec3(Pf1.xy, Pf0.z));","\tfloat n001 = dot(g001, vec3(Pf0.xy, Pf1.z));","\tfloat n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));","\tfloat n011 = dot(g011, vec3(Pf0.x, Pf1.yz));","\tfloat n111 = dot(g111, Pf1);","","\tvec3 fade_xyz = fade(Pf0);","\tvec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);","\tvec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);","\tfloat n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); ","\treturn 2.2 * n_xyz;","\t}"].join("\n"),BR.WaterShader={vertexShader:[BR.ShaderNoise,"varying float noise;","uniform float time;","uniform float amplitude;","uniform float noiseRepeat;","void main()\t{","float b = cnoise( noiseRepeat * position + vec3( 0,time,time*2.0) );","float displacement = b*amplitude;","noise = b*amplitude/amplitude;","vec3 newPosition = position + normal * displacement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );","}"].join("\n"),fragmentShader:["varying float noise;","uniform vec3 colorTop;","uniform vec3 colorBottom;","uniform float time;","uniform float alpha;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","void main() {","vec2 tPos = vec2( 0, (noise+1.0)/2. );","vec4 top = vec4(colorTop.xyz, alpha);","vec4 bottom = vec4(colorBottom.xyz, alpha);","gl_FragColor = vec4(mix(bottom, top, tPos.y));","#ifdef USE_FOG","#ifdef USE_LOGDEPTHBUF_EXT","float depth = gl_FragDepthEXT / gl_FragCoord.w;","#else","float depth = gl_FragCoord.z / gl_FragCoord.w;","#endif","float fogFactor = smoothstep( fogNear, fogFar, depth );","gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","#endif","}"].join("\n")},BR.MountainShader={vertexShader:[BR.ShaderNoise,"varying float noise;","uniform float time;","uniform float amplitude;","uniform float noiseRepeat;","void main()\t{","vec3 coord = vec3(uv.x*3.0,uv.y*3.0+time,0);","float b = 0.0;","b += 1.0 * abs( cnoise(coord) );","b += 0.5 * abs( cnoise(coord*2.0) );","b += 0.25 * abs( cnoise(coord*4.0) );","float displacement = b*amplitude;","noise = b*amplitude/amplitude;","vec3 newPosition = position + normal * displacement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );","}"].join("\n"),fragmentShader:["varying float noise;","uniform vec3 colorTop;","uniform vec3 colorBottom;","uniform float time;","uniform float alpha;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","void main() {","vec2 tPos = vec2( 0, (noise+1.0)/2. );","vec4 top = vec4(colorTop.xyz, alpha);","vec4 bottom = vec4(colorBottom.xyz, alpha);","gl_FragColor = vec4(colorBottom,1.0);","#ifdef USE_FOG","#ifdef USE_LOGDEPTHBUF_EXT","float depth = gl_FragDepthEXT / gl_FragCoord.w;","#else","float depth = gl_FragCoord.z / gl_FragCoord.w;","#endif","float fogFactor = smoothstep( fogNear, fogFar, depth );","gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","#endif","}"].join("\n")},BR.PurpleShader={vertexShader:[BR.ShaderNoise,"varying float noise;","uniform float time;","uniform float amplitude;","uniform float noiseRepeat;","void main()\t{","vec3 noiseP = vec3(position.x*0.5,position.y,position.z*0.5);","float b = cnoise( noiseRepeat * noiseP + vec3( 0,time*2.0,0) );","float displacement = b*amplitude;","noise = b*amplitude/amplitude;","vec3 newPosition = position + position*0.01 * displacement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );","}"].join("\n"),fragmentShader:["varying float noise;","uniform vec3 colorTop;","uniform vec3 colorBottom;","uniform float time;","uniform float alpha;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","void main() {","vec2 tPos = vec2( 0, (noise+1.0)/2. );","vec4 top = vec4(colorTop.xyz, alpha);","vec4 bottom = vec4(colorBottom.xyz, alpha);","gl_FragColor = vec4(mix(bottom, top, tPos.y));","#ifdef USE_FOG","#ifdef USE_LOGDEPTHBUF_EXT","float depth = gl_FragDepthEXT / gl_FragCoord.w;","#else","float depth = gl_FragCoord.z / gl_FragCoord.w;","#endif","float fogFactor = smoothstep( fogNear, fogFar, depth );","gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","#endif","}"].join("\n")};var BR=BR||{};BR.Logo=function(e){this.parent=e,this.colors=["#eb4d55","#b8a2fe","#4bcbec","#6dcc7a","#fde24d","#fe9850"],this.logoColor="#000000",this.containerEl=document.querySelector("#home-logo"),this.canvas=document.querySelector("#home-logo-canvas"),this.hitEls=document.querySelectorAll("#home-logo svg path"),this.init()},BR.Logo.prototype={init:function(){var e=this;this.el3D=new THREE.Object3D,this.canvas.width=256*window.devicePixelRatio,this.canvas.height=256*window.devicePixelRatio,this.ctx=this.canvas.getContext("2d"),this.mainCircle={startAngle:0,endAngle:0},this.arc={startAngle:0,endAngle:0};for(var t=new THREE.MeshBasicMaterial({color:0,opacity:0,transparent:!0,fog:!1,depthWrite:!1}),i=0;i<this.colors.length;i++){e.colors[i].color=e.colors[i];var n={};n.color=e.colors[i],e.colors[i]=n,e.colors[i].startAngle=-i*(2*Math.PI/6)-Math.PI/2+2*Math.PI/6/2,e.colors[i].endAngle=e.colors[i].startAngle}},goDark:function(){this.logoColor="#ffffff",this.draw()},animateIn:function(){var e=this;this.mainCircle={startAngle:0,endAngle:0},this.arc={startAngle:0,endAngle:0};var t=e.colors[e.parent.currBackground];TweenMax.set(t,{startAngle:-e.parent.currBackground*(2*Math.PI/6)-Math.PI/2+2*Math.PI/6/2,endAngle:-e.parent.currBackground*(2*Math.PI/6)-Math.PI/2+2*Math.PI/6/2}),this.draw(),TweenMax.set(this.containerEl,{display:"block",opacity:1,scale:1}),TweenMax.to(this.mainCircle,1.5,{startAngle:0,endAngle:2*Math.PI,delay:1,ease:Quint.easeInOut,onUpdate:function(){e.draw()}}),TweenMax.to(this.arc,1.5,{startAngle:-Math.PI,endAngle:0,delay:1.4,ease:Quint.easeInOut,onUpdate:function(){e.draw()}});var t=e.colors[e.parent.currBackground];TweenMax.to(t,1,{startAngle:-e.parent.currBackground*(2*Math.PI/6)-Math.PI/2,endAngle:-e.parent.currBackground*(2*Math.PI/6)-Math.PI/2+2*Math.PI/6,delay:2.3,ease:Quint.easeInOut,onUpdate:function(){e.draw()},onComplete:function(){$(e.hitEls).hover(function(){var t=$(e.hitEls).index(this);e.onArcOver(t)},function(){var t=$(e.hitEls).index(this);e.onArcOut(t)}),$(e.hitEls).click(function(){var t=$(e.hitEls).index(this);e.onArcClick(t)})}})},animateOut:function(){var e=this;$(this.hitEls).unbind("mouseenter mouseleave"),$(this.hitEls).unbind("click"),TweenMax.to(this.containerEl,1,{display:"none",opacity:0,scale:.8,ease:Expo.easeOut})},goTop:function(){},draw:function(){var e=this;e.ctx.strokeStyle=this.logoColor,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.arc(this.canvas.width/2,this.canvas.height/2,114*window.devicePixelRatio,this.mainCircle.startAngle,this.mainCircle.endAngle),this.ctx.lineWidth=22*window.devicePixelRatio,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(this.canvas.width/2,this.canvas.height/2,78*window.devicePixelRatio,this.arc.startAngle,this.arc.endAngle),this.ctx.stroke(),this.ctx.lineWidth=24*window.devicePixelRatio;for(var t=0;t<this.colors.length;t++)e.ctx.beginPath(),e.ctx.strokeStyle=e.colors[t].color,e.ctx.arc(e.canvas.width/2,e.canvas.height/2,114*window.devicePixelRatio,e.colors[t].startAngle,e.colors[t].endAngle),e.ctx.stroke()},onArcClick:function(e){var t=this;t.isAnimating||(6!=e?e!=t.parent.currBackground&&(this.onArcOut(this.parent.currBackground,!0),t.colors[e].disabled=!0,this.parent.changeBackground(e),t.isAnimating=!0,setTimeout(function(){t.isAnimating=!1},1e3)):site.goDark())},onArcOver:function(e,t){var i=this;if(6!=e&&(e!=i.parent.currBackground||t)){t&&(i.colors[e].disabled=!0);var n=i.colors[e];TweenMax.to(n,.5,{startAngle:-e*(2*Math.PI/6)-Math.PI/2,endAngle:-e*(2*Math.PI/6)-Math.PI/2+2*Math.PI/6,ease:Quint.easeOut,onUpdate:function(){i.draw()}})}},onArcOut:function(e,t){var i=this;if(6!=e&&(e!=i.parent.currBackground&&!i.colors[e].disabled||t)){t&&(i.colors[e].disabled=!1);var n=i.colors[e];TweenMax.to(n,.5,{startAngle:-e*(2*Math.PI/6)-Math.PI/2+2*Math.PI/6/2,endAngle:-e*(2*Math.PI/6)-Math.PI/2+2*Math.PI/6/2,ease:Quint.easeOut,onUpdate:function(){i.draw()}})}}};var BR=BR||{};BR.SectionTitle=function(e){this.parent=e,this.el=document.querySelector(".section-title"),this.lineEl=this.el.querySelector(".section-title-line"),this.overflowEl=this.el.querySelector(".section-title-overflow"),this.innerEl=this.el.querySelector(".section-title-inner"),this.sectionsCopy=["<span>We Are</span><br/>Black Rainbow","<span>Who</span><br/>We Are","<span>What</span><br/>We Do"],this.init()},BR.SectionTitle.prototype={init:function(){var e=this;TweenMax.set(this.overflowEl,{y:150}),TweenMax.set(this.innerEl,{y:-150}),TweenMax.set(this.lineEl,{y:150,scaleX:0,transformOrigin:"0px 0px"}),TweenMax.to(this.lineEl,1,{scaleX:7,ease:Expo.easeOut,onComplete:function(){TweenMax.to(e.lineEl,1,{scaleX:1,ease:Expo.easeInOut})}}),TweenMax.to([this.lineEl,this.overflowEl,this.innerEl],1,{y:0,ease:Expo.easeInOut,delay:.5})},getSection:function(e){var t=this;TweenMax.to(this.lineEl,.5,{scaleX:7,ease:Expo.easeOut}),TweenMax.to([this.lineEl,this.overflowEl],.5,{y:150,ease:Expo.easeInOut,delay:.3}),TweenMax.to(this.innerEl,.5,{y:-150,ease:Expo.easeInOut,delay:.3,onComplete:function(){t.innerEl.innerHTML=t.sectionsCopy[e],TweenMax.to([t.lineEl,t.overflowEl,t.innerEl],1,{y:0,ease:Expo.easeInOut}),TweenMax.to(t.lineEl,1,{scaleX:1,ease:Expo.easeInOut,delay:.5})}})}};var BR=BR||{};BR.Nav=function(e){this.parent=e,this.el=document.querySelector(".nav"),this.containerEl=this.el.querySelector(".nav-container"),this.itemEls=this.el.querySelectorAll(".nav-item"),this.itemsOverflowEls=this.el.querySelectorAll(".nav-item-overflow"),
this.itemsLabelEls=this.el.querySelectorAll(".nav-item-label"),this.itemsLinesEls=this.el.querySelectorAll(".nav-item-line"),this.itemsLineLabelEls=this.el.querySelectorAll(".nav-item-line-label"),this.itemsHitEls=this.el.querySelectorAll(".nav-item-hit"),this.curr=0,this.init()},BR.Nav.prototype={init:function(){var e=this;this.initialize()},initialize:function(){var e=0,t=!0,i=this,n=0;TweenMax.to(this.containerEl,.8,{y:-0,ease:Expo.easeInOut,delay:0});var r=this.itemsLabelEls[0].getBoundingClientRect().width;this.copyWidth=r,this.itemsLabelEls[1].getBoundingClientRect().width>r&&(r=this.itemsLabelEls[1].getBoundingClientRect().width),count=0,this.itemEls.forEach(function(e,t){t>0?(TweenMax.set(i.itemsLabelEls[t],{y:-150,ease:Expo.easeInOut,delay:0}),TweenMax.set(i.itemsLinesEls[t],{scaleX:0,scaleY:.5,ease:Expo.easeOut})):(TweenMax.set(i.itemsLabelEls[t],{y:-150,ease:Expo.easeInOut,delay:0}),TweenMax.set(i.itemsOverflowEls[t],{y:150,ease:Expo.easeInOut,delay:0}),TweenMax.set(i.itemsLinesEls[t],{scaleX:0,scaleY:1,y:75,ease:Expo.easeOut})),TweenMax.set(e,{y:-140*count,ease:Expo.easeInOut,delay:0}),count++,0==t&&count--}),this.el.style.opacity=1,$(this.itemsHitEls).hover(function(){var e=$(i.itemsHitEls).index(this);e!=i.curr&&(TweenMax.to(i.itemsLinesEls[e],.5,{scaleX:1,scaleY:1,ease:Expo.easeOut}),TweenMax.fromTo(i.itemsLineLabelEls[e],.5,{x:0,opacity:0},{opacity:1,x:25,ease:Expo.easeOut}))},function(){var e=$(i.itemsHitEls).index(this);e!=i.curr&&(TweenMax.to(i.itemsLinesEls[e],.5,{scaleX:.3,scaleY:.5,ease:Expo.easeOut}),TweenMax.to(i.itemsLineLabelEls[e],.5,{opacity:0,x:0,ease:Expo.easeOut}))}),$(this.itemsHitEls).click(function(){var e=$(i.itemsHitEls).index(this);e!=i.curr&&(TweenMax.to(i.itemsLineLabelEls[e],.5,{opacity:0,x:70,ease:Expo.easeOut}),site.getSection(e))})},updatePerc:function(e){var t=this;TweenMax.to(t.itemsLinesEls[0],1,{scaleX:t.copyWidth/60*e,ease:Expo.easeOut})},animateIn:function(){var e=this;TweenMax.to(e.itemsLinesEls[0],.5,{y:150,ease:Expo.easeInOut,delay:.5,onComplete:function(){TweenMax.to(e.itemsLabelEls[0],1,{y:0,ease:Expo.easeInOut}),TweenMax.to(e.itemsOverflowEls[0],1,{y:0,ease:Expo.easeInOut}),TweenMax.to(e.itemsLinesEls[0],1,{y:0,ease:Expo.easeInOut}),TweenMax.to(e.itemsLinesEls[0],.5,{scaleX:1,ease:Expo.easeInOut,delay:1})}}),this.itemEls.forEach(function(t,i){i>0&&TweenMax.to(e.itemsLinesEls[i],.5,{scaleX:.3,ease:Expo.easeOut,delay:.05*i+2.5})})},getSection:function(e,t){var i=this,n=.4;TweenMax.to(this.containerEl,.8,{y:-10*e,ease:Expo.easeInOut,delay:n}),1==Math.abs(e-this.curr)?(count=0,this.itemEls.forEach(function(r,s){s>e?(TweenMax.to(i.itemsLabelEls[s],.8,{y:-150,ease:Expo.easeInOut,delay:n}),t?TweenMax.to(i.itemsLinesEls[s],.8,{scaleX:.3,scaleY:.5,ease:Expo.easeOut}):s==e+1&&(TweenMax.to(i.itemsLinesEls[s],.8,{scaleX:2,scaleY:1,ease:Expo.easeOut}),TweenMax.to(i.itemsLinesEls[s],.8,{scaleX:.3,scaleY:.5,delay:1,ease:Expo.easeInOut}))):s<e?(TweenMax.to(i.itemsLabelEls[s],.8,{y:160,ease:Expo.easeInOut,delay:n}),TweenMax.to(i.itemsOverflowEls[s],.8,{y:-150,ease:Expo.easeInOut,delay:n}),t&&TweenMax.to(i.itemsLinesEls[s],.8,{scaleX:.3,scaleY:.5,ease:Expo.easeOut})):(TweenMax.to(i.itemsLabelEls[s],.8,{y:0,ease:Expo.easeInOut,delay:n}),TweenMax.to(i.itemsOverflowEls[s],.8,{y:0,ease:Expo.easeInOut,delay:n}),t?(TweenMax.to(i.itemsLinesEls[s],.8,{scaleX:2,scaleY:1,ease:Expo.easeOut}),TweenMax.to(i.itemsLinesEls[s],.8,{scaleX:1,delay:1,ease:Expo.easeInOut})):TweenMax.to(i.itemsLinesEls[s],.8,{scaleX:1,scaleY:1,delay:1,ease:Expo.easeInOut})),TweenMax.to(r,.8,{y:-140*count,ease:Expo.easeInOut,delay:n}),count++,s==e&&count--})):(count=0,this.itemEls.forEach(function(t,r){r==e?(TweenMax.to(i.itemsLabelEls[r],.8,{y:0,ease:Expo.easeInOut,delay:n}),TweenMax.to(i.itemsOverflowEls[r],.8,{y:0,ease:Expo.easeInOut,delay:n}),TweenMax.to(i.itemsLinesEls[r],.8,{scaleX:2,scaleY:1,ease:Expo.easeOut}),TweenMax.to(i.itemsLinesEls[r],.8,{scaleX:1,delay:1,ease:Expo.easeInOut})):r==i.curr&&(e>r?(TweenMax.to(i.itemsLabelEls[r],.8,{y:160,ease:Expo.easeInOut,delay:n}),TweenMax.to(i.itemsOverflowEls[r],.8,{y:-150,ease:Expo.easeInOut,delay:n})):TweenMax.to(i.itemsLabelEls[r],.8,{y:-150,ease:Expo.easeInOut,delay:n}),TweenMax.to(i.itemsLinesEls[r],.8,{scaleX:.3,scaleY:.5,delay:0,ease:Expo.easeOut})),TweenMax.to(t,.8,{y:-140*count,ease:Expo.easeInOut,delay:n}),count++,r==e&&count--})),this.curr=e}};var BR=BR||{};BR.SectionHome=function(){this.backgrounds=[],this.shouldUpdate=!0,this.currBGLoaded=0,this.init()},BR.SectionHome.prototype={init:function(){var e=this;this.currBackground=Math.floor(5*Math.random()),this.logo=new BR.Logo(this),this.backgrounds[2]=new BR.BlueBackground(e.onBGLoaded.bind(e)),this.backgrounds[5]=new BR.OrangeBackground(e.onBGLoaded.bind(e)),this.backgrounds[0]=new BR.RedBackground(e.onBGLoaded.bind(e)),this.backgrounds[4]=new BR.YellowBackground(e.onBGLoaded.bind(e)),this.backgrounds[1]=new BR.PurpleBackground(e.onBGLoaded.bind(e)),this.backgrounds[3]=new BR.GreenBackground(e.onBGLoaded.bind(e)),this.contactBG=new BR.ContactBackground(e.onBGLoaded.bind(e))},onBGLoaded:function(){var e=this;this.currBGLoaded++,7==this.currBGLoaded?(site.onLoaded(),setTimeout(function(){e.logo.animateIn(),TweenMax.to($("#section-home .arrowdown"),1,{opacity:1,delay:2}),setTimeout(function(){e.backgrounds[e.currBackground].show()},2e3)},1e3)):site.updateLoad(this.currBGLoaded/7)},animateIn:function(){this.logo.animateIn(),TweenMax.to($("#section-home .arrowdown"),1,{opacity:1,delay:2})},animateOut:function(e){setTimeout(function(){e.call()},500),this.logo.animateOut(),TweenMax.to($("#section-home .arrowdown"),.5,{opacity:0})},changeBackground:function(e){var t=this;e!=t.currBackground&&t.backgrounds[t.currBackground].hide(function(){requestAnimationFrame(function(){t.currBackground=e,t.backgrounds[t.currBackground].show()})})},getContact:function(){var e=this;e.backgrounds[e.currBackground].hide(function(){requestAnimationFrame(function(){e.contactBG.show()})})},closeContact:function(){var e=this;e.contactBG.hide(function(){requestAnimationFrame(function(){e.backgrounds[e.currBackground].show()})})},goDark:function(){var e=this;this.backgrounds.forEach(function(t,i){t.goDark(i==e.currBackground)}),this.logo.goDark()},goLight:function(){this.backgrounds.forEach(function(e){e.goLight()}),this.logo.goLight()},update:function(){site.noBGAnim||this.backgrounds[this.currBackground].update()},onResize:function(e){}};var BR=BR||{};BR.SectionAbout=function(){this.wrapperEl=document.querySelector("#section-about"),this.contentEl=this.wrapperEl.querySelector(".section-container"),this.titleEl=this.wrapperEl.querySelector(".title"),this.titleEl=this.wrapperEl.querySelector(".title"),this.descriptionEl=this.wrapperEl.querySelector(".description"),this.descriptionInnerEl=this.wrapperEl.querySelector(".description-inner"),this.awardsEl=this.wrapperEl.querySelector(".awards"),this.animEls=this.wrapperEl.querySelectorAll(".anim"),this.init()},BR.SectionAbout.prototype={init:function(){var e=this},onMove:function(e){var t=this,i=e.clientX-window.innerWidth/2,n=e.clientY-window.innerHeight/2;TweenMax.set(t.contentEl,{rotationX:.015*n,rotationY:.015*-i}),TweenMax.set(t.descriptionInnerEl,{x:.01*-i,y:.01*-n})},animateIn:function(){var e=this;this.wrapperEl.style.visibility="visible",TweenMax.killTweensOf(this.animEls),TweenMax.staggerFromTo(e.animEls,1.5,{opacity:0,y:70,rotationX:-15},{opacity:1,y:0,rotationX:0,ease:Quart.easeOut,delay:.7},.08),window.addEventListener("mousemove",this.onMove.bind(this))},animateOut:function(e){var t=this;setTimeout(function(){t.wrapperEl.style.visibility="hidden",e.call()},500),TweenMax.killTweensOf(this.animEls),TweenMax.staggerTo(this.animEls,.5,{opacity:0,y:-50,rotationX:10,ease:Quart.easeOut},.05),window.removeEventListener("mousemove",this.onMove.bind(this))},update:function(){},onResize:function(e){}};var BR=BR||{};BR.SectionWork=function(){this.wrapperEl=document.querySelector("#section-work"),this.containerEl=this.wrapperEl.querySelector(".section-content"),this.projectsEl=this.wrapperEl.querySelector(".projects"),this.projectsEls=this.wrapperEl.querySelectorAll(".projects .project"),this.animEls=this.wrapperEl.querySelectorAll(".anim"),this.mY=0,this.mX=0,this.projectsWidth,this.containerWidth,this.containerLeft,this.projectWidth,this.thumbs=[],this.currOffset=0,this.lastSpeed=0,this.lastOpened,this.projectPage=document.querySelector(".project-page"),this.projectScroller=document.querySelector(".project-page .project-scroller"),this.projectPageBG=document.querySelector(".project-page .project-bg"),this.projectPageClose=document.querySelector(".project-page .project-close"),this.projectPageAnims=this.projectPage.querySelectorAll(".anim"),this.projectPageMacBook=this.projectPage.querySelector(".macbook"),this.projectPagePhone=this.projectPage.querySelector(".phone"),this.projectPagePhoneIcon=this.projectPage.querySelector(".phoneicon"),this.projectPageLaptopIcon=this.projectPage.querySelector(".laptopicon"),this.projectPageDevices=this.projectPage.querySelector(".devices"),this.scrollBar=this.wrapperEl.querySelector(".scrollbar"),this.gradient=this.wrapperEl.querySelector(".gradient"),this.scrollThumb=this.wrapperEl.querySelector(".scrollthumb"),this.player=this.projectPage.querySelector(".macbook video"),this.playerPhone=this.projectPage.querySelector(".phone video"),this.playerProgress=this.projectPage.querySelector(".progress"),this.playerPlayPause=this.projectPage.querySelector(".playpause"),this.playerScrubber=this.projectPage.querySelector(".scrubber"),this.projectData=[{description:"Black Rainbow helped Laoded.gg develop an immersive webGL microsite for the launch of their LAMO collectibles toy brand. We built custom 3D transitions to tease the Augmented Reality feature available with the toys as well as fun interactivity and animations.",color:"dark",video:"lamo.mp4",videomobile:"lamo_mobile.mp4",awards:[],client:"LAMO",role:"Development, WebGL, Animations",href:"https://lamo.gg/",bgColor:"#ffb400"},{description:"Ghost is a smartphone powered Augmented Reality Headset and software created entirely by Black Rainbow from ideation to launch. We designed and developed the hardware and software for the product as well as the full campaign including the website, videos and social channels.",color:"dark",video:"ghost.mp4",videomobile:"ghost_mobile.mp4",awards:["cssda","awwwards"],client:"Black Rainbow",role:"Creative Direction, WebGL, Development, Copywriting",href:"https://ibelieveinghost.com/",bgColor:"#f1f1f1"},{description:"Black Rainbow worked with BBDO to develop an engaging WebGL microsite experience for the launch of AxonM, ZTE's foldable smartphone. We mixed background videos and real-time 3D animations to show the various modes of the device.",color:"dark",video:"axonm.mp4",videomobile:"axonm_mobile.mp4",awards:[],client:"ZTE USA",role:"Development, WebGL, Animations",href:"http://www.blackrainbow.la/projects/axonm/",bgColor:"#1b94d1"},{description:"We helped Tesla develop the redesigned Model S and X marketing pages for Tesla.com. We developed a series of galleries including WebGL, CSS and SVG animations as well as a custom scrolling interaction.",color:"dark",video:"tesla.mp4",videomobile:"tesla_mobile.mp4",awards:[],client:"Tesla",role:"Creative Technology, Development, Animations",href:"https://www.tesla.com/models/",bgColor:"#f1f1f1"},{description:"Black Rainbow teamed up with Dutch Monaco to create an interactive character map and timeline of the Yakuza video game saga. We used 3D effects and physics simulation to make the user experience engaging and organic.",color:"dark",video:"yakuza.mp4",awards:[],client:"Sega",role:"Creative Technology, Development, Animations",href:"http://yakuza.sega.com/experience/",bgColor:"#f1f1f1"},{description:"Black Rainbow fully redesigned ZTEUSA.com and built custom marketing pages for ZTE's popular devices such as the Axon7, the Axon 7 mini and the Spro 2 projector. The redesign led to ZTE's best ever Black Friday online sales.",color:"light",video:"zteusa.mp4",awards:[],client:"ZTE USA",role:"Creative Direction, UX, Design, Development",href:"https://www.zteusa.com/",bgColor:"#111111"},{description:"OMM is an award winning Audio Visual WebGL experience taking the user on an interactive journey through the creation of an idea.",color:"light",video:"omm.mp4",awards:["cssda","awwwards","fwa"],client:"Black Rainbow",role:"Concept, Design, Development",href:"https://www.jeanhelfenstein.com/omm/",bgColor:"#111111"},{description:"Nurture Digital reached out to us to design and develop the launch microsite for ZTE's flagship phone, the Axon 7. We integrated custom 3D animations with a clean design to showcase the features of the phone.",color:"dark",video:"axon7.mp4",videomobile:"axon7_mobile.mp4",awards:[],client:"ZTE USA",role:"Creative Direction, Design, Development",href:"http://www.blackrainbow.la/projects/axon7/",bgColor:"#f1f1f1"}],this.isVideo=!1,this.init()},BR.SectionWork.prototype={init:function(){var e=this;this.projectsWidth=this.projectsEl.getBoundingClientRect().width,this.containerWidth=this.containerEl.getBoundingClientRect().width,this.containerLeft=this.projectsEl.getBoundingClientRect().left,this.projectWidth=this.projectsEls[0].getBoundingClientRect().width,this.projectThumbWidth=this.projectsEls[0].querySelector(".project-thumb").getBoundingClientRect().width,this.thumbLAMO=new BR.ThumbLAMO,this.thumbLAMO.el.ident=0,this.projectsEls[0].querySelector(".project-thumb-container").appendChild(this.thumbLAMO.el),this.thumbs.push(this.thumbLAMO),this.thumbGhost=new BR.ThumbGhost,this.thumbGhost.el.ident=1,this.projectsEls[1].querySelector(".project-thumb-container").appendChild(this.thumbGhost.el),this.thumbs.push(this.thumbGhost),this.thumbAxonM=new BR.ThumbAxonM,this.thumbAxonM.el.ident=2,this.projectsEls[2].querySelector(".project-thumb-container").appendChild(this.thumbAxonM.el),this.thumbs.push(this.thumbAxonM),this.thumbTesla=new BR.ThumbTesla,this.thumbTesla.el.ident=3,this.projectsEls[3].querySelector(".project-thumb-container").appendChild(this.thumbTesla.el),this.thumbs.push(this.thumbTesla),this.thumbYakuza=new BR.ThumbYakuza,this.thumbYakuza.el.ident=4,this.projectsEls[4].querySelector(".project-thumb-container").appendChild(this.thumbYakuza.el),this.thumbs.push(this.thumbYakuza),this.thumbZTE=new BR.ThumbZTE,this.thumbZTE.el.ident=5,this.projectsEls[5].querySelector(".project-thumb-container").appendChild(this.thumbZTE.el),this.thumbs.push(this.thumbZTE),this.thumbOMM=new BR.ThumbOMM,this.thumbOMM.el.ident=6,this.projectsEls[6].querySelector(".project-thumb-container").appendChild(this.thumbOMM.el),this.thumbs.push(this.thumbOMM),this.thumbAxon7=new BR.ThumbAxon7,this.thumbAxon7.el.ident=7,this.projectsEls[7].querySelector(".project-thumb-container").appendChild(this.thumbAxon7.el),this.thumbs.push(this.thumbAxon7),this.thumbs.forEach(function(t,i){t.el&&t.el.addEventListener("click",e.onThumbClick.bind(e))}),document.querySelector(".project-video video").addEventListener("touchstart",function(e){}),this.projectPageClose.addEventListener("click",this.onProjectClose.bind(this)),$(this.player).bind("timeupdate",function(){e.isPhone||TweenMax.set(e.playerProgress,{scaleX:e.player.currentTime/e.player.duration})}),$(this.playerPhone).bind("timeupdate",function(){e.isPhone&&TweenMax.set(e.playerProgress,{scaleX:e.playerPhone.currentTime/e.playerPhone.duration})}),$(this.player).bind("play",function(){e.isPhone||e.playerPlayPause.classList.add("pause")}),$(this.playerPhone).bind("play",function(){e.isPhone&&e.playerPlayPause.classList.add("pause")}),$(this.player).bind("pause",function(){e.isPhone||e.playerPlayPause.classList.remove("pause")}),$(this.playerPhone).bind("pause",function(){e.isPhone&&e.playerPlayPause.classList.remove("pause")}),$(this.playerPlayPause).click(function(){e.isPhone?e.playerPlayPause.classList.contains("pause")?e.playerPhone.pause():e.playerPhone.play():e.playerPlayPause.classList.contains("pause")?e.player.pause():e.player.play()}),$(this.playerScrubber).click(function(t){var i=(t.clientX-$(e.playerScrubber).offset().left)/$(e.playerScrubber).width();e.isPhone?e.playerPhone.currentTime=i*e.playerPhone.duration:e.player.currentTime=i*e.player.duration}),e.currScroll=0,$(this.scrollThumb).bind("mousedown",function(t){e.dragOrigin=t.clientX,e.scrollOrigin=e.currScroll,e.isDragging=!0}),$(window).bind("mousedown",function(t){e.isActive&&(e.scrollingOrigin=t.clientX,e.scrollLeftOrigin=e.currScrollLeft,e.isScrolling=!0,e.shouldClick=!0)}),$(window).bind("mousemove",function(t){if(e.isDragging){var i=t.clientX-e.dragOrigin;e.currScroll=e.scrollOrigin+i,e.currScroll<0&&(e.currScroll=0),e.currScroll>450&&(e.currScroll=450),TweenMax.set(e.scrollThumb,{x:e.currScroll});var n=e.currScroll/450;e.currScrollLeft=n*(e.projectsWidth-window.innerWidth+(window.innerWidth/2-122.5)),window.innerWidth<500&&(e.currScrollLeft=n*(e.projectsWidth-window.innerWidth+(window.innerWidth/2-96))),TweenMax.set(e.projectsEl,{x:-e.currScrollLeft,z:.001})}else if(e.isScrolling){var i=t.clientX-e.scrollingOrigin;e.currScrollLeft=e.scrollLeftOrigin-i,e.currScrollLeft<0&&(e.currScrollLeft=0);var r=e.projectsWidth-window.innerWidth+(window.innerWidth/2-122.5);window.innerWidth<500&&(r=e.projectsWidth-window.innerWidth+(window.innerWidth/2-96)),e.currScrollLeft>r&&(e.currScrollLeft=r),TweenMax.set(e.projectsEl,{x:-e.currScrollLeft,z:.001}),e.onScroll(),Math.abs(i)>2&&(e.shouldClick=!1)}}),$(window).bind("mouseup",function(t){e.isDragging=!1,e.isScrolling=!1}),document.body.addEventListener("touchstart",function(t){e.startY=t.touches[0].clientY,e.startX=t.touches[0].clientX,e.scrolling=!0}),document.body.addEventListener("touchmove",function(t){t.preventDefault(),e.lastOpened&&e.scrolling&&(e.deltaY=e.startY-t.touches[0].clientY,e.deltaX=e.startX-t.touches[0].clientX,Math.abs(e.deltaY)>Math.abs(e.deltaX)&&(e.deltaY>3&&!e.isVideo&&(e.projectScroller.classList.add("down"),e.isVideo=!0,e.player.currentTime=0,e.player.play(),e.thumbs[e.lastOpened.ident].isAnimating=!0,e.scrolling=!1),e.deltaY<-3&&e.isVideo&&(e.projectScroller.classList.remove("down"),e.isVideo=!1,e.player.pause(),e.thumbs[e.lastOpened.ident].isAnimating=!1,e.scrolling=!1)))},{passive:!1}),e.currScrollLeft=0,$(document.body).mousewheel(function(t){if(e.isActive)if(e.lastOpened)-t.deltaY>2&&!e.isVideo&&(e.projectScroller.classList.add("down"),e.isVideo=!0,e.player.currentTime=0,e.player.play(),e.thumbs[e.lastOpened.ident].isAnimating=!0),-t.deltaY<-2&&e.isVideo&&(e.projectScroller.classList.remove("down"),e.isVideo=!1,e.player.pause(),e.thumbs[e.lastOpened.ident].isAnimating=!1);else if(Math.abs(t.deltaX)>Math.abs(t.deltaY)){e.currScrollLeft+=t.deltaX,e.currScrollLeft<0&&(e.currScrollLeft=0);var i=e.projectsWidth-window.innerWidth+(window.innerWidth/2-122.5);window.innerWidth<500&&(i=e.projectsWidth-window.innerWidth+(window.innerWidth/2-96)),e.currScrollLeft>i&&(e.currScrollLeft=i),TweenMax.set(e.projectsEl,{x:-e.currScrollLeft,z:.001}),e.onScroll()}t.preventDefault()}),e.touchStartX=0,e.touchScrollStart=0,e.touchDeltaX=0,e.touchCurrIdent=0,e.touchVelX=0,e.touchPrevX=0,$(window).bind("touchstart",function(t){e.isActive&&(e.lastOpened||(e.touchStartX=t.touches[0].clientX,e.touchScrollStart=e.currScrollLeft,e.touchStartIdent=Math.floor(e.touchScrollStart/e.projectWidth),e.touchDragging=!0,e.touchDeltaX=0,e.touchVelX=0,e.touchPrevX=t.touches[0].clientX,TweenMax.killTweensOf(e)))}),$(window).bind("touchmove",function(t){e.isActive&&e.touchDragging&&(e.touchDeltaX=t.touches[0].clientX-e.touchStartX,e.currScrollLeft=e.touchScrollStart-e.touchDeltaX,TweenMax.set(e.projectsEl,{x:-e.currScrollLeft,z:.001}),e.onScroll(),e.touchVelX=t.touches[0].clientX-e.touchPrevX,e.touchPrevX=t.touches[0].clientX)}),$(window).bind("touchend",function(t){if(e.isActive)if(Math.abs(e.touchVelX)<2){var i=-e.containerLeft-e.touchCurrIdent*e.projectWidth+window.innerWidth/2-122.5;window.innerWidth<500&&(i=-e.containerLeft-e.touchCurrIdent*e.projectWidth+window.innerWidth/2-96),TweenMax.to(e,.8,{currScrollLeft:-i,ease:Expo.easeOut,onUpdate:function(){TweenMax.set(e.projectsEl,{x:-e.currScrollLeft,z:.001}),e.onScroll()}}),e.touchDragging=!1}else if(e.touchVelX<0){e.thumbs[e.touchCurrIdent].onOut(),e.touchCurrIdent++,e.touchCurrIdent>e.thumbs.length-1&&(e.touchCurrIdent=e.thumbs.length-1),e.thumbs[e.touchCurrIdent].onOver();var i=-e.containerLeft-e.touchCurrIdent*e.projectWidth+window.innerWidth/2-122.5;window.innerWidth<500&&(i=-e.containerLeft-e.touchCurrIdent*e.projectWidth+window.innerWidth/2-96),TweenMax.to(e,.8,{currScrollLeft:-i,ease:Expo.easeOut,onUpdate:function(){TweenMax.set(e.projectsEl,{x:-e.currScrollLeft,z:.001}),e.onScroll()}}),e.touchDragging=!1}else{e.thumbs[e.touchCurrIdent].onOut(),e.touchCurrIdent--,e.touchCurrIdent<0&&(e.touchCurrIdent=0),e.thumbs[e.touchCurrIdent].onOver();var i=-e.containerLeft-e.touchCurrIdent*e.projectWidth+window.innerWidth/2-122.5;window.innerWidth<500&&(i=-e.containerLeft-e.touchCurrIdent*e.projectWidth+window.innerWidth/2-96),TweenMax.to(e,.8,{currScrollLeft:-i,ease:Expo.easeOut,onUpdate:function(){TweenMax.set(e.projectsEl,{x:-e.currScrollLeft,z:.001}),e.onScroll()}}),e.touchDragging=!1}}),$(this.projectPagePhoneIcon).click(function(){e.projectPagePhone.classList.remove("right"),e.projectPageMacBook.classList.add("left"),e.projectPagePhoneIcon.classList.add("active"),e.projectPageLaptopIcon.classList.remove("active"),e.player.pause(),e.playerPhone.play(),e.isPhone=!0}),$(this.projectPageLaptopIcon).click(function(){e.projectPagePhone.classList.add("right"),e.projectPageMacBook.classList.remove("left"),e.projectPagePhoneIcon.classList.remove("active"),e.projectPageLaptopIcon.classList.add("active"),e.player.play(),e.playerPhone.pause(),e.isPhone=!1}),$(this.projectPagePhone).click(function(t){e.projectPagePhone.classList.remove("right"),e.projectPageMacBook.classList.add("left"),e.projectPagePhoneIcon.classList.add("active"),e.projectPageLaptopIcon.classList.remove("active"),e.player.pause(),e.playerPhone.play(),e.isPhone=!0}),$(this.projectPageMacBook).click(function(t){e.projectPagePhone.classList.add("right"),e.projectPageMacBook.classList.remove("left"),e.projectPagePhoneIcon.classList.remove("active"),e.projectPageLaptopIcon.classList.add("active"),e.player.play(),e.playerPhone.pause(),e.isPhone=!1})},onScroll:function(){var e=this;if(!e.isDragging){var t=e.currScrollLeft/(e.projectsWidth-window.innerWidth+(window.innerWidth/2-122.5));e.currScroll=450*t,window.innerWidth<500&&(t=e.currScrollLeft/(e.projectsWidth-window.innerWidth+(window.innerWidth/2-96)),e.currScroll=258*t),TweenMax.set(e.scrollThumb,{x:e.currScroll})}},loadThumbs:function(){var e=this;e.currThumbLoaded=0,e.thumbs[0].load(e.onThumbLoaded.bind(e))},onThumbLoaded:function(){var e=this;++e.currThumbLoaded<=e.thumbs.length-1&&setTimeout(function(){e.thumbs[e.currThumbLoaded].load(e.onThumbLoaded.bind(e))},500)},onThumbClick:function(e){if(this.shouldClick&&!this.lastOpened){site.scrollLock=!0;var t=e.target,i=this;"light"==this.projectData[t.ident].color?(this.projectPage.classList.add("light"),document.querySelector(".brlogo").classList.add("light"),document.querySelector(".project-video .macbook").classList.add("dark")):(this.projectPage.classList.remove("light"),document.querySelector(".brlogo").classList.remove("light"),document.querySelector(".project-video .macbook").classList.remove("dark")),document.querySelector(".project-video .macbook video").src="./assets/videos/"+this.projectData[t.ident].video,this.projectData[t.ident].videomobile?(this.playerPhone.src="./assets/videos/"+this.projectData[t.ident].videomobile,this.projectPagePhone.style.display="block",this.projectPageDevices.style.display="block"):(this.playerPhone.src="",this.projectPagePhone.style.display="none",this.projectPageDevices.style.display="none"),$(".project-page .award").css("display","none"),this.projectData[t.ident].awards.forEach(function(e,t){$(".project-page .award."+e).css("display","block")}),document.querySelector(".project-page .project-title").innerHTML=i.projectsEls[t.ident].querySelector(".project-title").innerHTML,document.querySelector(".project-page .project-description").innerHTML=i.projectsEls[t.ident].querySelector(".project-description").innerHTML,document.querySelector(".project-page .project-copy").innerHTML=this.projectData[t.ident].description,document.querySelector(".project-page .project-datas .client").innerHTML="<span>CLIENT:</span><br/>"+this.projectData[t.ident].client,document.querySelector(".project-page .project-datas .role").innerHTML="<span>ROLE:</span><br/>"+this.projectData[t.ident].role,document.querySelector(".project-page .project-link").setAttribute("href",this.projectData[t.ident].href),document.querySelector(".project-page .project-video").style.backgroundColor=this.projectData[t.ident].bgColor,this.lastOpened={},this.lastOpened.ident=t.ident;var n=i.projectsEls[t.ident].querySelector(".project-thumb-container"),r=i.projectsEls[t.ident].querySelector(".project-thumb-bg");this.lastOpened.bg=r,this.lastOpened.container=n,this.lastOpened.ref=i.projectsEls[t.ident].querySelector(".project-thumb");var s=-i.containerLeft-t.ident*i.projectWidth+window.innerWidth/2-122.5;window.innerWidth<500&&(s=-i.containerLeft-t.ident*i.projectWidth+window.innerWidth/2-96);var a=Math.abs(s-i.containerEl.scrollLeft);i.thumbs[t.ident].prepForFullscreen(a),i.thumbs[t.ident].el.style.cursor="default",i.projectPage.style.visibility="visible";var o=1;window.innerWidth<500&&(o=0),TweenMax.to(i,o,{currScrollLeft:-s,ease:Expo.easeOut,onUpdate:function(){TweenMax.set(i.projectsEl,{x:-i.currScrollLeft,z:.001}),i.onScroll()},onComplete:function(){i.thumbs[t.ident].goFullscreen(),i.lastOpened.parent=n.parentElement;var e=n.getBoundingClientRect();i.projectPageBG.appendChild(n),n.style.left=e.left+"px",n.style.top=e.top+"px",n.style.marginLeft="0px",n.style.marginTop="0px",requestAnimationFrame(function(){var e=Math.sqrt(Math.pow(0-window.innerWidth,2)+Math.pow(0-window.innerHeight,2)),t=e/i.projectThumbWidth+.05;TweenMax.set(r,{scaleX:t,scaleY:t,scaleZ:t});var n=r.querySelector(".project-thumb-bg-inner");n&&TweenMax.set(n,{scaleX:1,scaleY:1,scaleZ:1,z:.001})}),TweenMax.staggerFromTo(i.projectPageAnims,1.2,{opacity:0,y:30,z:.01},{opacity:1,y:0,ease:Expo.easeOut,delay:1.2},.1)}})}},onProjectClose:function(){var e=this;document.querySelector(".brlogo").classList.remove("light"),e.isVideo&&(e.projectScroller.classList.remove("down"),e.isVideo=!1,e.player.pause(),e.thumbs[e.lastOpened.ident].isAnimating=!1),TweenMax.staggerTo(e.projectPageAnims,.2,{opacity:0,y:-30,ease:Expo.easeOut},.02),this.lastOpened.bg.style.transitionDuration="1s";var t=this.lastOpened.bg.querySelector(".project-thumb-bg-inner");t&&TweenMax.set(t,{scaleX:2.2,scaleY:2.2,scaleZ:2.2,z:.01,ease:Expo.easeInOut}),TweenMax.set(this.lastOpened.bg,{scaleX:1,scaleY:1,scaleZ:1}),TweenMax.delayedCall(1,function(){e.lastOpened.parent.appendChild(e.lastOpened.container),e.lastOpened.container.style={},e.lastOpened.bg.style={},e.projectPage.style.visibility="hidden",e.thumbs[e.lastOpened.ident].closeFullscreen(),e.thumbs[e.lastOpened.ident].el.style.cursor="pointer",e.lastOpened=null,site.scrollLock=!1,e.projectPagePhone.classList.add("right"),e.projectPageMacBook.classList.remove("left"),e.projectPagePhoneIcon.classList.remove("active"),e.projectPageLaptopIcon.classList.add("active"),e.player.pause(),e.playerPhone.pause(),e.isPhone=!1}),e.thumbs[e.lastOpened.ident].prepCloseFullscreen()},animateIn:function(){var e=this;e.isActive=!0,this.wrapperEl.style.visibility="visible",TweenMax.killTweensOf(this.animEls),setTimeout(function(){TweenMax.staggerFromTo(e.animEls,1.2,{opacity:0,x:70},{opacity:1,x:0,ease:Quart.easeOut},.03)},700),this.scrollBar.classList.add("active"),this.gradient.classList.add("active"),this.onResize()},animateOut:function(e){var t=this;t.isActive=!1,setTimeout(function(){t.wrapperEl.style.visibility="hidden",e.call()},500),TweenMax.killTweensOf(this.animEls),TweenMax.staggerTo(this.animEls,.5,{opacity:0,x:-50,ease:Quart.easeOut},.03),this.scrollBar.classList.remove("active"),this.gradient.classList.remove("active")},update:function(){var e=this},onResize:function(e){var t=this;if(this.projectsWidth=this.projectsEl.getBoundingClientRect().width,this.containerLeft=this.projectsEl.getBoundingClientRect().left+this.currScrollLeft,this.containerWidth=this.containerEl.getBoundingClientRect().width,this.projectWidth=this.projectsEls[0].getBoundingClientRect().width,this.projectThumbWidth=this.projectsEls[0].querySelector(".project-thumb").getBoundingClientRect().width,this.lastOpened){t.thumbs[t.lastOpened.ident].resize();var i=Math.sqrt(Math.pow(0-window.innerWidth,2)+Math.pow(0-window.innerHeight,2)),n=i/305;this.lastOpened.bg.style.transitionDuration="0s",TweenMax.set(this.lastOpened.bg,{scaleX:n,scaleY:n,scaleZ:n});var r=-t.containerLeft-this.lastOpened.ident*t.projectWidth+window.innerWidth/2-122.5;window.innerWidth<500&&(r=-t.containerLeft-this.lastOpened.ident*t.projectWidth+window.innerWidth/2-96),t.currScrollLeft=-r,TweenMax.set(this.projectsEl,{x:-t.currScrollLeft});var s=t.lastOpened.ref.getBoundingClientRect();this.lastOpened.container.style.left=s.left+"px",this.lastOpened.container.style.top=s.top+"px"}site.noBGAnim&&(site.noBGAnim=!1,requestAnimationFrame(function(){site.noBGAnim=!0}))}};var BR=BR||{};BR.SectionClients=function(){this.wrapperEl=document.querySelector("#section-clients"),this.contentEl=this.wrapperEl.querySelector(".section-container"),this.clientEls=this.wrapperEl.querySelectorAll(".client"),this.clientCloserEls=this.wrapperEl.querySelectorAll(".client.closer .client-inner"),this.init()},BR.SectionClients.prototype={init:function(){var e=this},onMove:function(e){var t=this,i=e.clientX-window.innerWidth/2,n=e.clientY-window.innerHeight/2;TweenMax.set(t.contentEl,{rotationX:.015*n,rotationY:.015*-i}),TweenMax.set(t.clientCloserEls,{x:.01*-i,y:.01*-n})},animateIn:function(){var e=this;this.wrapperEl.style.visibility="visible",TweenMax.killTweensOf(this.clientEls),setTimeout(function(){TweenMax.staggerFromTo(e.clientEls,1,{opacity:0,y:70,rotationX:-15},{opacity:1,y:0,rotationX:0,ease:Quart.easeOut},.03)},700),window.addEventListener("mousemove",this.onMove.bind(this))},animateOut:function(e){var t=this;setTimeout(function(){t.wrapperEl.style.visibility="hidden",e.call()},500),TweenMax.killTweensOf(this.clientEls),TweenMax.staggerTo(this.clientEls,.2,{opacity:0,y:-50,rotationX:10,ease:Quart.easeOut},.01),window.removeEventListener("mousemove",this.onMove.bind(this))},update:function(){},onResize:function(e){}};var BR=BR||{};BR.SectionContact=function(){this.wrapperEl=document.querySelector("#section-contact"),this.bgEl=this.wrapperEl.querySelector(".bg"),this.iconEl=this.wrapperEl.querySelector(".icon"),this.animEls=this.wrapperEl.querySelectorAll(".anim"),this.init()},BR.SectionContact.prototype={init:function(){var e=this},animateIn:function(){var e=this;this.wrapperEl.style.visibility="visible",this.wrapperEl.classList.add("active"),this.iconEl.classList.add("active"),TweenMax.killTweensOf(this.animEls),TweenMax.staggerFromTo(e.animEls,1.5,{opacity:0,y:50},{opacity:1,y:0,ease:Quart.easeOut,delay:.8},.1)},animateOut:function(e){var t=this;setTimeout(function(){t.wrapperEl.style.visibility="hidden",e.call()},500),this.iconEl.classList.remove("active"),this.wrapperEl.classList.remove("active"),TweenMax.killTweensOf(this.animEls),TweenMax.staggerTo(this.animEls,.5,{opacity:0,y:-10,ease:Quart.easeOut},.05)},update:function(){},onResize:function(e){}};var BR=BR||{};BR.ThumbAxon7=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=600,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbAxon7.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,
this.camera=new THREE.PerspectiveCamera(28.55,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialiasing:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/axon7/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;this.loader=new THREE.ColladaLoader,this.loader.load("assets/images/projects/axon7/axon7.dae",function(e){for(var i=e.scene.children[0],n=(new THREE.Geometry).fromBufferGeometry(i.geometry),r=0;r<n.faces.length;r++){var s=n.faces[r],a=0;a+=n.vertices[s.a].z,a+=n.vertices[s.b].z,a+=n.vertices[s.c].z,a/=3,s.avgZ=a,n.faceVertexUvs[0][r].avgZ=a}n.faces.sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),n.faceVertexUvs[0].sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),i.geometry=n,i.scale.set(10,10,10);var o=(new THREE.TextureLoader).load("assets/images/projects/axon7/tex.jpg",t.onLoaded.bind(t));o.minFilter=THREE.LinearFilter;var l=(new THREE.TextureLoader).load("assets/images/projects/axon7/texAlpha.png",t.onLoaded.bind(t));l.minFilter=THREE.LinearFilter,i.material=new THREE.MeshBasicMaterial({color:16777215,map:o,alphaMap:l,transparent:!0,depthWrite:!1}),t.container.add(i),t.onLoaded()})}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=550,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=600,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,3==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&TweenMax.to(this.camera.position,.9,{x:0,y:30,z:550,ease:Expo.easeOut})},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i="0%";window.innerWidth<500&&(i="-10%"),TweenMax.to(e.el,1,{scale:window.innerHeight/405*.65,y:i,z:.001,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&TweenMax.to(e.camera.position,.9,{x:0,y:30,z:600,ease:Expo.easeInOut}),TweenMax.to(e.el,1,{scale:1,y:"0%",ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=600,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(e.isFullscreen?(this.camera.position.x+=.2*(50*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(50*this.mY-30)-this.camera.position.y)):(this.camera.position.x+=.2*(100*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(100*this.mY-30)-this.camera.position.y)),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;TweenMax.set(e.el,{scale:window.innerHeight/405*.65}),this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ThumbAxonM=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=500,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbAxonM.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(30,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/axonm/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;this.loader=new THREE.ColladaLoader,this.loader.load("assets/images/projects/axonm/axonm.dae",function(e){for(var i=e.scene.children[0],n=(new THREE.Geometry).fromBufferGeometry(i.geometry),r=0;r<n.faces.length;r++){var s=n.faces[r],a=0;a+=n.vertices[s.a].z,a+=n.vertices[s.b].z,a+=n.vertices[s.c].z,a/=3,s.avgZ=a,n.faceVertexUvs[0][r].avgZ=a}n.faces.sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),n.faceVertexUvs[0].sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),i.geometry=n,i.scale.set(10,10,10);var o=(new THREE.TextureLoader).load("assets/images/projects/axonm/tex.jpg",t.onLoaded.bind(t));o.minFilter=THREE.LinearFilter;var l=(new THREE.TextureLoader).load("assets/images/projects/axonm/texAlpha.png",t.onLoaded.bind(t));l.minFilter=THREE.LinearFilter,i.material=new THREE.MeshBasicMaterial({color:16777215,map:o,alphaMap:l,transparent:!0,depthWrite:!1,side:THREE.DoubleSide}),t.container.add(i),t.onLoaded()})}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=450,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=500,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,3==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&TweenMax.to(this.camera.position,.9,{x:0,y:0,z:450,ease:Expo.easeOut})},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i=.8;window.innerWidth<500&&(i=.6);var n="0%";window.innerWidth<500&&(n="-10%"),TweenMax.to(e.el,1,{scale:window.innerHeight/405*i,y:n,z:.001,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&TweenMax.to(e.camera.position,.9,{x:0,y:0,z:500,ease:Expo.easeInOut}),TweenMax.to(e.el,1,{scale:1,y:"0%",ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=500,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(this.camera.position.x+=.2*(100*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(100*this.mY)-this.camera.position.y),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;TweenMax.set(e.el,{scale:window.innerHeight/405*.8}),this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ThumbGhost=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=550,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbGhost.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(30.957,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(.8*window.devicePixelRatio),this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.container.scale.set(.95,.95,.95),this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/ghost/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;t.panoTex=(new THREE.TextureLoader).load("assets/images/projects/ghost/sphereMap2048.jpg",t.onLoaded.bind(t)),t.panoTex.mapping=THREE.SphericalReflectionMapping,t.panoTexChrome=(new THREE.TextureLoader).load("assets/images/projects/ghost/sphereMapChrome2.jpg",t.onLoaded.bind(t)),t.panoTexChrome.mapping=THREE.SphericalReflectionMapping,t.panoTexChrome.minFilter=THREE.LinearFilter,t.panoTex2=(new THREE.TextureLoader).load("assets/images/projects/ghost/sphereMapWindow.png",t.onLoaded.bind(t)),t.panoTex2.mapping=THREE.SphericalReflectionMapping,this.loader=new THREE.ColladaLoader,this.loader.load("assets/images/projects/ghost/ProjectionHero7.dae",function(e){var i=e.scene.children,n=[];i.forEach(function(e){if("window"!=e.name&&"lens"!=e.name&&!e.name.includes("iPhone")){for(var i=(new THREE.Geometry).fromBufferGeometry(e.geometry),r=0;r<i.faces.length;r++){var s=i.faces[r],a=0;a+=i.vertices[s.a].z,a+=i.vertices[s.b].z,a+=i.vertices[s.c].z,a/=3,s.avgZ=a,i.faceVertexUvs[0][r].avgZ=a}i.faces.sort(function e(t,i){return t.avgZ<i.avgZ?1:-1}),i.faceVertexUvs[0].sort(function e(t,i){return t.avgZ<i.avgZ?1:-1}),e.geometry=i}t.updateMaterial(e),n.push(e)}),n.forEach(function(e){t.container.add(e)}),t.onLoaded()})}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=500,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=550,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,4==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},updateMaterial:function(e){var t=this,i=new THREE.MeshBasicMaterial({color:0,side:THREE.DoubleSide});if("window"!=e.name&&"lens"!=e.name&&!e.name.includes("iPhone")){var n=(new THREE.TextureLoader).load("./assets/images/projects/ghost/texture.jpg",function(){t.render()});i=new THREE.MeshBasicMaterial({color:16777215,map:n,alphaMap:(new THREE.TextureLoader).load("./assets/images/projects/ghost/texture_alpha.png"),depthWrite:!1,side:THREE.DoubleSide,transparent:!0}),"clips"!=e.name&&"strap"!=e.name||(i.depthWrite=!0)}"window"==e.name&&(i=new THREE.MeshBasicMaterial({color:14540253,envMap:t.panoTex2,reflectivity:.05,combine:THREE.MixOperation,opacity:.8,side:THREE.DoubleSide,transparent:!0})),"lens"==e.name&&(i=new THREE.MeshBasicMaterial({color:16777215,envMap:t.panoTex,reflectivity:1,opacity:1,side:THREE.DoubleSide,transparent:!0})),"iPhoneChrome"==e.name&&(i=new THREE.MeshBasicMaterial({color:5592405,envMap:t.panoTexChrome,reflectivity:.8,combine:THREE.MixOperation,side:THREE.FrontSide})),"iPhoneCamGlass"==e.name&&(i=new THREE.MeshBasicMaterial({color:4473924,envMap:t.panoTex2,reflectivity:.05,combine:THREE.MixOperation,opacity:1,side:THREE.DoubleSide})),"iPhoneGlass"==e.name&&(i=new THREE.MeshBasicMaterial({color:15658734,envMap:t.panoTex2,reflectivity:.05,combine:THREE.MixOperation,opacity:1,side:THREE.BackSide})),"connector"==e.name&&(i=new THREE.MeshBasicMaterial({color:0,side:THREE.DoubleSide})),e.material=i},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&TweenMax.to(this.camera.position,.9,{x:0,y:30,z:550,ease:Expo.easeOut})},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i=.9;window.innerWidth<500&&(i=.6),TweenMax.to(e.el,1,{scale:window.innerHeight/405*i,z:.001,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&TweenMax.to(e.camera.position,.9,{x:0,y:30,z:550,ease:Expo.easeInOut}),TweenMax.to(e.el,1,{scale:1,ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=550,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(this.camera.position.x+=.2*(100*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(100*this.mY-30)-this.camera.position.y),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;TweenMax.set(e.el,{scale:window.innerHeight/405}),this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ThumbLAMO=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=600,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbLAMO.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(28.55,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialiasing:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.container.scale.set(1.5,1.5,1.5),this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/lamo/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;this.hdr=(new THREE.TextureLoader).load("assets/images/projects/lamo/hdr.jpg",t.onLoaded.bind(t)),this.hdr.mapping=THREE.EquirectangularReflectionMapping,this.mapPath="assets/images/projects/lamo/map.jpg",this.normalPath="assets/images/projects/lamo/normal.jpg",this.roughnessPath="assets/images/projects/lamo/roughness.jpg",this.metalnessPath="assets/images/projects/lamo/metalness.jpg",this.material=new THREE.MeshBasicMaterial({map:(new THREE.TextureLoader).load(this.mapPath,t.onLoaded.bind(t)),envMap:t.hdr,color:16777215,combine:THREE.MixOperation,reflectivity:.1,side:THREE.DoubleSide}),this.planeGeom=new THREE.PlaneBufferGeometry(150,150,1,1),this.planeMat=new THREE.MeshLambertMaterial({map:(new THREE.TextureLoader).load("assets/images/projects/lamo/shadow2.png",t.onLoaded.bind(t)),opacity:0,transparent:!0,depthWrite:!1}),this.plane=new THREE.Mesh(this.planeGeom,this.planeMat),this.container.add(this.plane),this.plane.rotation.x=-Math.PI/2,this.plane.position.y=-70,this.loader=new THREE.OBJLoader,this.loader.load("assets/images/projects/lamo/ninja.obj",function(e){var i;if(e.children.length>1){for(var n=[],r=0;r<e.children.length;r++){var s=e.children[r];n.push(s.geometry)}i=THREE.BufferGeometryUtils.mergeBufferGeometries(n)}else i=e.children[0].geometry;var s=new THREE.Mesh(i,t.material);s.position.y=-70,t.container.add(s),t.onLoaded()})}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=500,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=600,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,4==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&(TweenMax.to(this.planeMat,1,{opacity:.4}),TweenMax.to(this.camera.position,.9,{x:0,y:0,z:550,ease:Expo.easeOut}))},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i="0%";window.innerWidth<500&&(i="-10%"),TweenMax.to(e.el,1,{scale:window.innerHeight/405*.6,z:.001,y:i,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&(TweenMax.to(this.planeMat,1,{opacity:0}),TweenMax.to(e.camera.position,.9,{x:0,y:0,z:600,ease:Expo.easeInOut})),TweenMax.to(e.el,1,{scale:1,z:.001,y:"0%",ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=600,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(this.camera.position.x+=.2*(150*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(150*this.mY)-this.camera.position.y),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;TweenMax.set(e.el,{scale:window.innerHeight/405*.6}),this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ThumbOMM=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=500,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbOMM.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(30,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/omm/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;this.loader=new THREE.ColladaLoader,this.loader.load("assets/images/projects/omm/omm.dae",function(e){for(var i=e.scene.children[0],n=(new THREE.Geometry).fromBufferGeometry(i.geometry),r=0;r<n.faces.length;r++){var s=n.faces[r],a=0;a+=n.vertices[s.a].z,a+=n.vertices[s.b].z,a+=n.vertices[s.c].z,a/=3,s.avgZ=a,n.faceVertexUvs[0][r].avgZ=a}n.faces.sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),n.faceVertexUvs[0].sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),i.geometry=n,i.scale.set(10,10,10);var o=(new THREE.TextureLoader).load("assets/images/projects/omm/tex.jpg",t.onLoaded.bind(t));o.minFilter=THREE.LinearFilter;var l=(new THREE.TextureLoader).load("assets/images/projects/omm/texAlpha.png",t.onLoaded.bind(t));l.minFilter=THREE.LinearFilter,i.material=new THREE.MeshBasicMaterial({color:16777215,map:o,alphaMap:l,transparent:!0,depthWrite:!1,side:THREE.DoubleSide}),t.container.add(i),t.planeGeom1=new THREE.PlaneBufferGeometry(40,12,1,1),t.planeMaterial1=new THREE.MeshBasicMaterial({map:(new THREE.TextureLoader).load("assets/images/projects/omm/logo.png",t.onLoaded.bind(t)),transparent:!0}),t.plane1=new THREE.Mesh(t.planeGeom1,t.planeMaterial1),t.container.add(t.plane1),t.plane1.position.z=60,t.onLoaded()})}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=450,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=500,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,4==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&TweenMax.to(this.camera.position,.9,{x:0,y:0,z:450,ease:Expo.easeOut})},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i=.8;window.innerWidth<500&&(i=.6),TweenMax.to(e.el,1,{scale:window.innerHeight/405*i,z:.001,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&TweenMax.to(e.camera.position,.9,{x:0,y:0,z:500,ease:Expo.easeInOut}),TweenMax.to(e.el,1,{scale:1,ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=500,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(e.isFullscreen?(this.camera.position.x+=.2*(50*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(50*this.mY)-this.camera.position.y)):(this.camera.position.x+=.2*(100*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(100*this.mY)-this.camera.position.y)),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;TweenMax.set(e.el,{scale:window.innerHeight/405*.8}),this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ThumbTesla=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=500,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbTesla.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(30,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialiasing:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.container.scale.set(1.02,1.02,1.02),this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/tesla/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;this.loader=new THREE.ColladaLoader,this.loader.load("assets/images/projects/tesla/tesla.dae",function(e){for(var i=e.scene.children[0],n=(new THREE.Geometry).fromBufferGeometry(i.geometry),r=0;r<n.faces.length;r++){var s=n.faces[r],a=0;a+=n.vertices[s.a].z,a+=n.vertices[s.b].z,a+=n.vertices[s.c].z,a/=3,s.avgZ=a,n.faceVertexUvs[0][r].avgZ=a}n.faces.sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),n.faceVertexUvs[0].sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),i.geometry=n,i.scale.set(11,11,11);var o=(new THREE.TextureLoader).load("assets/images/projects/tesla/tex2.jpg",t.onLoaded.bind(t));o.minFilter=THREE.LinearFilter;var l=(new THREE.TextureLoader).load("assets/images/projects/tesla/texAlpha2.png",t.onLoaded.bind(t));l.minFilter=THREE.LinearFilter,i.material=new THREE.MeshBasicMaterial({color:16777215,map:o,alphaMap:l,transparent:!0,depthWrite:!1,side:THREE.DoubleSide}),t.container.add(i),t.onLoaded()})}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=450,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=500,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,3==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&TweenMax.to(this.camera.position,.9,{x:0,y:0,z:450,ease:Expo.easeOut})},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i=.8;window.innerWidth<500&&(i=.6);var n="0%";window.innerWidth<500&&(n="-10%"),TweenMax.to(e.el,1,{scale:window.innerHeight/405*i,y:n,z:.001,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&TweenMax.to(e.camera.position,.9,{x:0,y:0,z:500,ease:Expo.easeInOut}),TweenMax.to(e.el,1,{scale:1,y:"0%",ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=500,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(e.isFullscreen?(this.camera.position.x+=.2*(30*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(30*this.mY)-this.camera.position.y)):(this.camera.position.x+=.2*(45*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(45*this.mY)-this.camera.position.y)),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;TweenMax.set(e.el,{scale:window.innerHeight/405*.8}),this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ThumbYakuza=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=500,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbYakuza.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(30,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/yakuza/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;this.container=new THREE.Object3D,this.container.scale.set(.15,.15,.15),this.scene.add(this.container),this.planeGeom1=new THREE.PlaneBufferGeometry(956,1409,1,1),this.planeMaterial1=new THREE.MeshBasicMaterial({map:(new THREE.TextureLoader).load("assets/images/projects/yakuza/kazumi.png",this.onLoaded.bind(this)),transparent:!0}),this.plane1=new THREE.Mesh(this.planeGeom1,this.planeMaterial1),this.plane1.position.y=30,this.container.add(this.plane1),this.planeGeom2=new THREE.PlaneBufferGeometry(1238,392,1,1),this.planeMaterial2=new THREE.MeshBasicMaterial({map:(new THREE.TextureLoader).load("assets/images/projects/yakuza/logo.png",this.onLoaded.bind(this)),transparent:!0}),this.plane2=new THREE.Mesh(this.planeGeom2,this.planeMaterial2),this.plane2.position.y=-300,this.plane2.position.z=100,this.container.add(this.plane2)}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=450,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=500,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,2==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&TweenMax.to(this.camera.position,.9,{x:0,y:0,z:450,ease:Expo.easeOut})},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i=.8;window.innerWidth<500&&(i=.6);var n="0%";window.innerWidth<500&&(n="-10%"),TweenMax.to(e.el,1,{scale:window.innerHeight/405*i,y:n,z:.001,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&TweenMax.to(e.camera.position,.9,{x:0,y:0,z:500,ease:Expo.easeInOut}),TweenMax.to(e.el,1,{scale:1,ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=500,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(e.isFullscreen?(this.camera.position.x+=.2*(50*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(50*this.mY)-this.camera.position.y)):(this.camera.position.x+=.2*(100*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(100*this.mY)-this.camera.position.y)),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;TweenMax.set(e.el,{scale:window.innerHeight/405*.8}),this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ThumbZTE=function(){this.el,this.mX=0,this.mY=0,this.cameraZ=600,this.projectPageBG=document.querySelector(".project-page .project-bg"),this.currLoaded=0,this.init()},BR.ThumbZTE.prototype={init:function(){var e=this;window.innerWidth>500?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(28.55,1,1,1e4),this.camera.position.z=this.cameraZ,this.camera.lookAt(new THREE.Vector3(0,0,0)),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialiasing:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),
this.renderer.setSize(405,405),this.el=this.renderer.domElement,this.container=new THREE.Object3D,this.scene.add(this.container),this.el.addEventListener("mouseenter",function(){e.onOver()}),this.el.addEventListener("mouseleave",function(){e.onOut()}),$(this.el).bind("mousemove",this.onMouseMove.bind(this))):(this.el=new Image,this.el.src="assets/images/projects/zte/thumb.png")},load:function(e){if(this.scene){this.callback=e;var t=this;this.loader=new THREE.ColladaLoader,this.loader.load("assets/images/projects/zte/zte.dae",function(e){for(var i=e.scene.children[0],n=(new THREE.Geometry).fromBufferGeometry(i.geometry),r=0;r<n.faces.length;r++){var s=n.faces[r],a=0;a+=n.vertices[s.a].z,a+=n.vertices[s.b].z,a+=n.vertices[s.c].z,a/=3,s.avgZ=a,n.faceVertexUvs[0][r].avgZ=a}n.faces.sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),n.faceVertexUvs[0].sort(function e(t,i){return t.avgZ<i.avgZ?-1:1}),i.geometry=n,i.scale.set(10,10,10);var o=(new THREE.TextureLoader).load("assets/images/projects/zte/tex.jpg",t.onLoaded.bind(t));o.repeat.x=2,o.repeat.y=2,o.offset.x=-.5,o.offset.y=-.5,o.minFilter=THREE.LinearFilter;var l=(new THREE.TextureLoader).load("assets/images/projects/zte/texAlpha.png",t.onLoaded.bind(t));l.repeat.x=2,l.repeat.y=2,o.offset.x=-.5,o.offset.y=-.5,l.minFilter=THREE.LinearFilter,i.material=new THREE.MeshBasicMaterial({color:16777215,map:o,alphaMap:l,transparent:!0,depthWrite:!1}),t.container.add(i),t.onLoaded()})}},onOver:function(){var e=this;this.scene&&(e.isFullscreen||(e.cameraZ=550,e.TO&&clearTimeout(e.TO),e.shouldRender=!0,e.render()))},onOut:function(){var e=this;this.scene&&(e.isFullscreen||(e.mX=0,e.mY=0,e.cameraZ=600,e.TO=setTimeout(function(){e.shouldRender=!1},300)))},onLoaded:function(){this.currLoaded++,3==this.currLoaded&&this.callback&&this.callback.call(),this.render()},onMouseMove:function(e){var t=this,i=t.el.getBoundingClientRect();t.mX=(e.clientX-i.left-i.width/2)/i.width,t.mY=(e.clientY-i.top-i.height/2)/i.height},prepForFullscreen:function(e){this.isAnimating=!0,this.isFullscreen=!0,this.scene&&TweenMax.to(this.camera.position,.9,{x:0,y:0,z:550,ease:Expo.easeOut})},goFullscreen:function(){var e=this,t=e.el.getBoundingClientRect();this.scene&&e.renderer.setSize(window.innerHeight,window.innerHeight),e.shouldRender=!1;var i="0%";window.innerWidth<500&&(i="-10%"),TweenMax.to(e.el,1,{scale:window.innerHeight/405*.65,y:i,z:.001,ease:Expo.easeInOut,onComplete:function(){e.isAnimating=!1,e.shouldRender=!0,e.render(),$(e.el).unbind("mousemove"),$(e.projectPageBG).bind("mousemove",e.onMouseMove.bind(e))}})},prepCloseFullscreen:function(){var e=this;e.isAnimating=!0,e.mX=e.mY=0,this.scene&&TweenMax.to(e.camera.position,.9,{x:0,y:0,z:600,ease:Expo.easeInOut}),TweenMax.to(e.el,1,{scale:1,y:"0%",ease:Expo.easeInOut})},closeFullscreen:function(){var e=this;$(e.projectPageBG).unbind("mousemove"),$(e.el).bind("mousemove",e.onMouseMove.bind(e)),this.scene&&(e.renderer.setSize(405,405),e.cameraZ=600,e.mX=0,e.mY=0,e.render()),e.shouldRender=!1,e.isFullscreen=!1,e.isAnimating=!1},render:function(){var e=this;this.scene&&(e.isAnimating||(this.camera.position.x+=.2*(100*this.mX-this.camera.position.x),this.camera.position.y+=.2*(-(100*this.mY)-this.camera.position.y),this.camera.position.z+=.2*(this.cameraZ-this.camera.position.z)),this.camera.lookAt(new THREE.Vector3(0,0,50)),this.renderer.render(this.scene,this.camera),e.shouldRender&&requestAnimationFrame(this.render.bind(this)))},resize:function(){var e=this;this.scene&&TweenMax.set(e.el,{scale:window.innerHeight/405*.65}),e.renderer.setSize(window.innerHeight,window.innerHeight)}};var BR=BR||{};BR.ContactBackground=function(e){this.mX=0,this.mY=0,this.callback=e,this.init()},BR.ContactBackground.prototype={init:function(){var e=this;this.el3D=new THREE.Object3D,this.el3D.position.z=-10,this.el3D.scale.set(.01,.01,.01),this.colorStart=new THREE.Color(1094621),this.colorEnd=new THREE.Color(11989247),this.colorMiddle=new THREE.Color((this.colorStart.r+this.colorEnd.r)/2,(this.colorStart.g+this.colorEnd.g)/2,(this.colorStart.b+this.colorEnd.b)/2),this.planeGeom=new THREE.PlaneBufferGeometry(3686.4,1843.2,10,10),this.planeMaterial=new THREE.MeshBasicMaterial({color:16777215,alphaMap:(new THREE.TextureLoader).load("assets/images/contact/alpha.jpg",function(){e.callback.call()}),opacity:.2,transparent:!0,side:THREE.DoubleSide}),this.planeMesh=new THREE.Mesh(this.planeGeom,this.planeMaterial),this.planeMesh.rotation.x=.7*-(Math.PI/2),this.el3D.add(this.planeMesh)},goDark:function(e){this.planeMaterial.wireframe=!0},goLight:function(){this.planeMaterial.wireframe=!1},show:function(){var e=this,t=site.renderer.getClearColor();site.scene.add(e.el3D),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:10,far:20})},hide:function(e){var t=this;TweenMax.to(site.scene.fog,.5,{near:0,far:0,onComplete:function(){site.scene.remove(t.el3D),e.call()}})},update:function(){}};var BR=BR||{};BR.BlueBackground=function(e){this.mX=0,this.mY=0,this.callback=e,this.init()},BR.BlueBackground.prototype={init:function(){this.el3D=new THREE.Object3D,this.el3D.position.y=-2,this.el3D.scale.set(.01,.01,.01),this.colorStart=new THREE.Color(1094621),this.colorEnd=new THREE.Color(11989247),this.colorMiddle=new THREE.Color((this.colorStart.r+this.colorEnd.r)/2,(this.colorStart.g+this.colorEnd.g)/2,(this.colorStart.b+this.colorEnd.b)/2),this.planeGeom=new THREE.PlaneBufferGeometry(2e3,2e3,300,300),this.planeMaterial=new THREE.ShaderMaterial({uniforms:{colorTop:{value:this.colorStart},colorBottom:{value:this.colorEnd},time:{value:0},alpha:{value:1},amplitude:{value:50},noiseRepeat:{value:.006},fogColor:{value:site.scene.fog.color},fogNear:{value:site.scene.fog.near},fogFar:{value:site.scene.fog.far}},vertexShader:BR.WaterShader.vertexShader,fragmentShader:BR.WaterShader.fragmentShader,fog:!0,wireframe:!1,transparent:!0}),this.planeMesh=new THREE.Mesh(this.planeGeom,this.planeMaterial),this.planeMesh.rotation.x=-Math.PI/2,this.el3D.add(this.planeMesh),this.callback.call()},goDark:function(e){this.planeMaterial.wireframe=!0},goLight:function(){this.planeMaterial.wireframe=!1},show:function(){var e=this,t=site.renderer.getClearColor();site.isDark?(site.scene.add(e.el3D),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:5,far:10})):TweenMax.to(t,1,{r:this.colorMiddle.r,g:this.colorMiddle.g,b:this.colorMiddle.b,onComplete:function(){site.scene.add(e.el3D),site.scene.fog=new THREE.Fog("rgb("+Math.floor(255*e.colorMiddle.r)+","+Math.floor(255*e.colorMiddle.g)+","+Math.floor(255*e.colorMiddle.b)+")",0,0),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:5,far:10})}}),document.querySelector("#section-work").classList.add("blue"),document.querySelector(".project-page").classList.add("blue")},hide:function(e){var t=this;TweenMax.to(site.scene.fog,.5,{near:0,far:0,onComplete:function(){site.scene.remove(t.el3D),e.call()}}),document.querySelector("#section-work").classList.remove("blue"),document.querySelector(".project-page").classList.remove("blue")},update:function(){this.planeMaterial.uniforms.time.value+=.005}};var BR=BR||{};BR.OrangeBackground=function(e){this.mX=0,this.mY=0,this.jellys=[],this.callback=e,this.init()},BR.OrangeBackground.prototype={init:function(){var e=this;this.el3D=new THREE.Object3D,this.el3D.scale.set(.01,.01,.01),this.colorEnd=new THREE.Color(15688448),this.colorStart=new THREE.Color(16563084),this.colorMiddle=new THREE.Color((this.colorStart.r+this.colorEnd.r)/2,(this.colorStart.g+this.colorEnd.g)/2,(this.colorStart.b+this.colorEnd.b)/2),this.loader=new THREE.GLTFLoader,this.loader.load("assets/3d/leaf.glb",function(t){e.roseGeometry=t.scene.children[0].children[0].geometry;for(var i=0;i<1500;i++){var n=new THREE.ShaderMaterial({uniforms:{colorTop:{value:e.colorStart},colorBottom:{value:e.colorEnd},time:{value:100*Math.random()},alpha:{value:1},amplitude:{value:20},noiseRepeat:{value:.01},fogColor:{value:site.scene.fog.color},fogNear:{value:site.scene.fog.near},fogFar:{value:site.scene.fog.far}},vertexShader:BR.WaterShader.vertexShader,fragmentShader:BR.WaterShader.fragmentShader,transparent:!0,fog:!0,side:THREE.DoubleSide,wireframe:!1}),r=new THREE.Mesh(e.roseGeometry,n),s=Math.random()*Math.PI*2,a=1e3*Math.random()+500;r.position.z=Math.sin(s)*a,r.position.x=Math.cos(s)*a,r.position.y=3e3*(Math.random()-.5),r.speed=1.5*Math.random()+1.5,r.speedRX=.01*Math.random()+.001,r.speedRY=.01*Math.random()+.001,r.rotation.y=Math.random()*Math.PI*2,r.rotation.x=Math.random()*Math.PI*2;var o=.5*Math.random()+.5;r.scale.set(o,o,o),e.el3D.add(r),e.jellys.push(r)}e.callback.call()})},goDark:function(e){this.jellys.forEach(function(e,t){e.material.wireframe=!0})},goLight:function(){this.jellys.forEach(function(e,t){e.material.wireframe=!1})},show:function(){var e=this,t=site.renderer.getClearColor();site.isDark?(site.scene.add(e.el3D),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:10,far:15})):TweenMax.to(t,1,{r:this.colorMiddle.r,g:this.colorMiddle.g,b:this.colorMiddle.b,onComplete:function(){site.scene.add(e.el3D),site.scene.fog=new THREE.Fog("rgb("+Math.floor(255*e.colorMiddle.r)+","+Math.floor(255*e.colorMiddle.g)+","+Math.floor(255*e.colorMiddle.b)+")",0,0),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:10,far:15})}}),document.querySelector("#section-work").classList.add("orange"),document.querySelector(".project-page").classList.add("orange")},hide:function(e){var t=this;TweenMax.to(site.scene.fog,.5,{near:0,far:0,onComplete:function(){site.scene.remove(t.el3D),e.call()}}),document.querySelector("#section-work").classList.remove("orange"),document.querySelector(".project-page").classList.remove("orange")},update:function(){for(var e=this,t=0;t<this.jellys.length;t++){var i=e.jellys[t];i.position.y-=i.speed,i.position.y<-1500&&(i.position.y=1500),i.rotation.x+=i.speedRX,i.rotation.y+=i.speedRY,i.material.uniforms.time.value+=.002*i.speed}}};var BR=BR||{};BR.RedBackground=function(e){this.mX=0,this.mY=0,this.callback=e,this.init()},BR.RedBackground.prototype={init:function(){var e=this;this.el3D=new THREE.Object3D,this.el3D.scale.set(.01,.01,.01),this.colorEnd=new THREE.Color(16480640),this.colorStart=new THREE.Color(12129822),this.colorMiddle=new THREE.Color((this.colorStart.r+this.colorEnd.r)/2,(this.colorStart.g+this.colorEnd.g)/2,(this.colorStart.b+this.colorEnd.b)/2),this.light=new THREE.HemisphereLight(this.colorStart,this.colorEnd,1),this.loader=new THREE.GLTFLoader,this.loader.load("assets/3d/rose.glb",function(t){e.roseMesh=t.scene.children[0].children[0],e.roseMaterial=new THREE.ShaderMaterial({uniforms:{colorTop:{value:e.colorStart},colorBottom:{value:e.colorEnd},time:{value:0},alpha:{value:0},amplitude:{value:20},noiseRepeat:{value:.01}},vertexShader:BR.WaterShader.vertexShader,fragmentShader:BR.WaterShader.fragmentShader,transparent:!0,side:THREE.DoubleSide,wireframe:!1}),e.planeMaterial=e.roseMaterial,e.roseMesh.position.z=-1e3,e.roseMesh.scale.set(3,3,3),e.roseMesh.rotation.y=Math.PI,e.roseMesh.material=e.roseMaterial,e.el3D.add(e.roseMesh),e.callback.call()})},goDark:function(e){this.planeMaterial.wireframe=!0},goLight:function(){this.planeMaterial.wireframe=!1},show:function(){var e=this,t=site.renderer.getClearColor();site.isDark?(site.scene.add(e.el3D),TweenMax.to(e.planeMaterial.uniforms.alpha,1.5,{value:1})):(site.scene.fog=new THREE.Fog("rgb("+Math.floor(255*e.colorMiddle.r)+","+Math.floor(255*e.colorMiddle.g)+","+Math.floor(255*e.colorMiddle.b)+")",1e4,1e4),TweenMax.to(t,1,{r:this.colorMiddle.r,g:this.colorMiddle.g,b:this.colorMiddle.b,onComplete:function(){site.scene.add(e.el3D),TweenMax.to(e.planeMaterial.uniforms.alpha,1.5,{value:1})}})),document.querySelector("#section-work").classList.add("red"),document.querySelector(".project-page").classList.add("red")},hide:function(e){var t=this;TweenMax.to(this.planeMaterial.uniforms.alpha,.5,{value:0,onComplete:function(){site.scene.remove(t.el3D),e.call()}}),document.querySelector("#section-work").classList.remove("red"),document.querySelector(".project-page").classList.remove("red")},update:function(){this.roseMaterial&&(this.roseMaterial.uniforms.time.value+=.005)}};var BR=BR||{};BR.YellowBackground=function(e){this.mX=0,this.mY=0,this.callback=e,this.init()},BR.YellowBackground.prototype={init:function(){this.el3D=new THREE.Object3D,this.el3D.scale.set(.01,.01,.01),this.colorEnd=new THREE.Color(16773543),this.colorStart=new THREE.Color(16767012),this.colorMiddle=new THREE.Color((this.colorStart.r+this.colorEnd.r)/2,(this.colorStart.g+this.colorEnd.g)/2,(this.colorStart.b+this.colorEnd.b)/2),this.planeGeom=new THREE.IcosahedronBufferGeometry(400,5),this.planeMaterial=new THREE.ShaderMaterial({uniforms:{colorTop:{value:this.colorStart},colorBottom:{value:this.colorEnd},time:{value:0},alpha:{value:0},amplitude:{value:50},noiseRepeat:{value:.015}},vertexShader:BR.WaterShader.vertexShader,fragmentShader:BR.WaterShader.fragmentShader,fog:!1,transparent:!0,wireframe:!1}),this.planeMesh=new THREE.Mesh(this.planeGeom,this.planeMaterial),this.planeMesh.position.z=-1e3,this.el3D.add(this.planeMesh),this.callback.call()},goDark:function(e){this.planeMaterial.wireframe=!0},goLight:function(){this.planeMaterial.wireframe=!1},start:function(){},stop:function(){},show:function(){var e=this,t=site.renderer.getClearColor();site.isDark?(site.scene.add(e.el3D),TweenMax.to(e.planeMaterial.uniforms.alpha,1.5,{value:1})):(site.scene.fog=new THREE.Fog("rgb("+Math.floor(255*e.colorMiddle.r)+","+Math.floor(255*e.colorMiddle.g)+","+Math.floor(255*e.colorMiddle.b)+")",1e4,1e4),TweenMax.to(t,1,{r:this.colorMiddle.r,g:this.colorMiddle.g,b:this.colorMiddle.b,onComplete:function(){site.scene.add(e.el3D),TweenMax.to(e.planeMaterial.uniforms.alpha,1.5,{value:1})}})),document.querySelector("#section-work").classList.add("yellow"),document.querySelector(".project-page").classList.add("yellow")},hide:function(e){var t=this;TweenMax.to(this.planeMaterial.uniforms.alpha,.5,{value:0,onComplete:function(){site.scene.remove(t.el3D),e.call()}}),document.querySelector("#section-work").classList.remove("yellow"),document.querySelector(".project-page").classList.remove("yellow")},onMouseMove:function(e){},onResize:function(){},update:function(){this.planeMaterial.uniforms.time.value+=.01}};var BR=BR||{};BR.PurpleBackground=function(e){this.mX=0,this.mY=0,this.jellys=[],this.callback=e,this.init()},BR.PurpleBackground.prototype={init:function(){var e=this;this.el3D=new THREE.Object3D,this.el3D.scale.set(.01,.01,.01),this.colorEnd=new THREE.Color(14669309),this.colorStart=new THREE.Color(8084449),this.colorMiddle=new THREE.Color((this.colorStart.r+this.colorEnd.r)/2,(this.colorStart.g+this.colorEnd.g)/2,(this.colorStart.b+this.colorEnd.b)/2),this.light=new THREE.HemisphereLight(this.colorStart,this.colorEnd,1),this.loader=new THREE.GLTFLoader,this.loader.load("assets/3d/jellyfish.glb",function(t){e.roseGeometry=t.scene.children[0].children[0].geometry;for(var i=0;i<50;i++){var n=new THREE.ShaderMaterial({uniforms:{colorTop:{value:e.colorStart},colorBottom:{value:e.colorEnd},time:{value:100*Math.random()},alpha:{value:1},amplitude:{value:50},noiseRepeat:{value:.005},fogColor:{value:site.scene.fog.color},fogNear:{value:site.scene.fog.near},fogFar:{value:site.scene.fog.far}},vertexShader:BR.PurpleShader.vertexShader,fragmentShader:BR.PurpleShader.fragmentShader,transparent:!0,fog:!0,side:THREE.DoubleSide,wireframe:!1}),r=new THREE.Mesh(e.roseGeometry,n),s=Math.random()*Math.PI*2,a=1e3*Math.random()+500;r.position.z=1e3*-Math.random()-500,r.position.x=Math.cos(s)*a,r.position.y=3e3*(Math.random()-.5),r.speed=1.5*Math.random()+1.5,r.rotation.y=Math.random()*Math.PI*2;var o=.8*(.4*Math.random()+.8);r.scale.set(o,o,o),e.el3D.add(r),e.jellys.push(r)}e.callback.call()})},goDark:function(e){this.jellys.forEach(function(e,t){e.material.wireframe=!0})},goLight:function(){this.jellys.forEach(function(e,t){e.material.wireframe=!1})},start:function(){},stop:function(){},show:function(){var e=this,t=site.renderer.getClearColor();site.isDark?(site.scene.add(e.el3D),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:10,far:15})):TweenMax.to(t,1,{r:this.colorMiddle.r,g:this.colorMiddle.g,b:this.colorMiddle.b,onComplete:function(){site.scene.add(e.el3D),site.scene.fog=new THREE.Fog("rgb("+Math.floor(255*e.colorMiddle.r)+","+Math.floor(255*e.colorMiddle.g)+","+Math.floor(255*e.colorMiddle.b)+")",0,0),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:10,far:15})}}),document.querySelector("#section-work").classList.add("purple"),document.querySelector(".project-page").classList.add("purple")},hide:function(e){var t=this;TweenMax.to(site.scene.fog,.5,{near:0,far:0,onComplete:function(){site.scene.remove(t.el3D),e.call()}}),document.querySelector("#section-work").classList.remove("purple"),document.querySelector(".project-page").classList.remove("purple")},onMouseMove:function(e){},onResize:function(){},update:function(){for(var e=this,t=0;t<this.jellys.length;t++){var i=e.jellys[t];i.position.y+=i.speed,i.position.y>1500&&(i.position.y=-1500),i.material.uniforms.time.value+=.002*i.speed}}};var BR=BR||{};BR.GreenBackground=function(e){this.mX=0,this.mY=0,this.callback=e,this.init()},BR.GreenBackground.prototype={init:function(){this.el3D=new THREE.Object3D,this.el3D.position.y=-2,this.el3D.scale.set(.01,.01,.01),this.colorStart=new THREE.Color(11334581),this.colorEnd=new THREE.Color(4563538),this.colorMiddle=new THREE.Color((this.colorStart.r+this.colorEnd.r)/2,(this.colorStart.g+this.colorEnd.g)/2,(this.colorStart.b+this.colorEnd.b)/2),this.planeGeom=new THREE.PlaneBufferGeometry(5e3,5e3,500,500),this.planeMaterial=new THREE.ShaderMaterial({uniforms:{colorTop:{value:this.colorStart},colorBottom:{value:this.colorEnd},time:{value:0},alpha:{value:1},amplitude:{value:1e3},noiseRepeat:{value:.05},fogColor:{value:site.scene.fog.color},fogNear:{value:site.scene.fog.near},fogFar:{value:site.scene.fog.far}},vertexShader:BR.MountainShader.vertexShader,fragmentShader:BR.MountainShader.fragmentShader,fog:!0,wireframe:!1,transparent:!0}),this.planeMesh=new THREE.Mesh(this.planeGeom,this.planeMaterial),this.planeMesh.rotation.x=-Math.PI/2*.9,this.planeMesh.position.y=-600,this.el3D.add(this.planeMesh),this.callback.call()},goDark:function(e){this.planeMaterial.wireframe=!0},goLight:function(){this.planeMaterial.wireframe=!1},show:function(){var e=this,t=site.renderer.getClearColor();site.isDark?(site.scene.add(e.el3D),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:12,far:25})):TweenMax.to(t,1,{r:this.colorMiddle.r,g:this.colorMiddle.g,b:this.colorMiddle.b,onComplete:function(){site.scene.add(e.el3D),site.scene.fog=new THREE.Fog("rgb("+Math.floor(255*e.colorMiddle.r)+","+Math.floor(255*e.colorMiddle.g)+","+Math.floor(255*e.colorMiddle.b)+")",0,0),TweenMax.fromTo(site.scene.fog,1.5,{near:0,far:0},{near:12,far:25})}}),document.querySelector("#section-work").classList.add("green"),document.querySelector(".project-page").classList.add("green")},hide:function(e){var t=this;TweenMax.to(site.scene.fog,.5,{near:0,far:0,onComplete:function(){site.scene.remove(t.el3D),e.call()}}),document.querySelector("#section-work").classList.remove("green"),document.querySelector(".project-page").classList.remove("green")},update:function(){this.planeMaterial.uniforms.time.value+=.005}};var BR=BR||{};BR.Site=function(){this.mouse=new THREE.Vector2,this.interactiveObjects=[],this.mX=this.mY=0,this.wrapperEl=document.querySelector("#background"),this.sections=[],this.currSection=0,this.bgColor="#ffffff"},BR.Site.prototype={init:function(){var e=this;this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1e4),this.camera.layers.enable(1),this.camera.position.z=0,this.camera.position.y=0,this.cameraTarget=new THREE.Vector3(0,0,-10),this.camera.lookAt(this.cameraTarget),this.scene.add(this.camera),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(.8*window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(15856113,1),this.scene.fog=new THREE.Fog(15856113,5e3,6e3),this.wrapperEl.appendChild(this.renderer.domElement),this.hBlur=new THREE.ShaderPass(THREE.HorizontalBlurShader),this.hBlur.enabled=!1,this.hBlur.uniforms.h.value=0,this.vBlur=new THREE.ShaderPass(THREE.VerticalBlurShader),this.vBlur.enabled=!1,this.vBlur.uniforms.v.value=0,this.renderPass=new THREE.RenderPass(this.scene,this.camera);var t=new THREE.ShaderPass(THREE.CopyShader);t.renderToScreen=!0,this.composer=new THREE.EffectComposer(this.renderer),this.composer.addPass(this.renderPass),this.composer.addPass(this.hBlur),this.composer.addPass(this.vBlur),this.composer.addPass(t),this.sectionHome=new BR.SectionHome,this.sectionAbout=new BR.SectionAbout,this.sectionClients=new BR.SectionClients,this.sectionWork=new BR.SectionWork,this.sectionContact=new BR.SectionContact,this.sections.push(this.sectionHome),this.sections.push(this.sectionAbout),this.sections.push(this.sectionWork),this.sections.push(this.sectionClients),this.sections.push(this.sectionContact),this.sectionTitle=new BR.SectionTitle(this),this.nav=new BR.Nav,$(window).resize(this.onResize.bind(this)),$(window).mousemove(this.onMouseMove.bind(this)),window.ondevicemotion=this.onDeviceMotion.bind(this),document.body.addEventListener("touchstart",function(t){e.startY=t.touches[0].clientY,e.startX=t.touches[0].clientX}),document.body.addEventListener("touchmove",function(t){t.preventDefault(),e.scrollLock||(e.deltaY=e.startY-t.touches[0].clientY,e.deltaX=e.startX-t.touches[0].clientX,Math.abs(e.deltaY)>Math.abs(e.deltaX)&&(e.deltaY>3&&!e.isAnimating&&e.currSection+1<e.sections.length&&(e.isAnimating=!0,e.getSection(e.currSection+1),e.sectionTitle.getSection(e.currSection+1)),e.deltaY<-3&&!e.isAnimating&&e.currSection-1>=0&&(e.isAnimating=!0,e.getSection(e.currSection-1),e.sectionTitle.getSection(e.currSection-1))))},{passive:!1}),$(document.body).mousewheel(function(t){e.scrollLock||Math.abs(t.deltaY)>Math.abs(t.deltaX)&&(-t.deltaY>2&&!e.isAnimating&&e.currSection+1<e.sections.length&&(e.isAnimating=!0,e.getSection(e.currSection+1),e.sectionTitle.getSection(e.currSection+1)),-t.deltaY<-2&&!e.isAnimating&&e.currSection-1>=0&&(e.isAnimating=!0,e.getSection(e.currSection-1),e.sectionTitle.getSection(e.currSection-1)))}),this.shouldLoop=!0,this.loop(),document.querySelector(".brlogo").addEventListener("click",function(){0!=e.currSection&&(e.isAnimating=!0,e.sectionWork.lastOpened?(e.sectionWork.onProjectClose(),setTimeout(function(){e.getSection(0)},1e3)):e.getSection(0))},!1),this.date=new Date},updateLoad:function(e){this.nav&&this.nav.updatePerc(e)},onLoaded:function(){var e=this;this.nav.updatePerc(1),this.nav.animateIn(),setTimeout(function(){e.sectionWork.loadThumbs()},5e3)},goDark:function(){this.isDark=!0,this.renderer.setClearColor(0,1),this.scene.fog.color=new THREE.Color(0),this.sections[0].goDark(),document.body.classList.add("dark")},getSection:function(e){var t=this;this.nav.getSection(e,e>t.currSection),this.sections[this.currSection].animateOut(function(){t.currSection=e,t.sections[t.currSection].animateIn()}),4==e?(this.isContact=!0,this.sections[0].getContact(),this.isBlurred=!1,t.noBGAnim=!1,TweenMax.to(this.camera.position,1,{z:0,ease:Quint.easeOut}),TweenMax.to(this.hBlur.uniforms.h,1,{value:0}),TweenMax.to(this.vBlur.uniforms.v,1,{value:0,onComplete:function(){t.vBlur.enabled=!1,t.hBlur.enabled=!1}})):this.isContact&&(this.isContact=!1,this.sections[0].closeContact(),this.isBlurred=!0,this.vBlur.enabled=!0,this.hBlur.enabled=!0,TweenMax.to(this.camera.position,1,{z:2,ease:Quint.easeOut}),TweenMax.to(this.hBlur.uniforms.h,1,{value:10/window.innerWidth}),TweenMax.to(this.vBlur.uniforms.v,1,{value:10/window.innerHeight,onComplete:function(){}})),e>0&&!this.isBlurred&&!this.isContact&&(this.isBlurred=!0,this.vBlur.enabled=!0,this.hBlur.enabled=!0,TweenMax.to(this.camera.position,1,{z:2,ease:Quint.easeOut}),TweenMax.to(this.hBlur.uniforms.h,1,{value:10/window.innerWidth}),TweenMax.to(this.vBlur.uniforms.v,1,{value:10/window.innerHeight,onComplete:function(){}}),document.querySelector(".brlogo").classList.add("active")),0==e&&this.isBlurred&&(this.isBlurred=!1,t.noBGAnim=!1,TweenMax.to(this.camera.position,1,{z:0,ease:Quint.easeOut}),TweenMax.to(this.hBlur.uniforms.h,1,{value:0}),TweenMax.to(this.vBlur.uniforms.v,1,{value:0,onComplete:function(){t.vBlur.enabled=!1,t.hBlur.enabled=!1}}),document.querySelector(".brlogo").classList.remove("active")),2==e?TweenMax.delayedCall(1,function(){t.noBGAnim=!0}):this.noBGAnim=!1,setTimeout(function(){t.isAnimating=!1},1500)},onMouseMove:function(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=2*-(e.clientY/window.innerHeight)+1,this.mX=.003*(e.clientX-window.innerWidth/2),this.mY=.003*(e.clientY-window.innerHeight/2)},onDeviceMotion:function(e){var t=this,i=e.rotationRate;if(null!=i){var n=Math.round(i.alpha),r=Math.round(i.beta),s=t.mX-.1*(t.mX+.12*n-t.mX),a=t.mY+.1*(t.mY+.12*r-t.mY);s+=1*-s,a+=1*-a,a=t.mY+.5*i.alpha,s=t.mX+.5*i.beta,t.mX=.05*s,t.mY=.05*a}},loop:function(){var e=this;this.shouldLoop&&(requestAnimationFrame(this.loop.bind(this)),this.sections[0].update(),0!=this.currSection&&this.sections[this.currSection].update(),e.noBGAnim||(this.camera.position.x+=.05*(this.mX-this.camera.position.x),this.camera.position.y+=.05*(-this.mY-this.camera.position.y),this.camera.lookAt(this.cameraTarget),0==e.vBlur.uniforms.v.value?(this.renderer.render(this.scene,this.camera),this.renderer.getPixelRatio()==.5*window.devicePixelRatio&&this.renderer.setPixelRatio(.8*window.devicePixelRatio)):1==!e.vBlur.uniforms.v.value?(this.composer.render(),this.renderer.getPixelRatio()==.8*window.devicePixelRatio&&this.renderer.setPixelRatio(.5*window.devicePixelRatio)):Date.now()-this.date>1e3/24&&(this.composer.render(),this.date=Date.now())))},onResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.composer.setSize(window.innerWidth,window.innerHeight),this.sectionHome.onResize(),0!=this.currSection&&this.sections[this.currSection].onResize()}};var site=new BR.Site;site.init(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&document.body.classList.add("safari");